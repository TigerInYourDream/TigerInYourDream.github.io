{"meta":{"title":"TID's Blog","subtitle":null,"description":"æ¯ä¸€ç¯‡æ–‡ç« éƒ½æ˜¯ä¸€ç§è¿›æ­¥ï¼Œæ¯ä¸€å¥æ„Ÿæ…¨éƒ½æ˜¯ä¸€æ¬¡æ€è€ƒ","author":"TigerInYourDream","url":"https://imzy.vip","root":"/"},"pages":[{"title":"categories","date":"2020-05-12T10:24:44.000Z","updated":"2025-07-31T02:30:04.388Z","comments":true,"path":"categories/index-1.html","permalink":"https://imzy.vip/categories/index-1.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2019-03-25T00:51:33.000Z","updated":"2025-07-31T02:30:04.388Z","comments":true,"path":"categories/index.html","permalink":"https://imzy.vip/categories/index.html","excerpt":"","text":""},{"title":"å‹é“¾","date":"2020-11-26T11:21:35.000Z","updated":"2025-07-31T02:30:04.388Z","comments":true,"path":"friends/index.html","permalink":"https://imzy.vip/friends/index.html","excerpt":"","text":"æ¨èåšå®¢CPP/UE : Zâ€™s Blog"},{"title":"ä¸€è¨€","date":"2019-03-25T09:32:23.000Z","updated":"2025-07-31T02:30:04.400Z","comments":true,"path":"motto/index.html","permalink":"https://imzy.vip/motto/index.html","excerpt":"","text":"ä½¿ç”¨gistç®¡ç†ä¸€è¨€"},{"title":"æ ‡ç­¾","date":"2019-03-25T00:53:36.000Z","updated":"2025-07-31T02:30:04.400Z","comments":true,"path":"tags/index.html","permalink":"https://imzy.vip/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Logout Issue","slug":"Logout-Issue","date":"2025-07-31T10:22:47.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/64160/","link":"","permalink":"https://imzy.vip/posts/64160/","excerpt":"Logout IssuesLogout IssuesBefore describing the logout issues, letâ€™s define two concepts: logout: Clicking the logout button to exit robrix by interacting with matrix shut down: Clicking x to exit the robrix processS The Earliest â€˜Dead-Poolâ€™ Issue in Logouthttps://github.com/project-robius/robrix/pull/432#discussion\\_r2171202111The commit hash at that time was e1f80eaThe key code was as follows: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124/// Logs out the current user and prepares the application for a new login session.////// Performs server-side logout, cleans up client state, closes all tabs,/// and restarts the Matrix runtime. Reports success or failure via LoginAction.////// # Parameters/// - is_desktop - Boolean indicating if the current UI mode is desktop (true) or mobile (false).////// # Returns/// - Ok(()) - Logout succeeded (possibly with cleanup warnings)/// - Err(...) - Logout failed with detailed errorasync fn logout_and_refresh(is_desktop :bool) -&gt; Result&lt;()&gt; &#123; // Collect all errors encountered during the logout process let mut errors = Vec::new(); log!(&quot;Starting logout process...&quot;); let Some(client) = get_client() else &#123; let error_msg = &quot;Logout failed: No active client found&quot;; log!(&quot;Error: &#123;&#125;&quot;, error_msg); Cx::post_action(LogoutAction::LogoutFailure(error_msg.to_string())); return Err(anyhow::anyhow!(error_msg)); &#125;; if !client.matrix_auth().logged_in() &#123; let error_msg = &quot;Client not logged in, skipping server-side logout&quot;; log!(&quot;Error: &#123;&#125;&quot;, error_msg); Cx::post_action(LogoutAction::LogoutFailure(error_msg.to_string())); return Err(anyhow::anyhow!(error_msg)); &#125; get_sync_service().unwrap().stop().await; log!(&quot;Performing server-side logout...&quot;); match tokio::time::timeout(tokio::time::Duration::from_secs(5), client.matrix_auth().logout()).await &#123; Ok(Ok(_)) =&gt; &#123; log!(&quot;Server-side logout successful.&quot;) &#125;, Ok(Err(e)) =&gt; &#123; let error_msg = format!(&quot;Server-side logout failed: &#123;&#125;. Please try again later&quot;, e); log!(&quot;Error :&#123;&#125;&quot;, error_msg); Cx::post_action(LogoutAction::LogoutFailure(error_msg.to_string())); return Err(anyhow::anyhow!(error_msg)); &#125;, Err(_) =&gt; &#123; let error_msg = &quot;Server-side logout timed out after 5 seconds. Please try again later&quot;; log!(&quot;Error: &#123;&#125;&quot;, error_msg); Cx::post_action(LogoutAction::LogoutFailure(error_msg.to_string())); return Err(anyhow::anyhow!(error_msg)); &#125;, &#125; // Clean up client state and caches log!(&quot;Cleaning up client state and caches...&quot;); CLIENT.lock().unwrap().take(); SYNC_SERVICE.lock().unwrap().take(); TOMBSTONED_ROOMS.lock().unwrap().clear(); IGNORED_USERS.lock().unwrap().clear(); DEFAULT_SSO_CLIENT.lock().unwrap().take(); // Note: Taking REQUEST_SENDER closes the channel sender, causing the async_worker task to exit its loop // This triggers the &quot;async_worker task ended unexpectedly&quot; error in the monitor task, but this is expected during logout REQUEST_SENDER.lock().unwrap().take(); log!(&quot;Client state and caches cleared after successful server logout.&quot;); // Desktop UI has tabs that must be properly closed, while mobile UI has no tabs concept. if is_desktop &#123; log!(&quot;Requesting to close all tabs in desktop&quot;); let (tx, rx) = oneshot::channel::&lt;bool&gt;(); Cx::post_action(MainDesktopUiAction::CloseAllTabs &#123; on_close_all: tx &#125;); match rx.await &#123; Ok(_) =&gt; &#123; log!(&quot;Received signal that the MainDesktopUI successfully closed all tabs&quot;); &#125;, Err(e)=&gt; &#123; let error_msg = format!(&quot;Close all tab failed &#123;e&#125;&quot;); log!(&quot;Error :&#123;&#125;&quot;, error_msg); Cx::post_action(LogoutAction::LogoutFailure(error_msg.to_string())); return Err(anyhow::anyhow!(error_msg)); &#125;, &#125; &#125; log!(&quot;Deleting latest user ID file...&quot;); // We delete latest_user_id here for the following reasons: // 1. we delete the latest user ID such that Robrix won&#x27;t auto-login the next time it starts, // 2. we don&#x27;t delete the session file, such that the user could re-login using that session in the future. if let Err(e) = delete_latest_user_id().await &#123; errors.push(e.to_string()); &#125; shutdown_background_tasks().await; // Restart the Matrix tokio runtime // This is a critical step; failure might prevent future logins log!(&quot;Restarting Matrix tokio runtime...&quot;); if start_matrix_tokio().is_err() &#123; // Send failure notification and return immediately, as the runtime is fundamental let final_error_msg = String::from(&quot;Logout succeeded, but Robrix could not re-connect to the Matrix backend. Please exit and restart Robrix&quot;); Cx::post_action(LogoutAction::LogoutFailure(final_error_msg.clone())); return Err(anyhow::anyhow!(final_error_msg)); &#125; log!(&quot;Matrix tokio runtime restarted successfully.&quot;); // --- Final result handling --- if errors.is_empty() &#123; // Complete success log!(&quot;Logout process completed successfully.&quot;); Cx::post_action(LogoutAction::LogoutSuccess); Ok(()) &#125; else &#123; // Partial success (server logout ok, but cleanup errors) let warning_msg = format!( &quot;Logout completed, but some cleanup operations failed: &#123;&#125;&quot;, errors.join(&quot;; &quot;) ); log!(&quot;Warning: &#123;&#125;&quot;, warning_msg); Cx::post_action(LogoutAction::LogoutSuccess); Ok(()) &#125;&#125;async fn shutdown_background_tasks() &#123; let mut rt_guard = TOKIO_RUNTIME.lock().unwrap(); if let Some(existing_rt) = rt_guard.take() &#123; existing_rt.shutdown_background(); &#125;&#125; The operations that triggered the panic were: Desktop mode open multiple rooms. Switch to mobile. Logout in mobile. Enlarge the window large enough for desktop. Login again. (panic) At that time, two issues were identified:","text":"Logout IssuesLogout IssuesBefore describing the logout issues, letâ€™s define two concepts: logout: Clicking the logout button to exit robrix by interacting with matrix shut down: Clicking x to exit the robrix processS The Earliest â€˜Dead-Poolâ€™ Issue in Logouthttps://github.com/project-robius/robrix/pull/432#discussion\\_r2171202111The commit hash at that time was e1f80eaThe key code was as follows: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124/// Logs out the current user and prepares the application for a new login session.////// Performs server-side logout, cleans up client state, closes all tabs,/// and restarts the Matrix runtime. Reports success or failure via LoginAction.////// # Parameters/// - is_desktop - Boolean indicating if the current UI mode is desktop (true) or mobile (false).////// # Returns/// - Ok(()) - Logout succeeded (possibly with cleanup warnings)/// - Err(...) - Logout failed with detailed errorasync fn logout_and_refresh(is_desktop :bool) -&gt; Result&lt;()&gt; &#123; // Collect all errors encountered during the logout process let mut errors = Vec::new(); log!(&quot;Starting logout process...&quot;); let Some(client) = get_client() else &#123; let error_msg = &quot;Logout failed: No active client found&quot;; log!(&quot;Error: &#123;&#125;&quot;, error_msg); Cx::post_action(LogoutAction::LogoutFailure(error_msg.to_string())); return Err(anyhow::anyhow!(error_msg)); &#125;; if !client.matrix_auth().logged_in() &#123; let error_msg = &quot;Client not logged in, skipping server-side logout&quot;; log!(&quot;Error: &#123;&#125;&quot;, error_msg); Cx::post_action(LogoutAction::LogoutFailure(error_msg.to_string())); return Err(anyhow::anyhow!(error_msg)); &#125; get_sync_service().unwrap().stop().await; log!(&quot;Performing server-side logout...&quot;); match tokio::time::timeout(tokio::time::Duration::from_secs(5), client.matrix_auth().logout()).await &#123; Ok(Ok(_)) =&gt; &#123; log!(&quot;Server-side logout successful.&quot;) &#125;, Ok(Err(e)) =&gt; &#123; let error_msg = format!(&quot;Server-side logout failed: &#123;&#125;. Please try again later&quot;, e); log!(&quot;Error :&#123;&#125;&quot;, error_msg); Cx::post_action(LogoutAction::LogoutFailure(error_msg.to_string())); return Err(anyhow::anyhow!(error_msg)); &#125;, Err(_) =&gt; &#123; let error_msg = &quot;Server-side logout timed out after 5 seconds. Please try again later&quot;; log!(&quot;Error: &#123;&#125;&quot;, error_msg); Cx::post_action(LogoutAction::LogoutFailure(error_msg.to_string())); return Err(anyhow::anyhow!(error_msg)); &#125;, &#125; // Clean up client state and caches log!(&quot;Cleaning up client state and caches...&quot;); CLIENT.lock().unwrap().take(); SYNC_SERVICE.lock().unwrap().take(); TOMBSTONED_ROOMS.lock().unwrap().clear(); IGNORED_USERS.lock().unwrap().clear(); DEFAULT_SSO_CLIENT.lock().unwrap().take(); // Note: Taking REQUEST_SENDER closes the channel sender, causing the async_worker task to exit its loop // This triggers the &quot;async_worker task ended unexpectedly&quot; error in the monitor task, but this is expected during logout REQUEST_SENDER.lock().unwrap().take(); log!(&quot;Client state and caches cleared after successful server logout.&quot;); // Desktop UI has tabs that must be properly closed, while mobile UI has no tabs concept. if is_desktop &#123; log!(&quot;Requesting to close all tabs in desktop&quot;); let (tx, rx) = oneshot::channel::&lt;bool&gt;(); Cx::post_action(MainDesktopUiAction::CloseAllTabs &#123; on_close_all: tx &#125;); match rx.await &#123; Ok(_) =&gt; &#123; log!(&quot;Received signal that the MainDesktopUI successfully closed all tabs&quot;); &#125;, Err(e)=&gt; &#123; let error_msg = format!(&quot;Close all tab failed &#123;e&#125;&quot;); log!(&quot;Error :&#123;&#125;&quot;, error_msg); Cx::post_action(LogoutAction::LogoutFailure(error_msg.to_string())); return Err(anyhow::anyhow!(error_msg)); &#125;, &#125; &#125; log!(&quot;Deleting latest user ID file...&quot;); // We delete latest_user_id here for the following reasons: // 1. we delete the latest user ID such that Robrix won&#x27;t auto-login the next time it starts, // 2. we don&#x27;t delete the session file, such that the user could re-login using that session in the future. if let Err(e) = delete_latest_user_id().await &#123; errors.push(e.to_string()); &#125; shutdown_background_tasks().await; // Restart the Matrix tokio runtime // This is a critical step; failure might prevent future logins log!(&quot;Restarting Matrix tokio runtime...&quot;); if start_matrix_tokio().is_err() &#123; // Send failure notification and return immediately, as the runtime is fundamental let final_error_msg = String::from(&quot;Logout succeeded, but Robrix could not re-connect to the Matrix backend. Please exit and restart Robrix&quot;); Cx::post_action(LogoutAction::LogoutFailure(final_error_msg.clone())); return Err(anyhow::anyhow!(final_error_msg)); &#125; log!(&quot;Matrix tokio runtime restarted successfully.&quot;); // --- Final result handling --- if errors.is_empty() &#123; // Complete success log!(&quot;Logout process completed successfully.&quot;); Cx::post_action(LogoutAction::LogoutSuccess); Ok(()) &#125; else &#123; // Partial success (server logout ok, but cleanup errors) let warning_msg = format!( &quot;Logout completed, but some cleanup operations failed: &#123;&#125;&quot;, errors.join(&quot;; &quot;) ); log!(&quot;Warning: &#123;&#125;&quot;, warning_msg); Cx::post_action(LogoutAction::LogoutSuccess); Ok(()) &#125;&#125;async fn shutdown_background_tasks() &#123; let mut rt_guard = TOKIO_RUNTIME.lock().unwrap(); if let Some(existing_rt) = rt_guard.take() &#123; existing_rt.shutdown_background(); &#125;&#125; The operations that triggered the panic were: Desktop mode open multiple rooms. Switch to mobile. Logout in mobile. Enlarge the window large enough for desktop. Login again. (panic) At that time, two issues were identified: The memory state left by desktop was not properly handled during the logout process in mobile mode According to the initial report, we can see that the programâ€™s backtrace showed: thread â€˜mainâ€™ panicked at /Users/alanpoon/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/deadpool-runtime-0.1.4/src/lib.rs:101:22: there is no reactor running, must be called from the context of a Tokio 1.x runtimeThe matrix-sdk version at that time was 9676daee5ab864088993f869de52ec5d8b72cce9Question 1 is not very relevant to the current analysis, as the handling omission was fixed in subsequent versions. Weâ€™ll mainly discuss issue 2. The core issues are as follows:1231. The most &quot;dangerous&quot; operation in the entire process is closing the tokio-runtime and then restarting a brand new runtime2. The panic message appears in deadpool-runtime-0.1.4 Using cargo.lock for analysis, we get a dependency chain: matrix-sdk -&gt; matrix-sdk-sqlite -&gt; rusqlite -&gt; deadpool-sqlite -&gt; deadpool-runtimeSince itâ€™s a tokio-related issue, we use tokio-console to analyze the problemNote: Frame 77 in https://github.com/project-robius/robrix/pull/432#discussion\\_r2171202111 is related to the room_member_manager in the version at that time. (Alex later updated the code to remove room_member_manager, so this issue no longer exists in subsequent versions)I added a relatively long sleep after shutdown_background and before restart, observing the asynchronous tasks in tokio-console. I found that after calling shutdown_background, there were still many deadpool-related asynchronous tasks existing. This is consistent with the tokio documentation, as shutdown_background will close the tokio-runtime but wonâ€™t wait for the asynchronous tasks within it to finish. So we conclude that this panic occurs because we closed the tokio-runtime but the asynchronous tasks within it still exist, and when thereâ€™s no runtime, the asynchronous tasks still try to execute, causing the panic. So our problematic code is: 1234CLIENT.lock().unwrap().take();.....shutdown_background_tasks().await When we CLIENT.lock().unwrap().take();, the matrix client starts to destruct, but before shutdown_background_tasks, thereâ€™s no guarantee that all asynchronous tasks in the client have been fully processed, leading to panic. Since the issue occurs in matrix-sdk, I read the matrix API trying to find corresponding cleanup logic to reclaim deadpool-runtime in advance, as the crash happens in deadpool-runtime. Unfortunately, matrix doesnâ€™t proactively provide an API to reclaim deadpool-runtime. Design of the Logout State MachineNote: Strictly speaking, the design of the state machine is not directly related to the crash, but the handling of this crash issue benefits from the design of the logout state machine. 1234567891011121314151617181920212223242526272829//! The logout process is complex and error-prone due to://! - Network operations that can fail or timeout//! - Resource cleanup that must happen in specific order//! - UI synchronization across desktop tabs//! - Matrix SDK objects that can panic during destruction//! - Need for progress feedback and cancellation support//!//! ## State Flow//!//!//! Idle (0%) â†’ PreChecking (10%) â†’ StoppingSyncService (20%) â†’ LoggingOutFromServer (30%)//! â†“ â†“//! Failed â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PointOfNoReturn (50%) âš ï¸//! â†“//! ClosingTabs (60%) [Desktop Only]//! â†“//! CleaningAppState (70%)//! â†“//! ShuttingDownTasks (80%)//! â†“//! RestartingRuntime (90%)//! â†“//! Completed (100%)//! â†“//! Failed//! ```//!//! ## Critical Design Points The code above illustrates the state transition diagram of the state machine. Now the core logout code is as follows: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187/// Execute the logout process pub async fn execute(&amp;self) -&gt; Result&lt;()&gt; &#123; log!(&quot;LogoutStateMachine::execute() started&quot;); // Set logout in progress flag LOGOUT_IN_PROGRESS.store(true, Ordering::Relaxed); // Reset global point of no return flag LOGOUT_POINT_OF_NO_RETURN.store(false, Ordering::Relaxed); // Start from Idle state self.transition_to( LogoutState::PreChecking, &quot;Checking prerequisites...&quot;.to_string(), 10 ).await?; // Pre-checks if let Err(e) = self.perform_prechecks().await &#123; self.transition_to( LogoutState::Failed(e.clone()), format!(&quot;Precheck failed: &#123;&#125;&quot;, e), 0 ).await?; self.handle_error(&amp;e).await; return Err(anyhow!(e)); &#125; // Stop sync service self.transition_to( LogoutState::StoppingSyncService, &quot;Stopping sync service...&quot;.to_string(), 20 ).await?; if let Err(e) = self.stop_sync_service().await &#123; self.transition_to( LogoutState::Failed(e.clone()), format!(&quot;Failed to stop sync service: &#123;&#125;&quot;, e), 0 ).await?; self.handle_error(&amp;e).await; return Err(anyhow!(e)); &#125; // Server logout self.transition_to( LogoutState::LoggingOutFromServer, &quot;Logging out from server...&quot;.to_string(), 30 ).await?; match self.perform_server_logout().await &#123; Ok(_) =&gt; &#123; self.point_of_no_return.store(true, Ordering::Release); LOGOUT_POINT_OF_NO_RETURN.store(true, Ordering::Release); self.transition_to( LogoutState::PointOfNoReturn, &quot;Point of no return reached&quot;.to_string(), 50 ).await?; // We delete latest_user_id after reaching LOGOUT_POINT_OF_NO_RETURN: // 1. To prevent auto-login with invalid session on next start // 2. While keeping session file intact for potential future login if let Err(e) = delete_latest_user_id().await &#123; log!(&quot;Warning: Failed to delete latest user ID: &#123;&#125;&quot;, e); &#125; &#125; Err(e) =&gt; &#123; // Check if it&#x27;s an M_UNKNOWN_TOKEN error if matches!(&amp;e, LogoutError::Recoverable(RecoverableError::ServerLogoutFailed(msg)) if msg.contains(&quot;M_UNKNOWN_TOKEN&quot;)) &#123; log!(&quot;Token already invalidated, continuing with logout&quot;); self.point_of_no_return.store(true, Ordering::Release); LOGOUT_POINT_OF_NO_RETURN.store(true, Ordering::Release); self.transition_to( LogoutState::PointOfNoReturn, &quot;Token already invalidated&quot;.to_string(), 50 ).await?; // Same delete operation as in the success case above if let Err(e) = delete_latest_user_id().await &#123; log!(&quot;Warning: Failed to delete latest user ID: &#123;&#125;&quot;, e); &#125; &#125; else &#123; // Restart sync service since we haven&#x27;t reached point of no return if let Some(sync_service) = get_sync_service() &#123; sync_service.start().await; &#125; self.transition_to( LogoutState::Failed(e.clone()), format!(&quot;Server logout failed: &#123;&#125;&quot;, e), 0 ).await?; self.handle_error(&amp;e).await; return Err(anyhow!(e)); &#125; &#125; &#125; // From here on, all failures are unrecoverable // Close tabs (desktop only) if self.config.is_desktop &#123; self.transition_to( LogoutState::ClosingTabs, &quot;Closing all tabs...&quot;.to_string(), 60 ).await?; if let Err(e) = self.close_all_tabs().await &#123; let error = LogoutError::Unrecoverable(UnrecoverableError::PostPointOfNoReturnFailure(e.to_string())); self.transition_to( LogoutState::Failed(error.clone()), &quot;Failed to close tabs&quot;.to_string(), 0 ).await?; self.handle_error(&amp;error).await; return Err(anyhow!(error)); &#125; &#125; // Clean app state self.transition_to( LogoutState::CleaningAppState, &quot;Cleaning up application state...&quot;.to_string(), 70 ).await?; // All static resources (CLIENT, SYNC_SERVICE, etc.) are defined in the sliding_sync module, // so the state machine delegates the cleanup operation to sliding_sync&#x27;s clean_app_state function // rather than accessing these static variables directly from outside the module. if let Err(e) = clean_app_state(&amp;self.config).await &#123; let error = LogoutError::Unrecoverable(UnrecoverableError::PostPointOfNoReturnFailure(e.to_string())); self.transition_to( LogoutState::Failed(error.clone()), &quot;Failed to clean app state&quot;.to_string(), 0 ).await?; self.handle_error(&amp;error).await; return Err(anyhow!(error)); &#125; // Shutdown tasks self.transition_to( LogoutState::ShuttingDownTasks, &quot;Shutting down background tasks...&quot;.to_string(), 80 ).await?; self.shutdown_background_tasks().await; // Restart runtime self.transition_to( LogoutState::RestartingRuntime, &quot;Restarting Matrix runtime...&quot;.to_string(), 90 ).await?; if let Err(e) = self.restart_runtime().await &#123; let error = LogoutError::Unrecoverable(UnrecoverableError::RuntimeRestartFailed); self.transition_to( LogoutState::Failed(error.clone()), format!(&quot;Failed to restart runtime: &#123;&#125;&quot;, e), 0 ).await?; self.handle_error(&amp;error).await; return Err(anyhow!(error)); &#125; // Success! self.transition_to( LogoutState::Completed, &quot;Logout completed successfully&quot;.to_string(), 100 ).await?; // CloseSetting after logout Cx::post_action(SettingsAction::CloseSettings); // Reset logout in progress flag LOGOUT_IN_PROGRESS.store(false, Ordering::Relaxed); Cx::post_action(LogoutAction::LogoutSuccess); Ok(()) &#125; Additionally, hereâ€™s the supplementary code: 123456789101112131415161718192021222324252627282930pub async fn clean_app_state(config: &amp;LogoutConfig) -&gt; Result&lt;()&gt; &#123; // Clear resources normally, allowing them to be properly dropped // This prevents memory leaks when users logout and login again without closing the app CLIENT.lock().unwrap().take(); log!(&quot;Client cleared during logout&quot;); SYNC_SERVICE.lock().unwrap().take(); log!(&quot;Sync service cleared during logout&quot;); REQUEST_SENDER.lock().unwrap().take(); log!(&quot;Request sender cleared during logout&quot;); // Only clear collections that don&#x27;t contain Matrix SDK objects TOMBSTONED_ROOMS.lock().unwrap().clear(); IGNORED_USERS.lock().unwrap().clear(); ALL_JOINED_ROOMS.lock().unwrap().clear(); let (tx, rx) = oneshot::channel::&lt;bool&gt;(); Cx::post_action(LogoutAction::CleanAppState &#123; on_clean_appstate: tx &#125;); match tokio::time::timeout(config.app_state_cleanup_timeout, rx).await &#123; Ok(Ok(_)) =&gt; &#123; log!(&quot;Received signal that app state was cleaned successfully&quot;); Ok(()) &#125; Ok(Err(e)) =&gt; Err(anyhow!(&quot;Failed to clean app state: &#123;&#125;&quot;, e)), Err(_) =&gt; Err(anyhow!(&quot;Timed out waiting for app state cleanup&quot;)), &#125;&#125; Now, the reclamation of tokio asynchronous tasks, especially regarding deadpool-runtime in matrix, is handled between clean_app_state and shutdown_background_tasks. In the new state machine, we have more operations between CLIENT.lock().unwrap().take(); (start destructing asynchronous tasks in matrix) and shutdown_background_tasks, giving the program more time for destruction. Note: We still donâ€™t have an API to actively handle deadpool-runtime in matrix. Now, there are no more panics related to deadpool in the code. As a comparison: 1234567891011121314151617181920212223242526272829303132pub async fn clean_app_state(config: &amp;LogoutConfig) -&gt; Result&lt;()&gt; &#123; // Clear resources normally, allowing them to be properly dropped // This prevents memory leaks when users logout and login again without closing the app CLIENT.lock().unwrap().take(); log!(&quot;Client cleared during logout&quot;); SYNC_SERVICE.lock().unwrap().take(); log!(&quot;Sync service cleared during logout&quot;); REQUEST_SENDER.lock().unwrap().take(); log!(&quot;Request sender cleared during logout&quot;); // Only clear collections that don&#x27;t contain Matrix SDK objects TOMBSTONED_ROOMS.lock().unwrap().clear(); IGNORED_USERS.lock().unwrap().clear(); ALL_JOINED_ROOMS.lock().unwrap().clear(); // let (tx, rx) = oneshot::channel::&lt;bool&gt;(); // Cx::post_action(LogoutAction::CleanAppState &#123; on_clean_appstate: tx &#125;); // match tokio::time::timeout(config.app_state_cleanup_timeout, rx).await &#123; // Ok(Ok(_)) =&gt; &#123; // log!(&quot;Received signal that app state was cleaned successfully&quot;); // Ok(()) // &#125; // Ok(Err(e)) =&gt; Err(anyhow!(&quot;Failed to clean app state: &#123;&#125;&quot;, e)), // Err(_) =&gt; Err(anyhow!(&quot;Timed out waiting for app state cleanup&quot;)), // &#125; Ok(())&#125; If we comment out the code as shown above, canceling this time-consuming operation, and then logout, we can still see panics related to deadpool-runtime. About Shutdown and LeakThe above is an analysis of logout. As an exit function, I feel obligated to address issues in shutdown (closing the process). Through the above analysis, I have reached the conclusion: The deadpool-runtime panic that occurs during the exit process is due to not fully ending asynchronous tasks before closing the runtime. Or, itâ€™s entirely an issue of destruction order. In the logout state machine, because we adjusted the order of the state machine, we gave more time for the client to destruct when itâ€™s being destructed, avoiding the deadpool-runtime panic. However, we donâ€™t have a state machine to perform such a series of operations during shutdown, and we donâ€™t have an API to pre-release deadpool-runtime in the matrix client. So if we directly shutdown robrix, this crash information will point to the robrix program. Therefore, I believe that since we have no way to release asynchronous tasks in the program, we might as well directly forget them, especially forgetting the tokio-runtime. Since the program is about to shutdown, forgetting might be acceptable. This design is the core idea of using leak in shutdown. Current SituationThe current situation is a bit interesting. In the current version, I tried: 1234567891011121314151617181920212223242526272829303132fn cleanup_before_shutdown(&amp;mut self) &#123; log!(&quot;Starting shutdown cleanup...&quot;); // Clear user profile cache first to prevent thread-local destructor issues // This must be done before leaking the tokio runtime clear_all_caches(); log!(&quot;Cleared user profile cache&quot;); // Set logout in progress to suppress error messages LOGOUT_IN_PROGRESS.store(true, Ordering::Relaxed); // Immediately take and leak all resources to prevent any destructors from running // This is a controlled leak at shutdown to avoid the deadpool panic // Take the runtime first and leak it leak_runtime(); // Take and leak the client leak_client(); // Take and leak the sync service leak_sync_service(); // Take and leak the request sender leak_request_sender(); // Don&#x27;t clear any collections or caches as they might contain references // to Matrix SDK objects that would trigger the deadpool panic log!(&quot;Shutdown cleanup completed - all resources leaked to prevent panics&quot;);&#125; This code is in src/app.rs. I now try not to call this method, which means not actively leaking these resources during shutdown, and the program still doesnâ€™t crash. (Note that I did encounter crash errors in previous versions) Here are some possible analyses: Change in execution order: Previous issue:shutdown â†’ clear_all_caches() â†’ Matrix SDK objects in cache destruct â†’ access potentially closed runtime â†’ crash Current safe process:logout â†’ clean_app_state() â†’ Matrix SDK core resources already cleared â†’ clear_all_caches() â†’ safeshutdown â†’ do nothing â†’ operating system reclaims resources â†’ safe Key contribution of the state machine Separated the handling logic of logout and shutdown Ensured correct cleanup order (clear dependencies first, then clear dependents) Provided clear timing guarantees (perform dangerous operations only when itâ€™s safe) Leaking is indeed a dangerous operation. Of course, the current situation suggests that the previous code might have been over-protective, and we might consider removing the related code.","categories":[],"tags":[{"name":"Rubric","slug":"Rubric","permalink":"https://imzy.vip/tags/Rubric/"}]},{"title":"ä¸º C++ç¨‹åºå†™ rustbinding","slug":"ä¸º-C-ç¨‹åºå†™-rustbinding","date":"2024-08-12T23:24:49.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/12714/","link":"","permalink":"https://imzy.vip/posts/12714/","excerpt":"ä¸º C++ç¨‹åºå†™ rustbindingAutoCxx ä¸ CWrapper+Bindgenä¸º c++ç¨‹åºå†™ ruts-binding åœ¨ä»£ç çš„ä¸–ç•Œä¸­ï¼Œè¿˜æ˜¯ cå’Œ cppç«™ç»å¤§å¤šæ•°ï¼Œç°åœ¨æä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„éœ€æ±‚ï¼šæä¾›ä¸€ä¸ª c++çš„ç¨‹åºï¼Œæœ€ç»ˆéœ€è¦å† rustä¸­è°ƒç”¨ c++ç¨‹åºæä¾›çš„æ¥å£ã€‚ ä¸€èˆ¬æ¥è¯´æœ‰ä¸¤ä¸ªæ–¹æ³• ç›´æ¥ä½¿ç”¨ cxx autocxxä¸º rustä»£ç ç”Ÿæˆä¸€ä»½ unsafeçš„ä»£ç ï¼Œç„¶åç›´æ¥è°ƒç”¨ ç¬¬äºŒç§æ–¹æ³•æ¯”è¾ƒè·¯å¾„ç¨é•¿ï¼Œå…ˆé’ˆå¯¹ c++ä»£ç çš„ header å†™ä¸€ä»½ cé£æ ¼çš„å¤´æ–‡ä»¶cwrapperï¼Œç„¶åé’ˆå¯¹ cçš„å¤´æ–‡ä»¶å†™ä¸€ä»½ cå¤´æ–‡ä»¶çš„å®ç°ã€‚æ¥ä¸‹æ¥ç¼–è¯‘è‡ªå·±çš„cwrapperï¼Œç”Ÿæˆä¸€ä»½æ–°çš„åŠ¨æ€åº“ã€‚æ¥ä¸‹æ¥ä½¿ç”¨ bindgen æ ¹æ® cwrapperç”Ÿæˆä¸€ä»½ unsafe rustã€‚æœ€ååœ¨ rustä»£ç ä¸­è°ƒç”¨ã€‚ æ€»ä½“æ¥è¯´ cxx æˆ–è€… autocxx å¯èƒ½æ€§èƒ½ä¼šæ›´å¥½ä¸€äº›ï¼Œä½†æ˜¯ autocxxå¹¶ä¸èƒ½æå®šä¸€åˆ‡ã€‚ç¬¬äºŒç§æ–¹æ³•èƒœåœ¨ç¨³å®šï¼Œæ¯•ç«Ÿ cçš„ abiæ¯”è¾ƒç¨³å®šã€‚æœ¬æ–‡å°†é‡‡ç”¨åä¸€ç§æ–¹æ³•ã€‚ é€Ÿæˆææ–™æŠ€æœ¯åŸºç¡€æ˜¯ï¼šä¼š rustï¼Œä¸ä¼š c++æˆ–è€… cã€‚æ‰€ä»¥éœ€è¦é€Ÿæˆï¼Œäº†è§£ cå’Œ c++ã€‚å¦‚æœå½»åº•ä¸ä¼š c++ï¼Œå†™ bingen æ— ä»è°ˆèµ·ã€‚ ä¸‹é¢æ˜¯ä¸€äº›ææ–™","text":"ä¸º C++ç¨‹åºå†™ rustbindingAutoCxx ä¸ CWrapper+Bindgenä¸º c++ç¨‹åºå†™ ruts-binding åœ¨ä»£ç çš„ä¸–ç•Œä¸­ï¼Œè¿˜æ˜¯ cå’Œ cppç«™ç»å¤§å¤šæ•°ï¼Œç°åœ¨æä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„éœ€æ±‚ï¼šæä¾›ä¸€ä¸ª c++çš„ç¨‹åºï¼Œæœ€ç»ˆéœ€è¦å† rustä¸­è°ƒç”¨ c++ç¨‹åºæä¾›çš„æ¥å£ã€‚ ä¸€èˆ¬æ¥è¯´æœ‰ä¸¤ä¸ªæ–¹æ³• ç›´æ¥ä½¿ç”¨ cxx autocxxä¸º rustä»£ç ç”Ÿæˆä¸€ä»½ unsafeçš„ä»£ç ï¼Œç„¶åç›´æ¥è°ƒç”¨ ç¬¬äºŒç§æ–¹æ³•æ¯”è¾ƒè·¯å¾„ç¨é•¿ï¼Œå…ˆé’ˆå¯¹ c++ä»£ç çš„ header å†™ä¸€ä»½ cé£æ ¼çš„å¤´æ–‡ä»¶cwrapperï¼Œç„¶åé’ˆå¯¹ cçš„å¤´æ–‡ä»¶å†™ä¸€ä»½ cå¤´æ–‡ä»¶çš„å®ç°ã€‚æ¥ä¸‹æ¥ç¼–è¯‘è‡ªå·±çš„cwrapperï¼Œç”Ÿæˆä¸€ä»½æ–°çš„åŠ¨æ€åº“ã€‚æ¥ä¸‹æ¥ä½¿ç”¨ bindgen æ ¹æ® cwrapperç”Ÿæˆä¸€ä»½ unsafe rustã€‚æœ€ååœ¨ rustä»£ç ä¸­è°ƒç”¨ã€‚ æ€»ä½“æ¥è¯´ cxx æˆ–è€… autocxx å¯èƒ½æ€§èƒ½ä¼šæ›´å¥½ä¸€äº›ï¼Œä½†æ˜¯ autocxxå¹¶ä¸èƒ½æå®šä¸€åˆ‡ã€‚ç¬¬äºŒç§æ–¹æ³•èƒœåœ¨ç¨³å®šï¼Œæ¯•ç«Ÿ cçš„ abiæ¯”è¾ƒç¨³å®šã€‚æœ¬æ–‡å°†é‡‡ç”¨åä¸€ç§æ–¹æ³•ã€‚ é€Ÿæˆææ–™æŠ€æœ¯åŸºç¡€æ˜¯ï¼šä¼š rustï¼Œä¸ä¼š c++æˆ–è€… cã€‚æ‰€ä»¥éœ€è¦é€Ÿæˆï¼Œäº†è§£ cå’Œ c++ã€‚å¦‚æœå½»åº•ä¸ä¼š c++ï¼Œå†™ bingen æ— ä»è°ˆèµ·ã€‚ ä¸‹é¢æ˜¯ä¸€äº›ææ–™ https://www.youtube.com/watch?v=KJgsSFOSQv0&amp;t=76s https://www.youtube.com/watch?v=ZzaPdXTrSb8 https://www.runoob.com/cplusplus/cpp-variable-scope.html ç¬¬ä¸€ä¸ªä¸º feeCodeCampçš„ cè¯¾ç¨‹ï¼Œä¸‰å°æ—¶é€Ÿæˆã€‚ å› ä¸º c++æ¯”è¾ƒéš¾ï¼Œå¯ä»¥å­¦ä¹ ç¬¬äºŒä¸ªæ•™ç¨‹ä¸€å°æ—¶é€Ÿæˆï¼Œæ¥ä¸‹æ¥çœ‹èœé¸Ÿæ•™ç¨‹çš„æ–‡æ¡£ã€‚æ³¨æ„ä¸è¦çº ç»“ç»†èŠ‚ï¼Œå¦åˆ™æ— æ³•é€Ÿæˆã€‚å­¦æˆ C++å·²ç»æ•°å¹´ä»¥å ğŸ¥³ï¼Œæ¯•ç«Ÿæœ€ç»ˆç›®çš„å¹¶éå†™ c++ã€‚ æˆ–è€…ä¹Ÿå¯ä»¥çœ‹ freecodecampçš„ c++æ•™ç¨‹ï¼Œå¤§æ¦‚å››å°æ—¶çœ‹å®Œã€‚ CPPéƒ¨åˆ†åº“æ–‡ä»¶å‡†å¤‡https://github.com/TigerInYourDream/cppExample c++éƒ¨åˆ†ä»£ç å·²ç»ä¸Šä¼  githubã€‚å¸¸è§çš„c++é¡¹ç›®å¤§æ¦‚ä½¿ç”¨ cmakeç¼–è¯‘ï¼Œå› ä¸ºé€Ÿæˆææ–™ä¸­æ²¡æœ‰è®² cmakeï¼Œæ‰€ä»¥ç›´æ¥ç”¨ g++æˆ–è€… clangç¼–è¯‘ã€‚ 123456789101112131415161718192021222324252627#include &lt;ctime&gt;#include &lt;iostream&gt;using namespace std;namespace MyNamespace &#123; class MyClass &#123; public: MyClass(); ~MyClass(); void myMethod(); &#125;;&#125;MyNamespace::MyClass::MyClass() &#123; cout &lt;&lt; &quot;Constructor called&quot; &lt;&lt; endl;&#125;MyNamespace::MyClass::~MyClass() &#123; cout &lt;&lt; &quot;Destructor called&quot; &lt;&lt; endl;&#125;void MyNamespace::MyClass::myMethod() &#123; cout &lt;&lt; &quot;myMethod called&quot; &lt;&lt; endl;&#125;// int main() &#123;// MyNamespace::MyClass obj;// obj.myMethod();// return 0;// &#125; 12345678910111213//ä¸‹é¢çš„æ˜¯å¤´æ–‡ä»¶#ifndef MYCLASS_HPP#define MYCLASS_HPPnamespace MyNamespace &#123; class MyClass &#123; public: MyClass(); ~MyClass(); void myMethod(); &#125;;&#125;#endif // MYCLASS_HPP c++æºæ–‡ä»¶å’Œå¤´æ–‡ä»¶åœ¨æ­¤ã€‚ä¸€ä¸ªéå¸¸ç®€å•çš„ä»£ç ï¼Œä¸ºäº†åœ¨åç»­ä½¿ç”¨ cé£æ ¼çš„ wrapperã€‚ç‰¹æ„ä½¿ç”¨äº† namespace classè¿™äº› cæ²¡æœ‰çš„ç‰¹æ€§ã€‚å¤§è‡´è§£é‡Šä¸‹ä»£ç  åˆ†åˆ«æœ‰æ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°ï¼ˆç±»ä¼¼ä¸ rustçš„ Dropï¼‰å’Œä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼ˆæˆ–è€…è¿™ä¸ªç§°ä¸ºæ–¹æ³•ï¼‰ã€‚ clang++ -c -fPIC MyClass.cpp -o MyClass.o clang++ -dynamiclib -o libMyClass.dylib MyClass.o â€‹ -dynamiclib é€‰é¡¹è¡¨ç¤ºç”ŸæˆåŠ¨æ€åº“ã€‚ â€‹ -o libMyClass.dylib æŒ‡å®šè¾“å‡ºæ–‡ä»¶çš„åç§°ä¸º libMyClass.dylibã€‚ c++çš„äºŒè¿›åˆ¶äº§ç‰©ç”Ÿæˆåˆ†ä¸¤æ­¥ ç¼–è¯‘ é“¾æ¥ ç¼–è¯‘ç”Ÿæˆ .oçš„ç¼–è¯‘äº§ç‰©ï¼Œç„¶åé“¾æ¥ç”ŸæˆåŠ¨æ€åº“ã€‚å› ä¸ºæˆ‘çš„ç¼–ç¨‹ç¯å¢ƒä¸º macï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨ clang++ ä¸”é€‰æ‹©ç”Ÿæˆ dylibã€‚å¦‚æœæ˜¯ linuxè€ƒè™‘ä½¿ç”¨ g++å’Œç”Ÿæˆ so(è¿™ä¸€ç±»æ›´å¸¸è§) CåŒ…è£…é¦–å…ˆæ ¹æ®æš´éœ²çš„åº“æ–‡ä»¶åŒ…è£…ä¸€ä¸ª cé£æ ¼çš„å¤´ 123456789101112131415#ifndef MYCLASSWRAPPER_H#define MYCLASSWRAPPER_H#ifdef __cplusplusextern &quot;C&quot; &#123;#endiftypedef struct MyClassOpaque MyClassOpaque;/* typedef (struct MyClassOpaque) MyClassOpaque; */typedef MyClassOpaque* MyClassHandle;MyClassHandle MyClass_create();void MyClass_destroy(MyClassHandle handle);void MyClass_myMethod(MyClassHandle handle);#ifdef __cplusplus&#125;#endif#endif // MYCLASSWRAPPER_Htypedef struct MyClassOpaque MyClassOpaque; cçš„å¤´æ–‡ä»¶å¦‚ä¸Šæ‰€ç¤ºï¼Œå…³é”®æ˜¯ä½¿ç”¨ä¸é€æ˜æŒ‡é’ˆ ä¸é€æ˜æŒ‡é’ˆ(Opaque Pointer)æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„æŒ‡é’ˆ,å®ƒéšè—äº†æ‰€æŒ‡å‘çš„å…·ä½“æ•°æ®ç±»å‹çš„è¯¦ç»†ä¿¡æ¯ã€‚ä¸é€æ˜æŒ‡é’ˆåªæä¾›äº†æŒ‡é’ˆçš„æ“ä½œ,è€Œä¸æš´éœ²æŒ‡é’ˆæ‰€æŒ‡å‘çš„æ•°æ®çš„ç±»å‹å’Œç»“æ„ã€‚ typedef struct MyClassOpaque MyClassOpaque; æ˜¯ä¸€ç§ç‰¹åˆ«çš„å†™æ³• å®è´¨ç›¸å½“äº å¯¹ struct MyClassQpaque çš„åˆ«åï¼Œä»¥åç”¨MyClassOpaque ä¸ç”¨å¸¦ Structå…³é”®å­—ã€‚ typedef MyClassOpaque* MyClassHandle; ç›´æ¥å®šä¹‰ä¸é€æ˜æŒ‡é’ˆ æœ‰äº†è¿™ä¸ªCé£æ ¼çš„å¤´è¿˜ä¸å¤Ÿï¼Œè¿˜éœ€è¦ä¸€ä»½å®ç°ä»£ç  12345678910111213141516171819202122#include &quot;MyClassWrapper.h&quot;#include &quot;myclass.hpp&quot;using namespace MyNamespace;extern &quot;C&quot; &#123; struct MyClassOpaque &#123; MyClass* instance; &#125;; MyClassHandle MyClass_create() &#123; MyClassOpaque* opaque = new MyClassOpaque; opaque-&gt;instance = new MyClass(); return opaque; &#125; void MyClass_destroy(MyClassHandle handle) &#123; MyClassOpaque* opaque = static_cast&lt;MyClassOpaque*&gt;(handle); delete opaque-&gt;instance; delete opaque; &#125; void MyClass_myMethod(MyClassHandle handle) &#123; MyClassOpaque* opaque = static_cast&lt;MyClassOpaque*&gt;(handle); opaque-&gt;instance-&gt;myMethod(); &#125;&#125; å®é™…å®ç°çš„ä»£ç å¦‚ä¸Šã€‚ä½¿ç”¨ exrern â€œCâ€ åŒ…è£… ç›¸å½“äº rustçš„ extern â€œCâ€ å’Œ nomangleã€‚æ³¨æ„å¯¹åº”å®ç°ææ„å‡½æ•°çš„ destroyå‡½æ•°ï¼Œæ³¨æ„ deleteå†…å­˜ã€‚ æ¥ä¸‹æ¥ 123456clang++ -c -fPIC MyClassWrapper.cpp -o MyClassWrapper.oclang++ -dynamiclib -o libMyClassWrapper.dylib MyClassWrapper.o -L . -lMyClass-dynamiclib é€‰é¡¹è¡¨ç¤ºç”ŸæˆåŠ¨æ€åº“ã€‚-o libMyCombined.dylib æŒ‡å®šè¾“å‡ºæ–‡ä»¶çš„åç§°ä¸º libMyCombined.dylibã€‚-L. é€‰é¡¹å‘Šè¯‰é“¾æ¥å™¨åœ¨å½“å‰ç›®å½•ä¸­æŸ¥æ‰¾åº“æ–‡ä»¶ã€‚-lMyClass é€‰é¡¹å‘Šè¯‰é“¾æ¥å™¨é“¾æ¥åˆ° libMyClass.dylib åº“æ–‡ä»¶ã€‚ å°±æ˜¯ç¼–è¯‘ æ¥ä¸‹æ¥é“¾æ¥ç¬¬ä¸€æ¬¡ç”Ÿæˆc++çš„åŠ¨æ€åº“ MyClassã€‚ æ³¨æ„ç”Ÿæˆçš„åŠ¨æ€åº“æœ‰ libå‰ç¼€ã€‚ä»–ä»¬çš„ä¾èµ–å…³ç³»å¦‚ä¸‹MyClassWrapper é“¾æ¥ MyClass. è¿™ä¸ªåº“çš„é“¾æ¥éå¸¸é‡è¦ã€‚ ç°åœ¨å°±æœ‰äº†ä¸€ä»½ cé£æ ¼çš„å¤´æ–‡ä»¶å’Œä¸¤ä¸ªåŠ¨æ€åº“ MyClass MyClassWrapper æœ¬äººå¯¹ c++å¹¶ä¸ç†Ÿæ‚‰å¦‚æœæœ‰å…¶ä»–æ³¨æ„çš„ç‚¹å¥½æ”¹è¿›ï¼Œæ¬¢è¿æå‡ºæ”¹è¿› Rustéƒ¨åˆ†https://github.com/TigerInYourDream/bindexample rustéƒ¨åˆ†ç›´æ¥é€‰æ‹©ä½¿ç”¨ bindgen.ç”Ÿæˆ rustä»£ç  123456789101112â”œâ”€â”€ Cargo.lockâ”œâ”€â”€ Cargo.tomlâ”œâ”€â”€ build.rsâ”œâ”€â”€ includeâ”‚ â””â”€â”€ MyClassWrapper.hâ”œâ”€â”€ libâ”‚ â”œâ”€â”€ libMyClass.dylibâ”‚ â””â”€â”€ libMyClassWrapper.dylibâ”œâ”€â”€ srcâ”‚ â”œâ”€â”€ bindings.rsâ”‚ â””â”€â”€ main.rsâ”œâ”€â”€ target rusté¡¹ç›®çš„ç»“æ„å¦‚ä¸Šæ‰€ç¤ºã€‚includeä¸­ä¸º cé£æ ¼çš„å¤´æ–‡ä»¶ã€‚ä¸»è¦æ³¨æ„çš„ç‚¹å­˜åœ¨äº build.rsä¸­ 12345678910111213141516171819extern crate bindgen;use std::path::PathBuf;use bindgen::CargoCallbacks;fn main() &#123; println!(&quot;cargo:rustc-link-search=native=./lib&quot;); println!(&quot;cargo:rustc-link-lib=dylib=MyClassWrapper&quot;); println!(&quot;cargo:rustc-link-lib=dylib=MyClass&quot;); // ç”Ÿæˆ Rust ç»‘å®š let bindings = bindgen::Builder::default() .header(&quot;wrapper.h&quot;) .parse_callbacks(Box::new(CargoCallbacks::new())) .generate() .expect(&quot;Unable to generate bindings&quot;); // å°†ç”Ÿæˆçš„ç»‘å®šå†™å…¥ src/bindings.rs æ–‡ä»¶ let out_path = PathBuf::from(&quot;./src/&quot;); bindings .write_to_file(out_path.join(&quot;bindings.rs&quot;)) .expect(&quot;Couldn&#x27;t write bindings!&quot;);&#125; æŠ€å·§ ç”Ÿæˆä»£ç å¯ä»¥ç›´æ¥ç”Ÿæˆåˆ° srcç›®å½•ä¸‹ï¼Œå¦åˆ™ä¼šç›´æ¥ç”Ÿæˆåˆ° buildç›®å½•ä¸‹ï¼Œä¹Ÿå°±æ˜¯ç¯å¢ƒå˜é‡ OUT_DIRè¾“å‡ºçš„ç¯å¢ƒçš„ã€‚å¯ä»¥ç”Ÿæˆåˆ°src æ‰‹åŠ¨å¼•ç”¨ã€‚è¿™æ ·ç”Ÿæˆçš„ä»£ç å¯ä»¥åƒæ­£å¸¸ä»£ç ä¸€æ ·å¯ä»¥è¢«æ­£å¸¸å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ rust analysis åˆ†æã€‚ å¦‚æœä½¿ç”¨ cspellè®°å¾—å•ç‹¬æ’é™¤è¿™ä¸ªæ–‡ä»¶ã€‚ å¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹å¤–åŠ ä¸€ä¸ª wrapper.hæ–‡ä»¶ï¼Œåœ¨ wrapperä¸­æŒ‡å®šå¤–éƒ¨çš„å¤´æ–‡ä»¶ã€‚æˆ–è€…ä¹Ÿå¯ä»¥å‚è€ƒ bingençš„æœ€ä½³å®è·µã€‚ç›®å‰ä¸ªäººæœ€ä½³å®è·µæ˜¯è¿™æ ·ã€‚ ä¸‰ä¸ªæ‰“å°åˆ†åˆ«æ˜¯ link-search ç›®å½•ï¼Œä¸‹é¢ä¸¤ä¸ªæ˜¯å…·ä½“æœç´¢çš„åº“ï¼Œä¸è¦å¸¦å‰ç¼€å’Œåç¼€ã€‚ è¿è¡Œçš„æ³¨æ„ç‚¹ æ³¨æ„ build.rsåªä¼šç®¡ buildæ—¶åˆ»çš„é“¾æ¥ç›®å½•ï¼Œè¿è¡Œçš„æ—¶å€™å¹¶ä¸ä¼šç®¡ã€‚å¦‚æœç¼–è¯‘çš„æ—¶å€™æç¤ºæ‰¾ä¸åˆ°åŠ¨æ€åº“ï¼Œå¯ä»¥ä¿®æ”¹ searchç›®å½•ï¼Œæˆ–è€…ä»”ç»†è§‚å¯Ÿç›®å½•ï¼ŒæŠŠåº“çš„ç›®å½•ç›´æ¥ç§»åŠ¨åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼ˆå› ä¸ºæ ¹ç›®å½•ä¹Ÿæ˜¯é»˜è®¤çš„åº“æœç´¢è·¯å¾„ï¼‰ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–è·¯å¾„ï¼Œå¯ä»¥å¯ä»¥åˆ é™¤è§‚å¯Ÿã€‚ cargo ræ°›å›´ä¸¤é˜¶æ®µï¼Œä¸€ä¸ªæ˜¯ buildé˜¶æ®µï¼Œbuildé˜¶æ®µ build.rsä¸­çš„è®¾ç½®æ˜¯æœ‰ç”¨çš„ã€‚ç¬¬äºŒä¸ªé˜¶æ®µä¸ºè¿è¡Œï¼Œç›¸å½“äºæ‰§è¡Œ ./xxxxã€‚ æ‰€ä»¥ç›´æ¥ cargo r -r ä¼šæ‰¾ä¸åˆ°åº“è·¯å¾„ 1234export DYLD_LIBRARY_PATH=/path/to/dylib:$DYLD_LIBRARY_PATHç›´æ¥ä½¿ç”¨ä¸Šé¢çš„ç¯å¢ƒå˜é‡è®¾ç½®åŠ¨æ€åº“çš„æ–‡ä»¶ç›®å½• æ³¨æ„ä¸Šé¢çš„é€‚ç”¨äº MACçš„ dyliblinux åˆ™æ˜¯è®¾å®šLD_LIBRARY_PATH å¯ä»¥ä½¿ç”¨ justæ¥è®¾ç½®ç¯å¢ƒå˜é‡ å’Œ ä¸€ç»„ç¼–è¯‘è¿è¡Œè®¡åˆ’æ¥ç®€åŒ–å‘½ä»¤è¡Œã€‚å› ä¸º justå’Œå’Œç¼–å†™ bindgen æ— å…³ï¼Œéšæ„ä¸åœ¨æœ¬æ–‡æèµ·ã€‚ ç„¶åå°±å¯ä»¥æ‰§è¡Œäº†","categories":[{"name":"rust","slug":"rust","permalink":"https://imzy.vip/categories/rust/"}],"tags":[{"name":"c++","slug":"c","permalink":"https://imzy.vip/tags/c/"},{"name":"bingen","slug":"bingen","permalink":"https://imzy.vip/tags/bingen/"}]},{"title":"sonalaåˆçº¦","slug":"sonalaåˆçº¦","date":"2024-06-12T20:00:49.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/43396/","link":"","permalink":"https://imzy.vip/posts/43396/","excerpt":"solanaåˆçº¦å­¦ä¹ æœ¬æ–‡æ˜¯å¯¹ solanç›¸å…³é—®é¢˜ä»‹ç»ï¼Œä¸»è¦ç”¨äºè®°å½•solanaåˆçº¦çš„å­¦ä¹ è¿‡ç¨‹ã€‚å› ä¸ºç°é˜¶æ®µè¿˜æ²¡æœ‰ååˆ†æ·±å…¥çš„å­¦ä¹  solanaçš„ç»†èŠ‚ï¼Œæ‰€ä»¥ç›®æ ‡é™å®šåœ¨ solanaçš„ç®€å•åˆçº¦ç¼–å†™ï¼Œç¯å¢ƒæ­å»ºï¼Œæµ‹è¯•ã€‚ åŸºç¡€å› ä¸ºæ˜¯å­¦ä¹ æŒ‡å—ï¼Œæ‰€ä»¥ä¼šå…ˆå¼ºè°ƒå­¦ä¹ çš„åŸºç¡€ã€‚æœ¬æ–‡çš„åŸºç¡€å»ºç«‹åœ¨ä¼š ruståŸºç¡€ä¸Šï¼Œæ˜ç™½ rustçš„è¯­æ³•ï¼Œå¯ä»¥è¾¾åˆ° rustç¼–å†™ç®€å•ä»£ç çš„åŸºç¡€ä¹‹ä¸Šã€‚å› ä¸º solana åˆçº¦æ˜¯ç›´æ¥ä½¿ç”¨ rustç¼–å†™çš„ã€‚å¦‚æœä¸å…·å¤‡ç®€å•çš„ ruståŸºç¡€ï¼Œè¯·å…ˆå­¦ä¹  rust bookï¼Œè‡³å°‘äº†è§£ rustçš„åŸºæœ¬è¯­æ³•ã€‚ solanaç¯å¢ƒå› ä¸º solanaæœ‰è‡ªå·±çš„ä»‹ç»æ–‡æ¡£ï¼Œä¸å†é‡å¤ä»‹ç»solanaæ¦‚å¿µã€‚ä¸‹é¢ä¸»è¦è®²å‰©ä½™éƒ¨åˆ†ã€‚ å¼€å‘ç¯å¢ƒ ä¸»è¦å°±æ˜¯ rustç¯å¢ƒï¼Œå¯ä»¥å» rustå®˜ç½‘ä¸Šç›´æ¥å®‰è£… rustç¯å¢ƒã€‚å› ä¸º rustå·²ç»æ¯”è¾ƒæˆç†Ÿï¼Œæ²¡æœ‰ç‰¹åˆ«çš„é—®é¢˜ï¼Œç›´æ¥å®‰è£…æœ€æ–°ç¯å¢ƒã€‚ ç¼–è¾‘å™¨ï¼Œå› ä¸ºæ˜¯ç›´æ¥ä½¿ç”¨ rustå¼€å‘solana åˆçº¦çš„ï¼Œæ‰€ä»¥ä¸»æµçš„ VSCODE Rustrover vim zed emacséƒ½å¯ä»¥ã€‚é€‰æ‹©è‡ªå·±å–œæ¬¢çš„å°±å¥½ã€‚ solana cliå·¥å…·ã€‚https://solana.com/developers/guides/getstarted/local-rust-hello-world cliå·¥å…·æ˜¯ç”Ÿæˆåœ°å€ï¼Œé“¾æ¥ solanaèŠ‚ç‚¹ï¼Œéƒ¨ç½²åˆçº¦çš„åŸºç¡€ã€‚åé¢ä¼šç»§ç»­æåˆ°ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œè¯·åŠ¡å¿…å‚è€ƒå®‰è£…çš„çš„æ³¨æ„äº‹é¡¹ã€‚ anchor anchoræ˜¯ solana çš„â€œæ¡†æ¶â€ï¼Œå¯ä»¥å» anchorå®˜ç½‘å®‰è£… solanaæ¡†æ¶ã€‚åé¢ä¹Ÿæœ‰æ³¨æ„äº‹é¡¹ã€‚ ä»¥ä¸Šçš„å¥—ä»¶ç†è®ºä¸Šæ˜¯å…¨éƒ¨éœ€è¦çš„ã€‚å¦‚æœä½ åªæ˜¯ä½¿ç”¨solana nativeå¼€å‘ï¼Œå¯ä»¥ä¸ä½¿ç”¨ anchorã€‚ä¹Ÿå°±å¯ä»¥ä¸ç”¨å®‰è£… anchor å¥—ä»¶ã€‚ ç¯å¢ƒå®‰è£…ä¸­çš„ç‰¹æ®Šé—®é¢˜ æ ¹æ®ç›®å‰ 2024å¹´06æœˆ08æ—¥20:17:14 æ—¶é—´ solana æ˜¯ v1.18.15ã€‚ solana æœ¬èº«å¹¶ä¸æ˜¯ç›´æ¥å®‰è£…æœ€æ–°ç‰ˆæœ¬å°±å¥½äº†ã€‚æœ€æ–°ç‰ˆæœ¬å¯èƒ½å‡ºç°ç¼–è¯‘ä¸è¿‡ï¼Œè·å–æœ‰ä¸€äº›æ›´åŠ å…·ä½“çš„å­—èŠ‚è¶…é‡çš„ç¼–è¯‘é—®é¢˜ã€‚è¿™æ—¶å€™å°±éœ€è¦å›é€€åˆ°å†å²ç‰ˆæœ¬ã€‚å¯ä»¥çœ‹ä¸‹é¢çš„é“¾æ¥ã€‚å½“ç„¶å¦‚æœä½ éå¸¸å¹¸è¿ï¼Œå®‰è£…ä¹‹åå®Œå…¨æ²¡æœ‰é—®é¢˜å°±ä¸å¿…æŠ˜è…¾ã€‚äº‹å®æ˜¯ï¼Œæˆ‘å®‰è£…äº†æœ€æ–°ç‰ˆä¹‹åä¸€ç›´æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œç„¶åä¸å¾—ä¸å®‰è£…ä¸‹é¢çš„æ–¹æ¡ˆå›é€€ã€‚ https://www.notion.so/alvinvip/cd22ecfe315d4acbb83c68ca8a3d7b30?pvs=4#14fa26df7432402ebf18529fecf20e40 anchorä¹Ÿå­˜åœ¨ä»¥ä¸Šé—®é¢˜ï¼Œæœ€æ–°ç‰ˆæ— æ³•è¿è¡Œã€‚è¿™æ ·é‡‡ç”¨ä¸Šé¢çš„åŠæ³•å³å¯ï¼Œç›´æ¥é€€ç‰ˆæœ¬ã€‚ https://book.anchor-lang.com/getting_started/installation.html æ³¨æ„æŸ¥çœ‹ç‰ˆæœ¬å…³ç³» anchor 0.30éœ€è¦ä½¿ç”¨æœ€æ–°çš„ solana v1.18.15ï¼ˆåŠ¡å¿…æ³¨æ„æ—¶é—´ï¼Œåç»­å‡çº§å¿…é¡»å…¼é¡¾ solanaç‰ˆæœ¬å’Œ anchorç‰ˆæœ¬ï¼‰ æµ‹è¯•é—®é¢˜","text":"solanaåˆçº¦å­¦ä¹ æœ¬æ–‡æ˜¯å¯¹ solanç›¸å…³é—®é¢˜ä»‹ç»ï¼Œä¸»è¦ç”¨äºè®°å½•solanaåˆçº¦çš„å­¦ä¹ è¿‡ç¨‹ã€‚å› ä¸ºç°é˜¶æ®µè¿˜æ²¡æœ‰ååˆ†æ·±å…¥çš„å­¦ä¹  solanaçš„ç»†èŠ‚ï¼Œæ‰€ä»¥ç›®æ ‡é™å®šåœ¨ solanaçš„ç®€å•åˆçº¦ç¼–å†™ï¼Œç¯å¢ƒæ­å»ºï¼Œæµ‹è¯•ã€‚ åŸºç¡€å› ä¸ºæ˜¯å­¦ä¹ æŒ‡å—ï¼Œæ‰€ä»¥ä¼šå…ˆå¼ºè°ƒå­¦ä¹ çš„åŸºç¡€ã€‚æœ¬æ–‡çš„åŸºç¡€å»ºç«‹åœ¨ä¼š ruståŸºç¡€ä¸Šï¼Œæ˜ç™½ rustçš„è¯­æ³•ï¼Œå¯ä»¥è¾¾åˆ° rustç¼–å†™ç®€å•ä»£ç çš„åŸºç¡€ä¹‹ä¸Šã€‚å› ä¸º solana åˆçº¦æ˜¯ç›´æ¥ä½¿ç”¨ rustç¼–å†™çš„ã€‚å¦‚æœä¸å…·å¤‡ç®€å•çš„ ruståŸºç¡€ï¼Œè¯·å…ˆå­¦ä¹  rust bookï¼Œè‡³å°‘äº†è§£ rustçš„åŸºæœ¬è¯­æ³•ã€‚ solanaç¯å¢ƒå› ä¸º solanaæœ‰è‡ªå·±çš„ä»‹ç»æ–‡æ¡£ï¼Œä¸å†é‡å¤ä»‹ç»solanaæ¦‚å¿µã€‚ä¸‹é¢ä¸»è¦è®²å‰©ä½™éƒ¨åˆ†ã€‚ å¼€å‘ç¯å¢ƒ ä¸»è¦å°±æ˜¯ rustç¯å¢ƒï¼Œå¯ä»¥å» rustå®˜ç½‘ä¸Šç›´æ¥å®‰è£… rustç¯å¢ƒã€‚å› ä¸º rustå·²ç»æ¯”è¾ƒæˆç†Ÿï¼Œæ²¡æœ‰ç‰¹åˆ«çš„é—®é¢˜ï¼Œç›´æ¥å®‰è£…æœ€æ–°ç¯å¢ƒã€‚ ç¼–è¾‘å™¨ï¼Œå› ä¸ºæ˜¯ç›´æ¥ä½¿ç”¨ rustå¼€å‘solana åˆçº¦çš„ï¼Œæ‰€ä»¥ä¸»æµçš„ VSCODE Rustrover vim zed emacséƒ½å¯ä»¥ã€‚é€‰æ‹©è‡ªå·±å–œæ¬¢çš„å°±å¥½ã€‚ solana cliå·¥å…·ã€‚https://solana.com/developers/guides/getstarted/local-rust-hello-world cliå·¥å…·æ˜¯ç”Ÿæˆåœ°å€ï¼Œé“¾æ¥ solanaèŠ‚ç‚¹ï¼Œéƒ¨ç½²åˆçº¦çš„åŸºç¡€ã€‚åé¢ä¼šç»§ç»­æåˆ°ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œè¯·åŠ¡å¿…å‚è€ƒå®‰è£…çš„çš„æ³¨æ„äº‹é¡¹ã€‚ anchor anchoræ˜¯ solana çš„â€œæ¡†æ¶â€ï¼Œå¯ä»¥å» anchorå®˜ç½‘å®‰è£… solanaæ¡†æ¶ã€‚åé¢ä¹Ÿæœ‰æ³¨æ„äº‹é¡¹ã€‚ ä»¥ä¸Šçš„å¥—ä»¶ç†è®ºä¸Šæ˜¯å…¨éƒ¨éœ€è¦çš„ã€‚å¦‚æœä½ åªæ˜¯ä½¿ç”¨solana nativeå¼€å‘ï¼Œå¯ä»¥ä¸ä½¿ç”¨ anchorã€‚ä¹Ÿå°±å¯ä»¥ä¸ç”¨å®‰è£… anchor å¥—ä»¶ã€‚ ç¯å¢ƒå®‰è£…ä¸­çš„ç‰¹æ®Šé—®é¢˜ æ ¹æ®ç›®å‰ 2024å¹´06æœˆ08æ—¥20:17:14 æ—¶é—´ solana æ˜¯ v1.18.15ã€‚ solana æœ¬èº«å¹¶ä¸æ˜¯ç›´æ¥å®‰è£…æœ€æ–°ç‰ˆæœ¬å°±å¥½äº†ã€‚æœ€æ–°ç‰ˆæœ¬å¯èƒ½å‡ºç°ç¼–è¯‘ä¸è¿‡ï¼Œè·å–æœ‰ä¸€äº›æ›´åŠ å…·ä½“çš„å­—èŠ‚è¶…é‡çš„ç¼–è¯‘é—®é¢˜ã€‚è¿™æ—¶å€™å°±éœ€è¦å›é€€åˆ°å†å²ç‰ˆæœ¬ã€‚å¯ä»¥çœ‹ä¸‹é¢çš„é“¾æ¥ã€‚å½“ç„¶å¦‚æœä½ éå¸¸å¹¸è¿ï¼Œå®‰è£…ä¹‹åå®Œå…¨æ²¡æœ‰é—®é¢˜å°±ä¸å¿…æŠ˜è…¾ã€‚äº‹å®æ˜¯ï¼Œæˆ‘å®‰è£…äº†æœ€æ–°ç‰ˆä¹‹åä¸€ç›´æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œç„¶åä¸å¾—ä¸å®‰è£…ä¸‹é¢çš„æ–¹æ¡ˆå›é€€ã€‚ https://www.notion.so/alvinvip/cd22ecfe315d4acbb83c68ca8a3d7b30?pvs=4#14fa26df7432402ebf18529fecf20e40 anchorä¹Ÿå­˜åœ¨ä»¥ä¸Šé—®é¢˜ï¼Œæœ€æ–°ç‰ˆæ— æ³•è¿è¡Œã€‚è¿™æ ·é‡‡ç”¨ä¸Šé¢çš„åŠæ³•å³å¯ï¼Œç›´æ¥é€€ç‰ˆæœ¬ã€‚ https://book.anchor-lang.com/getting_started/installation.html æ³¨æ„æŸ¥çœ‹ç‰ˆæœ¬å…³ç³» anchor 0.30éœ€è¦ä½¿ç”¨æœ€æ–°çš„ solana v1.18.15ï¼ˆåŠ¡å¿…æ³¨æ„æ—¶é—´ï¼Œåç»­å‡çº§å¿…é¡»å…¼é¡¾ solanaç‰ˆæœ¬å’Œ anchorç‰ˆæœ¬ï¼‰ æµ‹è¯•é—®é¢˜ solanaæ˜¯ä½¿ç”¨ rustå†™çš„åˆçº¦ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨ rustä»£ç æ¥æµ‹è¯•ã€‚ä½†æ˜¯ï¼ŒåŠ¡å¿…è®°ä½ï¼Œå¦‚æœä½ ä½¿ç”¨ anchorçš„è¯ï¼Œç›´æ¥ä½¿ç”¨ TSæµ‹è¯•ã€‚TSåŒ…æä¾›äº†å®Œæ•´çš„æµ‹è¯•ç¯å¢ƒå’Œæ–¹æ³•ï¼Œéå¸¸æ–¹ä¾¿ã€‚åœ¨ solanaçš„ä¸–ç•Œä¸­ï¼Œä½¿ç”¨ TSæµ‹è¯•æ˜¯å¸¸æ€ã€‚ä½¿ç”¨ rustæµ‹è¯•åè€Œæ˜¯å¼‚ç±»ã€‚åº”è¯¥è¿˜æ˜¯ TSç¨‹åºå‘˜æ›´åŠ æ™®éçš„åŸå› ï¼Œä¼˜å…ˆæ”¯æŒæ›´æµè¡Œçš„è¯­è¨€ã€‚ æ‰€ä»¥åœ¨ä¼š rustçš„åŸºç¡€ä¸Šå¯ä»¥ï¼Œå¿«é€Ÿå­¦ä¹ ä¸€ä¸‹ jsè¯­æ³•ï¼Œç„¶åå­¦ä¸€ç‚¹ TSå³å¯ã€‚ https://www.youtube.com/watch?v=vDNw0FWL8zw&amp;ab_channel=èµ°æ­ªçš„å·¥ç¨‹å¸«James åœ¨ youtubeä¸Šéšæ„æ‰¾åˆ°ä¸€ä¸ª jsæ•™å­¦è§†é¢‘ï¼Œå¤§æ¦‚ä¸¤å°æ—¶å¯ä»¥äº†è§£ jsç”¨æ³•ã€‚ç„¶åå†èŠ± 20 åˆ†é’Ÿå­¦ä¹ ä¸€ç‚¹ TSå’Œ jsçš„ä¸åŒä¹‹å¤„å³å¯ã€‚æ‰€ä»¥æ²¡é”™ï¼Œè¿™ä¸ªå­¦ä¹ è¿‡ç¨‹ä¸­åŒ…æ‹¬ä¸¤ä¸ªåŠå°æ—¶çš„ js/tsåŸºç¡€çš„å­¦ä¹ ã€‚å­¦ä¹ åˆ°å¯ä»¥å†™ä»£ç å³å¯ã€‚ å¦‚æœä¸€å®šè¦ç”¨ rustæµ‹è¯•ä¹Ÿæ²¡æœ‰é—®é¢˜ 1anchor init â€”test-template rust &lt;xxxxx&gt; ä½¿ç”¨ä»¥ä¸Šå‘½ä»¤å¯ä»¥ç”Ÿæˆ å¸¦rustæµ‹è¯•æ¨¡æ¿çš„ anchor ä»£ç ã€‚ https://github.com/coral-xyz/anchor/pull/2805 ä¸Šé¢çš„ PRä¹Ÿæ˜¯å…³äº rustæµ‹è¯•çš„ï¼Œå¯ä»¥çœ‹å‡ºæ¥anchorå¯¹äº rustæµ‹è¯•æ”¯æŒä¹Ÿæ˜¯æœ€è¿‘æ‰æœ‰ä¸€å®šçš„è¿›å±•ã€‚æ‰€ä»¥å»ºè®®è¿˜æ˜¯ç°å­¦TSæµ‹è¯•æ¯”è¾ƒå¿«ã€‚ èŠ‚ç‚¹å¤§éƒ¨åˆ†æ—¶å€™èŠ‚ç‚¹ä½¿ç”¨ä¸åº”è¯¥æˆä¸ºä¸€ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ solanaçš„ devnetä¼¼ä¹å¾ˆä¸ç¨³å®šï¼Œæ‰€ä»¥æœ€å¥½ä½¿ç”¨æœ¬åœ°ç½‘ç»œéƒ¨ç½²çš„å’Œæµ‹è¯• 123solana-test-validator solana-test-validator -r ä¸Šé¢çš„ä¸¤ä¸ªå‘½ä»¤æ˜¯å¯åŠ¨æœ¬åœ°èŠ‚ç‚¹å’Œ é‡å¯æœ¬åœ°èŠ‚ç‚¹ã€‚å¦‚æœä½ åœ¨å¯åŠ¨èŠ‚ç‚¹çš„æ—¶å€™ 7 é‡åˆ°é—®é¢˜å¯ä»¥è€ƒè™‘è¿™ä¸ªã€‚ä¸»è¦çš„ç—‡çŠ¶æ˜¯å†æ¬¡é‡å¯ï¼ŒèŠ‚ç‚¹çŠ¶æ€ä¸å¯¹ã€‚ å’ŒåŒç­‰ç±»å‹åˆçº¦çš„å·®åˆ«ä¼—æ‰€å‘¨çŸ¥ï¼Œä½¿ç”¨ rustç¼–å†™çš„åŒºå—é“¾è¿˜æœ‰ suiå’Œ aptosã€‚åœ¨ solanaåˆçº¦ä¹‹å‰ï¼Œæˆ‘è¿˜å­¦ä¹ äº† moveåˆçº¦ https://github.com/TigerInYourDream/letsmove ä¸Šé¢æ˜¯æˆ‘å‚ä¸ sui åˆçº¦çš„ä»£ç ã€‚suiçš„åˆçº¦ä½¿ç”¨ moveç¼–å†™ã€‚å’Œ anchorä¸ä¸€æ ·ï¼Œmoveçš„ç¯å¢ƒå®‰è£…æ²¡æœ‰ä¸Šé¢çš„ç‰¹æ®Šé—®é¢˜ã€‚ç›´æ¥å®‰è£…æœ€æ–°å°±å¯ä»¥ã€‚moveæ˜¯ä¸€ä¸ªç®€æ˜“ç‰ˆæœ¬çš„ rustï¼Œå­¦ä¹ éš¾åº¦æ˜¾è‘—é™ä½ã€‚ å¦å¤– suiçš„ä¸»è¦äº¤äº’å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå®ç°ï¼Œä¸»è¦å‚æ•°å°±æ˜¯éƒ¨ç½²æ—¶åˆ»ç”Ÿæˆçš„å„ç§ hash idã€‚å¯èƒ½å¯¹äºåç«¯ç¨‹åºå‘˜è¿™è¿™ç§æ–¹å¼æ›´åŠ ç›´æ¥ã€‚ ä½†æ˜¯ sui moveç›®å‰æ”¯æŒçš„åŠŸèƒ½ç›¸å¯¹å°‘ä¸€ç‚¹ã€‚æ‰€ä»¥ä¸¤ç§åˆçº¦å„æœ‰ä¼˜ç¼ºç‚¹ã€‚ solanaçš„æŠ½è±¡å±‚æ¬¡å’Œæ‰€æœ‰çš„åŒºå—é“¾ç¼–ç¨‹æ¨¡å‹ä¸€æ · solanaåˆ’åˆ†ä¸ºä¸‹é¢çš„ç»“æ„ solanaä½¿ç”¨åˆçº¦ç›´æ¥ä½¿ç”¨ rustç¼–å†™ã€‚å†™å¥½çš„åˆçº¦å¯ä»¥ç›´æ¥éƒ¨ç½²åˆ° solanaçš„èŠ‚ç‚¹ä¸Šã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºå‘å¸ƒåˆçº¦ã€‚solanaå› ä¸ºä½¿ç”¨ rustï¼Œå’Œå…¶ä»–åŒºå—é“¾ç¨æœ‰ä¸åŒï¼ŒæŠŠç¼–ç¨‹éƒ¨åˆ†æˆä¸º programã€‚ä»–ä¹Ÿç¡®å®æ˜¯ä¸ªå®Œå¤‡çš„ programã€‚ä¸ºäº†å’Œå…¶ä»–åŒºå—é“¾ä¸­çš„æ¦‚å¿µç»Ÿä¸€ï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒç§°ä¸ºæ™ºèƒ½åˆçº¦ã€‚ éƒ¨ç½²èŠ‚ç‚¹ä¸Šçš„åˆçº¦ï¼Œå°±ç›¸å½“äºç»™ solanaèŠ‚ç‚¹å¢åŠ äº†æ–°çš„â€œæ¥å£â€ã€‚å¯ä»¥è°ƒç”¨ solana client sdkç›´æ¥è°ƒç”¨åˆçº¦å®ç°äº¤äº’ã€‚æœ€ç›´æ¥çš„ä½¿ç”¨ solana js sdkå°±å¯ä»¥å®ç°å‰ç«¯ç½‘é¡µä¸åˆçº¦äº¤äº’ã€‚ä½¿ç”¨ sdkä¸èŠ‚ç‚¹äº¤äº’çš„è¿™ä¸ªåº”ç”¨å°±æ˜¯ dappã€‚ å’Œé‡‘èé‡Œé¢åˆçº¦ä¸ä¸€æ ·ï¼ŒåŒºå—é“¾ä¸–ç•Œçš„â€œåˆçº¦â€å°±æ˜¯ä¸€æ®µå¯ä»¥æ‰§è¡Œçš„ä»£ç ã€‚æ‰€ä»¥æœ‰çš„åŒºå—é“¾ä¹ŸæŠŠè‡ªå·±ç§°ä¹‹ä¸ºâ€œäº’è”ç½‘è®¡ç®—æœºâ€ã€‚èƒ½æ‰§è¡Œä»£ç ï¼Œä¹Ÿèƒ½è¢«è°ƒç”¨ï¼Œçš„ç¡®æ˜¯æ˜¯ä¸€ä¸ªâ€œè®¡ç®—æœºâ€ã€‚ æ­¤å¤–ï¼Œè®©é“¾ä¸Šæ•°æ®å‘ç”Ÿå˜åŒ–çš„æ“ä½œå«åšäº¤æ˜“ã€‚æ— è®ºæ˜¯é€šè¿‡ dapps æˆ–è€… rust js å®¢æˆ·ç«¯æˆ–è€…å…¶ä»–æ–¹å¼å’Œé“¾ä¸Šä¿¡æ¯è¿›è¡Œäº¤äº’çš„è¿‡ç¨‹éƒ½å«åšäº¤æ˜“ã€‚ anchorå’Œ solanaçš„å…³ç³»åœ¨ solanaé“¾ä¸Šå®ç°ç¼–ç¨‹ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³• native program anchor https://solana.com/developers/guides/getstarted/local-rust-hello-world ä½¿ç”¨ä»¥ä¸Šä»£ç ï¼Œ å¼•å…¥ solana-program crateså°±å¯ä»¥è¿›è¡Œ native solana programã€‚å¦‚æœä½ ä»”ç»†æŸ¥çœ‹ä»£ç ï¼Œ ä½ ä¼šå‘ç°æŒ‡ä»¤ Instrationæ˜¯ä¸ª u8æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿›è¡Œç½‘è·¯ä¼ è¾“çš„æ•°æ®ï¼Œä½ éœ€è¦åœ¨åˆçº¦æ®µè§£ç u8ï¼Œç›¸åº”çš„ä½ éœ€è¦åœ¨å®¢æˆ·ç«¯è¿›è¡Œç¼–ç ã€‚æ²¡é”™ï¼Œä½ è¿˜éœ€è¦äº†è§£ç¼–è§£ç å’Œ rustçš„ layout çš„ç»†èŠ‚ã€‚å¦åˆ™æ— æ³•è§£æå‡ºæ­£ç¡®çš„æ•°æ®ã€‚ anchoråœ¨solana-programçš„åŸºç¡€ä¸Šå¥—äº†ä¸€å±‚ï¼Œæœ€ä¸»è¦çš„å°±æ˜¯è§£å†³æ•°æ®ç¼–è§£ç çš„é—®é¢˜ã€‚è¿™ä¸ªå°±æ˜¯åŸç”Ÿç¼–ç å’Œ anchor ç¼–ç çš„å·®åˆ«ã€‚anchor ä¹Ÿæ˜¯ solanaå®˜ç½‘æ¨èçš„å†™åˆçº¦çš„æ–¹å¼ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ— ç• layoutç»†èŠ‚ï¼Œnative åˆçº¦ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ ä¸€äº›å…¶ä»–çš„æ¨èå¯ä»¥ä½¿ç”¨ justå·¥å…·ï¼Œé¢„å…ˆå†™å¥½åˆçº¦ç¼–è¯‘ï¼Œå‘å¸ƒå’Œæµ‹è¯•å‘½ä»¤ã€‚ç„¶åä½¿ç”¨justè¿è¡Œã€‚ç”Ÿæˆè‡ªå·±çš„æµæ°´çº¿ï¼Œæ˜¯æˆ‘ä¸ªäººæ¨èçš„æ–¹å¼ã€‚å¦‚æœæœ‰ä¸€äº›å…¶ä»–å¤æ‚çš„å‘½ä»¤è¡Œï¼Œå¯ä»¥å†èŠ± 20 åˆ†é’Ÿå­¦ä¹  amberã€‚å¯ä»¥è®¾è®¡å‡ºä¸€äº›æ¯”è¾ƒå¤æ‚çš„åˆçº¦éƒ¨ç½²æµç¨‹ã€‚ä¸°ä¿­ç”±äººã€‚ æ•™å­¦è§†é¢‘https://www.youtube.com/watch?v=3GHlk6vosQw&amp;list=PL53JxaGwWUqCr3xm4qvqbgpJ4Xbs4lCs7&amp;index=12&amp;ab_channel=Joshâ€™sDevBox solanaå·²ç»æœ‰è¾ƒå¤šçš„ç¼–ç¨‹å®è·µäº†ï¼Œè¯¾ç¨‹å¾ˆå¤šã€‚å¯ä»¥çœ‹ä¸Šé¢çš„è§†é¢‘è¿›è¡Œå­¦ä¹ ã€‚ä¹Ÿæ˜¯ä¸€ä¸ªæ¯”è¾ƒä¸é”™è·¯å¾„ã€‚","categories":[],"tags":[{"name":"åˆçº¦","slug":"åˆçº¦","permalink":"https://imzy.vip/tags/%E5%90%88%E7%BA%A6/"},{"name":"solana","slug":"solana","permalink":"https://imzy.vip/tags/solana/"}]},{"title":"REVMä»£ç é˜…è¯» 02","slug":"REVMä»£ç é˜…è¯»-02","date":"2024-05-28T20:23:51.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/44402/","link":"","permalink":"https://imzy.vip/posts/44402/","excerpt":"REVMä»£ç é˜…è¯» 02å‰æ–‡ä»‹ç»åœ¨ 01ç« èŠ‚ï¼Œå¯¹é˜…è¯» revmåšäº†ä¸€äº›é¢„å…ˆçš„å‡†å¤‡å·¥ä½œï¼Œä¸»è¦åŒ…æ‹¬äº†è§£solidityè¯­è¨€ï¼Œå­¦ä¹  OPCODESä»¥åŠè‡ªé¡¶å‘ä¸‹äº†è§£ evmçš„åŸºæœ¬ç»“æ„ä¸‰éƒ¨åˆ†ã€‚å…¶ä¸­ç¬¬ä¸‰éƒ¨åˆ†æœ€å¥½å¤§è‡´å®ç°å¾æˆ˜è™šæ‹Ÿæœºæ ˆçš„è¿è¡Œè¿‡ç¨‹åŠ æ·±ç†è§£ã€‚ç°åœ¨å¼€å§‹é˜…è¯» revmä»£ç ã€‚é˜…è¯»ä»£ç çš„è¿‡ç¨‹æ¯”è¾ƒæ¯ç‡¥ï¼Œè¯·ä¿æŒè€å¿ƒã€‚ é’ˆå¯¹å•ç‹¬å®ç°çš„ evmä¸åœ¨å°‘æ•°ï¼Œä½¿ç”¨ rustç¼–å†™çš„ evmä¹Ÿä¸æ˜¯å”¯ä¸€çš„ã€‚æœ‰ä¸‹é¢çš„ä¸¤ä¸ª https://github.com/rust-ethereum/evm ä»¥ä¸Šæ˜¯ rust-ethereumåä¸‹çš„ evmé¡¹ç›®ï¼Œä»–æ˜¯ parityåä¸‹çš„é¡¹ç›®ï¼Œåœ¨é¡¹ç›®ä¸­æåˆ° polkdoté¡¹ç›®å°±ä½¿ç”¨è¯¥è™šæ‹Ÿæœºã€‚ å¦å¤–ä¸€ä¸ªå°±æ˜¯æˆ‘ä»¬çœ‹çš„ evm revm https://github.com/bluealloy/revm ä¹Ÿæœ‰ä¼—å¤šçš„ä»¥å¤ªåŠç”Ÿæ€é¡¹ç›®ä½¿ç”¨è¯¥è™šæ‹Ÿæœºã€‚è¯¥é¡¹ç›®æ‹¥æœ‰ä¸€æœ¬ booksæ¥ä»‹ç»è™šæ‹Ÿæœºçš„è®¾è®¡æ€è·¯ã€‚åœ¨åˆæ­¥é˜…è¯»ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆé˜…è¯»æ–‡æ¡£æ¥äº†è§£ revmçš„æ•´ä½“è®¾è®¡æ€è·¯ã€‚ https://bluealloy.github.io/revm/","text":"REVMä»£ç é˜…è¯» 02å‰æ–‡ä»‹ç»åœ¨ 01ç« èŠ‚ï¼Œå¯¹é˜…è¯» revmåšäº†ä¸€äº›é¢„å…ˆçš„å‡†å¤‡å·¥ä½œï¼Œä¸»è¦åŒ…æ‹¬äº†è§£solidityè¯­è¨€ï¼Œå­¦ä¹  OPCODESä»¥åŠè‡ªé¡¶å‘ä¸‹äº†è§£ evmçš„åŸºæœ¬ç»“æ„ä¸‰éƒ¨åˆ†ã€‚å…¶ä¸­ç¬¬ä¸‰éƒ¨åˆ†æœ€å¥½å¤§è‡´å®ç°å¾æˆ˜è™šæ‹Ÿæœºæ ˆçš„è¿è¡Œè¿‡ç¨‹åŠ æ·±ç†è§£ã€‚ç°åœ¨å¼€å§‹é˜…è¯» revmä»£ç ã€‚é˜…è¯»ä»£ç çš„è¿‡ç¨‹æ¯”è¾ƒæ¯ç‡¥ï¼Œè¯·ä¿æŒè€å¿ƒã€‚ é’ˆå¯¹å•ç‹¬å®ç°çš„ evmä¸åœ¨å°‘æ•°ï¼Œä½¿ç”¨ rustç¼–å†™çš„ evmä¹Ÿä¸æ˜¯å”¯ä¸€çš„ã€‚æœ‰ä¸‹é¢çš„ä¸¤ä¸ª https://github.com/rust-ethereum/evm ä»¥ä¸Šæ˜¯ rust-ethereumåä¸‹çš„ evmé¡¹ç›®ï¼Œä»–æ˜¯ parityåä¸‹çš„é¡¹ç›®ï¼Œåœ¨é¡¹ç›®ä¸­æåˆ° polkdoté¡¹ç›®å°±ä½¿ç”¨è¯¥è™šæ‹Ÿæœºã€‚ å¦å¤–ä¸€ä¸ªå°±æ˜¯æˆ‘ä»¬çœ‹çš„ evm revm https://github.com/bluealloy/revm ä¹Ÿæœ‰ä¼—å¤šçš„ä»¥å¤ªåŠç”Ÿæ€é¡¹ç›®ä½¿ç”¨è¯¥è™šæ‹Ÿæœºã€‚è¯¥é¡¹ç›®æ‹¥æœ‰ä¸€æœ¬ booksæ¥ä»‹ç»è™šæ‹Ÿæœºçš„è®¾è®¡æ€è·¯ã€‚åœ¨åˆæ­¥é˜…è¯»ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆé˜…è¯»æ–‡æ¡£æ¥äº†è§£ revmçš„æ•´ä½“è®¾è®¡æ€è·¯ã€‚ https://bluealloy.github.io/revm/ revmæ˜¯ä¸€ä¸ªå­˜ç²¹çš„ä»¥å¤ªåŠè¿è¡Œç¯å¢ƒï¼Œæ²¡æœ‰ä»»ä½•ç½‘ç»œä»¥åŠå…±è¯†çš„éƒ¨åˆ†ï¼Œä¹Ÿæœ‰é™ä½ç®€åŒ–é˜…è¯»éš¾åº¦ã€‚ Revm BooksEvmæ ¹æ® revm booksçš„ä»‹ç»ï¼Œrevmä¸»è¦åˆ†å››éƒ¨åˆ† revm: revmæ ¸å¿ƒä»£ç ã€‚ interpreter: ç¿»è¯‘ä¸ºè§£é‡Šå™¨ã€‚æ‰§è¡Œå¸¦æœ‰æŒ‡ä»¤çš„å¾ªç¯ã€‚åœ¨ä¸Šä¸€èŠ‚ä¸­å·²ç»æåˆ°ï¼Œrevmå°±æ˜¯ä¸€ä¸ªæ ˆæ•°æ®ç»“æ„ï¼Œä¾æ¬¡å¼¹å‡ºæ ˆä¸­çš„æ•°æ®å’ŒæŒ‡ä»¤ï¼ˆopcodesï¼‰è¿›è¡Œå’Œæ‰§è¡Œã€‚ primitives: ä»¥å¤ªåŠçš„åŸå§‹æ•°æ®ç±»å‹ã€‚æ¯”å¦‚U256ã€‚æ˜¯å¯¹äº rustæ•°æ®ç±»å‹çš„åŒ…è£…ã€‚ precompile: ä»¥å¤ªåŠè™šæ‹Ÿæœºé¢„ç¼–è¯‘ã€‚åœ¨æ‰§è¡Œä¹‹å‰åšä¸€äº›æ•°æ®çš„æ£€æŸ¥ã€‚ æ¯ä¸ª crateså†…éƒ¨éƒ½æœ‰ä¹Ÿæœ‰å¾ˆå¤šç»†åˆ†æ¨¡å—ï¼Œè¿™é‡Œåªæ˜¯ä»‹ç» revmä¸­ä¸»è¦çš„éƒ¨åˆ†ã€‚ EVMéƒ¨åˆ†ã€‚evmåŒ…å«ä¸¤å¤§éƒ¨åˆ† Contextå’Œ handler. Contextç¿»è¯‘ä¸ºä¸Šä¸‹æ–‡ï¼Œæ˜¯ä¸€ç§ç¼–å†™äºŒè¿›åˆ¶åº”ç”¨ç¨‹åºçš„å¸¸è§æ–¹æ³•ï¼Œä¸»è¦åŒ…å«æ‰§è¡Œæ‰€éœ€çš„çŠ¶æ€ã€‚HandleråŒ…å«ä½œä¸ºæ‰§è¡Œé€»è¾‘çš„å‡½æ•°ã€‚Contextåˆ†ä¸ºä¸¤ç§å…·ä½“çš„ EvmContextå’Œ external contextã€‚external contextç¿»è¯‘ä¸ºå¤–éƒ¨ contextã€‚åªè¦æ˜¯ä¸ºäº†å¤–éƒ¨è°ƒç”¨æ‰§è¡Œçš„ Hooké’©å­ã€‚EvmContextä¸ºå†…éƒ¨ Contextï¼Œæœ‰databaseï¼Œenvironmentï¼Œjournaled stateï¼Œprecompileså››éƒ¨åˆ†ã€‚ è¿è¡Œæ—¶ Runtimeã€‚åŒ…å«ä» handlerä¸­è°ƒç”¨å‡½æ•°ã€‚å‚è€ƒä»¥ä¸‹ç¤ºæ„å›¾ æ‰€æœ‰çš„å‡½æ•°æŒ‰ç…§ä»¥ä¸Šçš„å››ä¸ªç±»åˆ«è¿›è¡Œåˆ†ç»„ï¼Œä¸”æŒ‰ç…§å¯¹åº”çš„é¡ºåºè¿è¡Œã€‚å…¶ä¸­ Executioné˜¶æ®µåŒ…å«ä¸¤ä¸ªå¾ªç¯ã€‚ call loopå’Œ interpreter loopã€‚ ç¬¬ä¸€ä¸ªå¾ªç¯æ˜¯è°ƒç”¨å¾ªç¯ï¼Œå¾ªç¯ä¸­çš„æ¯ä¸€æ­¥è¢«ç§°ä¸º Frameï¼Œå¸§ã€‚Frameç”Ÿæˆ Interpreter loopã€‚Interpreter è´Ÿè´£éå†æ‰§è¡Œå­—èŠ‚ç æ“ä½œï¼ˆopcodesï¼‰ã€‚ç›¸å½“äºåœ¨ call loopä¸­åµŒå¥— Interpreter loopã€‚Interpreter æ‰§è¡Œçš„ç»“æœæ˜¯ InterpreterActionã€‚InterpreterAction ç›¸å½“äºä¸€ä¸ªæšä¸¾ï¼Œåˆ†åˆ«æŒ‡ç¤º Interpreteræ˜¯å¦æ‰§è¡Œå®Œæˆã€‚ä¼ å¯¼åˆ°â€œçˆ¶â€çº§åˆ« Frameä¸­ã€‚ å…¶ä¸­ Evmæ˜¯è´Ÿè´£è¿è¡Œçš„æ¨¡å—ï¼Œåœ¨ Evmæ¨¡å—â€œä¹‹å‰â€ï¼Œæœ‰ä¸€ä¸ª EvmBuilderï¼Œä¼šâ€œè®¾ç½®â€Evméœ€è¦æ‰§è¡Œçš„åŠŸèƒ½ã€‚Evmbuilderç›¸å½“äºä¸€ä¸ªâ€œèœå•â€ã€‚ Interpreterevmæ˜¯æœ€æ ¸å¿ƒçš„æ¨¡å—ï¼Œä¹Ÿæ˜¯ç¨‹åºçš„â€œå¯åŠ¨ç‚¹â€ã€‚åœ¨ä¸Šä¸€å°èŠ‚ä¸­ä»‹ç»çš„ evmä¸­ä¼šå¼€å¯ä¸¤ä¸ªä¸¤ä¸ªå¾ªç¯ï¼Œåœ¨ call loopä¸­ä¼šåµŒå¥—æ‰§è¡Œ Interpreterå¾ªç¯ã€‚è§£é‡Šå™¨å¾ªç¯ç›´æ¥æ¶‰åŠä»¥å¤ªåŠå­—èŠ‚ç æ“ä½œï¼Œè§£é‡Šå™¨ç›´æ¥å……å½“äº‹ä»¶å¾ªç¯é€æ­¥æ‰§è¡Œæ“ä½œç ã€‚å®ƒè®¾ç½® gasè®¡ç®—ï¼Œåˆçº¦æœ¬èº«ï¼Œå†…å­˜ï¼Œæ ˆå †æ“ä½œï¼Œä¸”è¿”å›æ‰§è¡Œç»“æœã€‚ Interpreteâ€™r cratesä¸­çš„ gaså’Œ mememoryç®€å•ä»‹ç»å°±æ˜¯gasè´¹è®¡ç®—ï¼Œä»¥å¤ªåŠå†…å­˜æ“ä½œã€‚å¤§è‡´ä»‹ç»ä¸‹å…¶ä¸­çš„Host éƒ¨åˆ†ï¼š Hostæ˜¯ä¸€ä¸ª trait å› ä¸º EVMæ“ä½œæ˜¯éœ€è¦ä¸€å®šâ€œé“¾ä¸Šä¿¡æ¯çš„â€ï¼Œæ‰€ä»¥ Hostä¸­åŒ…å«ä¸€äº›é“¾ä¸Šä¿¡æ¯ env åŒ…å«å½“å‰åŒºå—å’Œäº¤æ˜“ä¿¡æ¯ load_account: æŸ¥è¯¢ç»™å®šä»¥å¤ªåŠè´¦æˆ·çš„ä¿¡æ¯ block_hashï¼šæ£€ç´¢ç»™å®šåŒºå—å·çš„å“ˆå¸Œä¿¡æ¯ balance code code_hash â€¦ ç”¨äºæ£€ç´¢ç»™å®šè´¦å·çš„ä½™é¢ ä»£ç  ä»£ç  hashä¹‹ç±»çš„ä¿¡æ¯ selfdestruct Hostéƒ¨åˆ†ç»´æŠ¤äº†ä¸€ä¸ªçº¿ä¸Šæ•°æ®è·å–çš„ç»Ÿä¸€æ¥å£ï¼Œå¯ä»¥ä½¿å¾—è™šæ‹Ÿæœºé“¾æ¥åˆ°ä¸åŒçš„ä»¥å¤ªåŠç½‘ç»œï¼Œæ¯”å¦‚ mainnet, æµ‹è¯•ç½‘ç­‰ã€‚æ‰€ä»¥è¿™éƒ¨åˆ†è¢«å‘½åä¸ºâ€œä¸»æœºâ€ã€‚ interpreter_actioninterpreter actionä¸»è¦å®šä¹‰äº†ä¸€äº›è§£é‡Šå™¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ•°æ®ç»“æ„ã€‚æœ‰ strcuctå’Œ enumä¸»è¦åŒ…å«äº†evmæ“ä½œçš„æ–¹æ–¹é¢é¢ã€‚æ¯”å¦‚è°ƒç”¨å’Œåˆ›å»ºè¾“å…¥ï¼Œè°ƒç”¨ä¸Šä¸‹æ–‡ï¼ˆcontext)ï¼Œä»·å€¼è½¬ç§»ï¼ˆä»¥å¤ªåŠåˆçº¦åˆçº¦å¾ˆå¤šéƒ½æ˜¯å›´ç»•è½¬è´¦å±•å¼€çš„ï¼‰ï¼Œä»¥åŠè‡ªæ¯æ“ä½œ å…¶ä»–ç»“æ„ç•¥è¿‡ã€‚ä»¥ä¸Šå¤§è‡´åˆ†æ•£çš„ä»‹ç»äº†revmä¸­çš„å‰ä¸¤éƒ¨åˆ†ã€‚ å¾…ç»­ã€‚ã€‚ 2024å¹´05æœˆ28æ—¥20:23:10","categories":[],"tags":[{"name":"eve","slug":"eve","permalink":"https://imzy.vip/tags/eve/"}]},{"title":"REVMä»£ç é˜…è¯» 01","slug":"REVMä»£ç é˜…è¯»-01","date":"2024-05-15T14:51:16.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/44082/","link":"","permalink":"https://imzy.vip/posts/44082/","excerpt":"REVMä»£ç é˜…è¯» 01ç»è¿‡ä¸€äº›æ—¶é—´çš„å‡†å¤‡ï¼Œç°åœ¨è¿›è¡Œ REVMä»£ç çš„é˜…è¯» å‡†å¤‡ç¯èŠ‚è¿™äº›å‡†å¤‡ä¸»è¦åŒ…æ‹¬ä¸€ä¸‹çš„æ–¹é¢ é€Ÿè§ˆ ã€Šç²¾é€šä»¥å¤ªåŠã€‹ï¼Œæœ‰ä¸€ä¸ªå…¨å±€çš„è®¤è¯† https://github.com/WTFAcademy/WTF-Solidity é€šè¿‡è¿™äº›èµ„æ–™æ¥äº†è§£ solidityçš„è¯­æ³•ã€‚æˆ‘çš„æ ‡å‡†æ˜¯å­¦ä¹ å®Œä¸Šé¢çš„è¯¾ç¨‹å¹¶ä¸”å®Œæˆä¹ é¢˜ï¼Œé€šè¿‡è®¤è¯ã€‚ https://www.wtf.academy/docs/evm-opcodes-101 é€šè¿‡è¿™äº›èµ„æ–™æ¥å­¦ä¹ ä»¥å¤ªåŠçš„æ“ä½œç  OPCODEï¼Œ å› ä¸ºä¸ä¼š pythonï¼Œ æ‰€ä»¥ä½¿ç”¨ rustå®ç°äº†å…¶ä¸­å…¶ä¸­çš„é€»è¾‘ã€‚å¯ä»¥å‚è€ƒè¿™ä¸ªé“¾æ¥https://github.com/TigerInYourDream/naive\\_evm ã€‚ä¸»è¦éœ€è¦è·‘é€šå…¶ä¸­çš„ç”¨ä¾‹ï¼ˆæ‰§è¡Œå…¶ä¸­çš„ bytecodeï¼‰ã€‚ï¼ˆè‡³å°‘åšå®Œ 101 å’Œ 102ï¼‰ åšå‡ºäº†ä»¥ä¸Šçš„å‡†å¤‡ä¹‹åï¼Œå¯ä»¥å¯¹ä»¥å¤ªåŠè™šæ‹Ÿæœºæœ‰ä¸€ä¸ªæ•´ä½“æ€§è®¤è¯†ã€‚å…¶ä¸­æ”¹çš„ä»£ç å¯ä»¥å‚è€ƒä¸Šé¢çš„é“¾æ¥é˜…è¯»ã€‚ æ€»ä½“æ¦‚è§ˆç»è¿‡ä»¥ä¸Šçš„å‡†å¤‡ï¼Œå¯¹ä»¥å¤ªåŠè™šæ‹Ÿæœºæœ‰äº†ä¸€ä¸ªæ„Ÿæ€§çš„è®¤è¯†ã€‚ä»æœ€ç®€å•çš„æ¨¡å‹ï¼Œä»¥å¤ªåŠè™šæ‹Ÿæœºå°±æ˜¯ä¸€ä¸ªæ ˆçš„æ•°æ®ç»“æ„ï¼Œæ¯æ¬¡æŠŠb soliditç¼–è¯‘æˆå¯¹åº”çš„ bytecode,ç„¶åæ‹†åˆ†æˆä¸€ä¸ªåˆä¸€ä¸ªçš„ op codeã€‚æŠŠ op codeæŒ‰ç…§æ ˆçš„æ–¹å¼ä¸€æ¬¡æ‰§è¡Œå°±å®Œæˆäº†â€œè™šæ‹Ÿæœºâ€çš„å·¥ä½œã€‚ ä¸‹é¢å›¾æ¥è‡ªäº WFT Academyçš„ op code 101æ•™ç¨‹ï¼Œä»é«˜å±‚æ¬¡å±•ç¤ºäº†ä»¥å¤ªåŠè™šæ‹Ÿæœºçš„ç»“æ„","text":"REVMä»£ç é˜…è¯» 01ç»è¿‡ä¸€äº›æ—¶é—´çš„å‡†å¤‡ï¼Œç°åœ¨è¿›è¡Œ REVMä»£ç çš„é˜…è¯» å‡†å¤‡ç¯èŠ‚è¿™äº›å‡†å¤‡ä¸»è¦åŒ…æ‹¬ä¸€ä¸‹çš„æ–¹é¢ é€Ÿè§ˆ ã€Šç²¾é€šä»¥å¤ªåŠã€‹ï¼Œæœ‰ä¸€ä¸ªå…¨å±€çš„è®¤è¯† https://github.com/WTFAcademy/WTF-Solidity é€šè¿‡è¿™äº›èµ„æ–™æ¥äº†è§£ solidityçš„è¯­æ³•ã€‚æˆ‘çš„æ ‡å‡†æ˜¯å­¦ä¹ å®Œä¸Šé¢çš„è¯¾ç¨‹å¹¶ä¸”å®Œæˆä¹ é¢˜ï¼Œé€šè¿‡è®¤è¯ã€‚ https://www.wtf.academy/docs/evm-opcodes-101 é€šè¿‡è¿™äº›èµ„æ–™æ¥å­¦ä¹ ä»¥å¤ªåŠçš„æ“ä½œç  OPCODEï¼Œ å› ä¸ºä¸ä¼š pythonï¼Œ æ‰€ä»¥ä½¿ç”¨ rustå®ç°äº†å…¶ä¸­å…¶ä¸­çš„é€»è¾‘ã€‚å¯ä»¥å‚è€ƒè¿™ä¸ªé“¾æ¥https://github.com/TigerInYourDream/naive\\_evm ã€‚ä¸»è¦éœ€è¦è·‘é€šå…¶ä¸­çš„ç”¨ä¾‹ï¼ˆæ‰§è¡Œå…¶ä¸­çš„ bytecodeï¼‰ã€‚ï¼ˆè‡³å°‘åšå®Œ 101 å’Œ 102ï¼‰ åšå‡ºäº†ä»¥ä¸Šçš„å‡†å¤‡ä¹‹åï¼Œå¯ä»¥å¯¹ä»¥å¤ªåŠè™šæ‹Ÿæœºæœ‰ä¸€ä¸ªæ•´ä½“æ€§è®¤è¯†ã€‚å…¶ä¸­æ”¹çš„ä»£ç å¯ä»¥å‚è€ƒä¸Šé¢çš„é“¾æ¥é˜…è¯»ã€‚ æ€»ä½“æ¦‚è§ˆç»è¿‡ä»¥ä¸Šçš„å‡†å¤‡ï¼Œå¯¹ä»¥å¤ªåŠè™šæ‹Ÿæœºæœ‰äº†ä¸€ä¸ªæ„Ÿæ€§çš„è®¤è¯†ã€‚ä»æœ€ç®€å•çš„æ¨¡å‹ï¼Œä»¥å¤ªåŠè™šæ‹Ÿæœºå°±æ˜¯ä¸€ä¸ªæ ˆçš„æ•°æ®ç»“æ„ï¼Œæ¯æ¬¡æŠŠb soliditç¼–è¯‘æˆå¯¹åº”çš„ bytecode,ç„¶åæ‹†åˆ†æˆä¸€ä¸ªåˆä¸€ä¸ªçš„ op codeã€‚æŠŠ op codeæŒ‰ç…§æ ˆçš„æ–¹å¼ä¸€æ¬¡æ‰§è¡Œå°±å®Œæˆäº†â€œè™šæ‹Ÿæœºâ€çš„å·¥ä½œã€‚ ä¸‹é¢å›¾æ¥è‡ªäº WFT Academyçš„ op code 101æ•™ç¨‹ï¼Œä»é«˜å±‚æ¬¡å±•ç¤ºäº†ä»¥å¤ªåŠè™šæ‹Ÿæœºçš„ç»“æ„ æ ¸å¿ƒæ¦‚å¿µæ¦‚è§ˆ STACK æ ˆ ä»¥å¤ªåŠè™šæ‹Ÿæœºçš„æ ¸å¿ƒæ¦‚å¿µå°±æ˜¯ä¸€ä¸ªæ ˆã€‚è¿™é‡Œå‡è®¾ä»»ä½•é˜…è¯»æœ¬æ–‡çš„äººéƒ½æœ€åŸºæœ¬çš„è®¡ç®—æœºçŸ¥è¯†ã€‚ä»¥å¤ªåŠçš„æ ˆæ¯ä¸ªå…ƒç´ é•¿åº¦ä¸º 256ä½ï¼ˆ32bytesï¼‰ã€‚æœ€å¤§æ·±åº¦ 1024ã€‚å•æ¬¡æ“ä½œæœ€å¤šåŒ…å«æ ˆé¡¶çš„ 16ä¸ªå…ƒç´ ã€‚è¶…è¿‡æœ€å¤§å…ƒç´ é™åˆ¶ä¼šå‡ºç° â€œStack too deepâ€ é”™è¯¯ã€‚ MEMORY æ˜“å¤±æ€§å­˜å‚¨ï¼Œç†è§£ä¸ºä¸€ä¸ªåŠ¨æ€æ•°ç»„ã€‚æ”¯æŒä»¥ 8 ä¸ºæˆ–è€… 256 ä½å†™å…¥ï¼Œä»¥ 256 ä½è¯»å–ã€‚ Storage åŒºåˆ«äº memoryï¼ŒStorageä¸ºæŒä¹…åŒ–å­˜å‚¨ã€‚ç®€å•ç†è§£å­˜å‚¨ä¸ºä¸€ä¸ªé”®å€¼å¯¹HashMapã€‚å› ä¸ºè®¡ç®—æœºå®é™…ä¸Šçš„å­˜å‚¨åªæœ‰æ•°ç»„ã€‚å®é™…ä¸Šçš„å­˜å‚¨æ˜¯ç›®æ ‡éƒ½æ˜¯å¦‚ä½•é«˜æ•ˆç”Ÿæˆ key,é«˜æ•ˆæŸ¥æ‰¾ valueã€‚åŒºå—é“¾å­˜å‚¨æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„è¯é¢˜ï¼Œè¶…è¿‡äº†æ–‡ç« çš„è®¨è®ºèŒƒç•´ã€‚ å¯¹äºä»¥å¤ªåŠçš„å­˜å‚¨ï¼Œé”®å’Œå€¼éƒ½æ˜¯ 256bitçš„æ•°æ®ã€‚æ”¯æŒä»¥ 256 bitçš„è¯»å’Œå†™ã€‚ä»–çš„æ•°æ®æ˜¯å­˜å‚¨åœ¨é“¾ä¸Šçš„ï¼ŒæŒä¹…åŒ–å­˜åœ¨çš„ã€‚å­˜å‚¨æ•°æ®æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ˜‚è´µçš„æ“ä½œï¼Œè¯»å’Œå–éƒ½éœ€è¦æ¶ˆè€— gasè´¹ç”¨ã€‚åœ¨éœ€è¦é˜…è¯»çš„ revmä»£ç ä¸­ï¼Œå®ƒå€ŸåŠ© ethers-providerå­˜å‚¨ï¼Œè‡ªå·±å¹¶ä¸ç›´æ¥å®ç°å­˜å‚¨çš„éƒ¨åˆ†ã€‚ GAS gaså°±æ˜¯ç‡ƒæ–™è´¹ã€‚ä»¥å¤ªåŠç”¨ç‡ƒæ–™è´¹æ¥è¡¡é‡åˆçº¦çš„æ¶ˆè€—ã€‚revmä¸­æœ‰å¾ˆå¤šä»£ç æ˜¯ç”¨æ¥è®¡ç®— gasè´¹ç”¨çš„ã€‚ä¸€ç¬”äº¤æ˜“çš„ GASæ€»æ¶ˆè€—æ˜¯æ‰€æœ‰ OP_CODE gasè´¹ç”¨ä¹‹å’Œã€‚æ³¨æ„ä½ éœ€è¦åˆç†çš„ä¼°ç®— gasè´¹ç”¨ã€‚å¦‚æœ gasä¸è¶³ï¼Œåˆçº¦ä¼šåœ¨ gasæ¶ˆè€—å®Œä¹‹ååœæ­¢åˆçº¦æ‰§è¡Œï¼Œgasè´¹ç”¨ä¸ä¼šè¿”å›ã€‚ä¼˜åŒ–gasæ¶ˆè€—æ˜¯åˆçº¦ä¼˜åŒ–çš„é‡è¦æ–¹å‘ã€‚ ä»¥å¤ªåŠæ‰§è¡Œæ¨¡å‹ä»¥å¤ªåŠæ‰§è¡Œæ¦‚è§ˆå›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™ä¸ªä¹Ÿæ˜¯å‚è€ƒäº†WTF å½“äº¤æ˜“å‡†å¤‡æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸»è¦æ‰§è¡Œä¸‹é¢çš„æ­¥éª¤ åˆå§‹åŒ–æ‰§è¡Œç¯å¢ƒï¼Œå¹¶ä¸”åŠ è½½å­—èŠ‚ç ã€‚æ‰§è¡Œç¯å¢ƒè¢«ç§°ä¸º ENVåœ¨åç»­è§£è¯» REVMæºç çš„éƒ¨åˆ†ä¼šçœ‹åˆ°ã€‚ å­—èŠ‚ç ä¼šè¢«è½¬åŒ–ä¸º opcodesï¼Œé€ä¸€æ‰§è¡Œã€‚æ¯ä¸ª Opcodesä»£ç ä¸€ç§å›ºå®šçš„æ“ä½œã€‚è¿™ä¸ªå¯ä»¥å‚è€ƒä»¥å¤ªåŠ Opcodesç« èŠ‚ æ‰§è¡Œä¸€ä¸ªopcodes,å¯¹åº”éœ€è¦ç›¸å½“é‡çš„ gasè´¹ç”¨ã€‚å¦‚æœ gasæ¶ˆè€—å®Œæ¯•ï¼Œåˆ™åˆçº¦ä¸­æ–­æ‰§è¡Œï¼Œåœ¨ gasæ¶ˆè€—è´¹ç”¨ä»¥å¤–çš„æ•°æ®é€ä¸€å›æ»šã€‚ æ‰§è¡Œå®Œæˆåï¼Œæ‰€æœ‰æ•°æ®ä¼šåœ¨åŒºå—é“¾ä¸Šè®°å½•ã€‚åŒ…æ‹¬ gasæ¶ˆè€—å’Œæ—¥å¿—ä¿¡æ¯ã€‚(å³Solidityä¸­çš„ Events) ä»é¡¶å±‚ç†è§£ä»¥å¤ªåŠè™šæ‹Ÿæœºçš„ç»“æ„åï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„ä»£ç  https://github.com/TigerInYourDream/naive_evm è¿™ä¸ªåº“æ˜¯æ ¹æ®ä»¥å¤ªåŠè™šæ‹Ÿæœºçš„æœ€åŸºæœ¬åŸç†å®ç°çš„ä»¥å¤ªåŠOpcodesæ“ä½œå®ä¾‹ï¼Œç›¸å½“äºå‚è€ƒ WTF academic ä¸­çš„ä»£ç ï¼Œä½†æ˜¯æŠŠå®ƒå®ç°ä¸º RUSTã€‚ åŸæ–‡æ˜¯ pythonå®ç°çš„ã€‚ åœ¨ä»¥ä¸Šçš„æ‰§è¡Œæ¨¡å‹ä¸­ï¼Œç›¸å½“äºå±•ç¤ºäº† Opcodesæ¯ä¸ªæ“ä½œçš„å…·ä½“æ„ä¹‰ã€‚æœ‰äº†ä»¥ä¸Šçš„åŸºç¡€å‡†å¤‡ä¹‹åï¼Œä¸‹ä¸€ç¯‡å¼€å§‹é˜…è¯» REVMæºç ã€‚ 2024-05-15 14:56:58","categories":[],"tags":[{"name":"-evm","slug":"evm","permalink":"https://imzy.vip/tags/evm/"}]},{"title":"dieselä½¿ç”¨å°è¦ç‚¹","slug":"dieselä½¿ç”¨å°è¦ç‚¹","date":"2021-10-14T18:39:14.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/35993/","link":"","permalink":"https://imzy.vip/posts/35993/","excerpt":"dieselä½¿ç”¨çš„ä¸€äº›å°çŸ¥è¯†ç‚¹æœ€è¿‘å› ä¸ºä½¿ç”¨dieselï¼Œå¤§è‡´çœ‹äº†dieselçš„æ–‡æ¡£åŒæ—¶ç»“åˆè‡ªå·±ä¸¤å¤©å†…å†™ä»£ç çš„ç»éªŒï¼Œæ€»ç»“å‡ºä¸‹é¢å‡ æ¡è¦ç‚¹ï¼Œä½œä¸ºå‚è€ƒã€‚ä¸¥æ ¼æ¥è¯´ï¼Œè¿™äº›çŸ¥è¯†ç‚¹æ¯”è¾ƒçç¢ä¸èƒ½å¤Ÿæˆä¸ºä¸€ç¯‡æ–‡ç« ï¼Œä½†æ˜¯æƒ³åˆ°å¯ä»¥ä¸ºè‡ªå·±ä»¥åä½¿ç”¨dieselä½œå‚è€ƒè¿˜æ˜¯å†™å‡ºæ¥ã€‚ è®¾ç½®å¥½.envä¹‹å diesel setup æ˜¯åˆ›å»ºæ•°æ®åº“çš„ diesel migration generate create_posts æœ€åä¸€ä¸ªå‚æ•°æ˜¯åˆ›å»ºmigrationçš„æ–‡ä»¶å¤¹åçš„ å®ƒä¼šç”Ÿæˆä¸€ä¸ªå¸¦æ—¶é—´çš„migrationæ–‡ä»¶ é‡Œé¢æœ‰ä¸ªupå’Œdownçš„sql up é‡Œé¢è´Ÿè´£åˆ›å»ºæ•°æ®åº“è¡¨çš„ down é‡Œé¢è´Ÿè´£æ’¤å›è½¦æ“ä½œçš„ up å’Œ down é‡Œé¢çš„sqlè¦è‡ªå·±åˆ›å»º diesel migration run æ‰§è¡Œmigrationé‡Œé¢çš„up.sqlçš„æ“ä½œçš„ ç¡®åˆ‡çš„è¯´å°±æ˜¯å»ºè¡¨ 5. diesel migration redo æ‰§è¡Œmigrationé‡Œé¢çš„down.sqlçš„æ“ä½œ ç¡®åˆ‡çš„æ‹‰è¯´æ˜¯åˆ é™¤è¡¨ æ³¨æ„äº† setupæ˜¯ä¼šåˆ›å»ºæ•°æ®åº“å’Œç›´æ¥è¿è¡Œmigration runä¸­çš„å»ºè¡¨æ•°æ®çš„ ä½†æ˜¯å¦‚æœæ•°æ®åº“å­˜åœ¨æ˜¯ä¸ä¼šè¿è¡Œçš„ã€‚å¦‚æœåœ¨ migrationä¸­æ·»åŠ ï¼Œåç»­è¿™ä¸ªä¹Ÿæ˜¯ä¸ä¼šè¿è¡Œçš„ è¿™ä¸€æ­¥è¿›è¡Œä¹‹åschemaæ–‡ä»¶ä¹Ÿä¼šç”Ÿæˆã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯å¯ä»¥æ”¹çš„ ï¼Œä½†æ˜¯ä¸å»ºè®®æ”¹ å¦‚æœå‡çº§æ•°æ®åº“ï¼Œè¯·ä½¿ç”¨æ–°çš„migrationæ–‡ä»¶ æ³¨æ„ä½¿ç”¨extern crate diesel å’Œ#[marco use],ä¸ç„¶schemaä¸‹çš„ä¸œè¥¿åˆæ˜¯æ‰¾ä¸åˆ°çš„ ä»¥ä¸Šçš„æ¡ç›®ä¸­éœ€è¦è¡¥å……çš„è¿˜æœ‰å¦‚ä¸‹ æœ¬æ¥ä»¥ä¸ºåœ¨rust2018ç‰ˆæœ¬ä»¥åï¼Œå°±å®Œå…¨ä¸ä½¿ç”¨extern crateäº†ã€‚ä½†æ˜¯äº‹å®è¯æ˜è¿˜æ˜¯éœ€è¦extern crate dieselå’Œ#[marco_use]çš„ï¼Œä¸ç„¶ä¼šæœ‰å¾ˆå¤šä¸œè¥¿æ‰¾ä¸åˆ° ä½¿ç”¨dieselå°½é‡å¼•å…¥prelude::* è™½ç„¶æˆ‘ä¸å–œæ¬¢è¿™æ ·å¼•å…¥ï¼Œä½†æ˜¯è‡ªå·±ç²¾ç¡®å¼•å…¥ä¼šå¾ˆéº»çƒ¦ ä¸€å®šè¦æ³¨æ„schemaæ–‡ä»¶ å¦‚æœä½¿ç”¨åªæ˜¯ä½¿ç”¨dieselæŸ¥è¯¢å’Œå†™å…¥å¦‚ä½•ç®€åŒ–ä»£ç è¿™ä¸ªé—®é¢˜ä¼šæ˜¾çš„å¾ˆå¥‡æ€ªï¼Œå› ä¸ºä½œä¸ºä¸€ä¸ªORMï¼Œæœ¬æ¥å°±æ˜¯è¾…åŠ©æˆ‘ä»¬è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„ã€‚å…¶å®æˆ‘ä»¬çœ‹äº†dieselçš„å®˜æ–¹æŒ‡å¼•ä¹‹åå°±ä¼šè§‰å¾—è¿™ä¸ªé—®é¢˜å¾ˆåˆç†ã€‚é‡æ–°è¡¨è¿°å¦‚ä¸‹ æ ¹æ®dieselçš„å®˜æ–¹æŒ‡å¼•ï¼Œæˆ‘ä»¬æ˜¯ç”¨å»ºç«‹è¿æ¥ï¼Œå»ºç«‹æ•°æ®åº“ï¼Œè®¾è®¡è¡¨è¿™å‡ ä¸ªæ­¥éª¤ä¸€è·¯èµ°ä¸‹æ¥çš„ã€‚å®é™…ä¸Šï¼Œå¤§å¤šæ•°æ—¶å€™ï¼Œæ•°æ®è¡¨å¹¶ä¸æ˜¯æˆ‘ä»¬å»ºç«‹çš„ã€‚æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨dieselçš„åº“ï¼Œè¿æ¥æ•°æ®åº“CRUDå³å¯ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚ä½•ç®€åŒ–æ“ä½œå‘¢ï¼Ÿ æ ¹æ®æˆ‘çš„å°è¯•å¤§è‡´éœ€è¦å¦‚ä¸‹ å¼•å…¥åº“ï¼Œè¿™ä¸ªæ˜¯å¿…é¡»çš„ è®¾ç½®sqlè·¯å¾„ï¼Œè¿™ä¸ªæ˜¯å¿…é¡»çš„ æ— éœ€diesel setupå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦å»ºç«‹æ•°æ®åº“ï¼Œæ•°æ®åº“æ˜¯å­˜åœ¨çš„ æ— éœ€diesle migration run å› ä¸ºè¡¨ä¹Ÿä¸æ˜¯æˆ‘ä»¬å»ºç«‹çš„ã€‚ æ²¡æœ‰å»ºè¡¨ï¼Œæ²¡è¿è¡Œdiesel migration runï¼Œåˆ™dieselä¸ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨å»ºç«‹schema.rsæ–‡ä»¶ï¼Œä¹Ÿä¸ä¼šåœ¨schema.rsä¸­ç”Ÿæˆtableå®çš„è¯­æ³•ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å»å»ºç«‹schema.rsçš„æ–‡ä»¶ï¼Œsrc/schema.rsã€‚å°±æ˜¯å¿…é¡»å»ºç«‹çš„åœ¨srcè·¯å¾„ä¸‹é¢ã€‚è¿™æ ·æ‰ä¸ä¼šå‡ºé”™ã€‚ç„¶åæˆ‘ä»¬åœ¨schema.rsä¸­æ‰‹åŠ¨å†™å…¥ table!å®ã€‚è¿™æ ·æ‰å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚ ä»¥ä¸Šçš„æ­¥éª¤æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ï¼Œä¹Ÿæ˜¯æ–‡ä»¶æœ€å°‘çš„æƒ…å†µã€‚è¿˜æœ‰ä¸‹é¢çš„æƒ…å†µè¡¥å…… å¦‚æœæˆ‘ä»¬è¿è¡Œäº†diesel set å¦‚æœæ•°æ®åº“å­˜åœ¨ï¼Œæ˜¯ä¸ä¼šå»ºç«‹æ•°æ®åº“çš„ã€‚ä¼šäº§ç”Ÿä¸€ä¸ªmigrationsæ–‡ä»¶ã€‚ä¸€ä¸ªå’ŒCargo.tomlåŒçº§åˆ«çš„diesel.tomlæ–‡ä»¶ï¼Œé‡Œé¢é…ç½®äº†schema.rsæ–‡ä»¶çš„ä½ç½®ã€‚ æ‰€ä»¥ä¸Šä¸€æ­¥ä¸­å¦‚æœä¸è¿è¡Œdiesel setï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æŠŠschemaæ–‡ä»¶æ”¾åœ¨æŒ‡å®šçš„ä½ç½®ã€‚ åŒæ—¶ï¼Œå› ä¸ºæˆ‘ä»¬ ä¸å»ºè¡¨ï¼Œæ‰€ä»¥ä¸è¿è¡Œdiesel migration runã€‚schemaé‡Œé¢æ˜¯ç©ºçš„ï¼Œä¸ºäº†æ­£ç¡®ä½¿ç”¨ormçš„æ–¹ä¾¿ç‰¹æ€§ï¼Œæˆ‘ä»¬å¾—å»æ‰‹åŠ¨è¡¥å…¨è¿™ä¸ªæ–‡ä»¶ï¼Œè‡ªå·±å†™table!å®ã€‚å½“ç„¶è¿™ä¸ªå¾ˆå®¹æ˜“ã€‚çœ‹exampleå³å¯ ä¸€äº›é›¶ç¢çš„çŸ¥è¯†ï¼Œå…¶ä»–çš„æ­£å¸¸ä½¿ç”¨å‚è€ƒæ–‡æ¡£å³å¯ã€‚è¿™ä¸ªç®—æ˜¯åœ¨æ–‡æ¡£ä¹‹å¤–çš„è¡¥å……å¤‡æŸ¥ï¼","text":"dieselä½¿ç”¨çš„ä¸€äº›å°çŸ¥è¯†ç‚¹æœ€è¿‘å› ä¸ºä½¿ç”¨dieselï¼Œå¤§è‡´çœ‹äº†dieselçš„æ–‡æ¡£åŒæ—¶ç»“åˆè‡ªå·±ä¸¤å¤©å†…å†™ä»£ç çš„ç»éªŒï¼Œæ€»ç»“å‡ºä¸‹é¢å‡ æ¡è¦ç‚¹ï¼Œä½œä¸ºå‚è€ƒã€‚ä¸¥æ ¼æ¥è¯´ï¼Œè¿™äº›çŸ¥è¯†ç‚¹æ¯”è¾ƒçç¢ä¸èƒ½å¤Ÿæˆä¸ºä¸€ç¯‡æ–‡ç« ï¼Œä½†æ˜¯æƒ³åˆ°å¯ä»¥ä¸ºè‡ªå·±ä»¥åä½¿ç”¨dieselä½œå‚è€ƒè¿˜æ˜¯å†™å‡ºæ¥ã€‚ è®¾ç½®å¥½.envä¹‹å diesel setup æ˜¯åˆ›å»ºæ•°æ®åº“çš„ diesel migration generate create_posts æœ€åä¸€ä¸ªå‚æ•°æ˜¯åˆ›å»ºmigrationçš„æ–‡ä»¶å¤¹åçš„ å®ƒä¼šç”Ÿæˆä¸€ä¸ªå¸¦æ—¶é—´çš„migrationæ–‡ä»¶ é‡Œé¢æœ‰ä¸ªupå’Œdownçš„sql up é‡Œé¢è´Ÿè´£åˆ›å»ºæ•°æ®åº“è¡¨çš„ down é‡Œé¢è´Ÿè´£æ’¤å›è½¦æ“ä½œçš„ up å’Œ down é‡Œé¢çš„sqlè¦è‡ªå·±åˆ›å»º diesel migration run æ‰§è¡Œmigrationé‡Œé¢çš„up.sqlçš„æ“ä½œçš„ ç¡®åˆ‡çš„è¯´å°±æ˜¯å»ºè¡¨ 5. diesel migration redo æ‰§è¡Œmigrationé‡Œé¢çš„down.sqlçš„æ“ä½œ ç¡®åˆ‡çš„æ‹‰è¯´æ˜¯åˆ é™¤è¡¨ æ³¨æ„äº† setupæ˜¯ä¼šåˆ›å»ºæ•°æ®åº“å’Œç›´æ¥è¿è¡Œmigration runä¸­çš„å»ºè¡¨æ•°æ®çš„ ä½†æ˜¯å¦‚æœæ•°æ®åº“å­˜åœ¨æ˜¯ä¸ä¼šè¿è¡Œçš„ã€‚å¦‚æœåœ¨ migrationä¸­æ·»åŠ ï¼Œåç»­è¿™ä¸ªä¹Ÿæ˜¯ä¸ä¼šè¿è¡Œçš„ è¿™ä¸€æ­¥è¿›è¡Œä¹‹åschemaæ–‡ä»¶ä¹Ÿä¼šç”Ÿæˆã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯å¯ä»¥æ”¹çš„ ï¼Œä½†æ˜¯ä¸å»ºè®®æ”¹ å¦‚æœå‡çº§æ•°æ®åº“ï¼Œè¯·ä½¿ç”¨æ–°çš„migrationæ–‡ä»¶ æ³¨æ„ä½¿ç”¨extern crate diesel å’Œ#[marco use],ä¸ç„¶schemaä¸‹çš„ä¸œè¥¿åˆæ˜¯æ‰¾ä¸åˆ°çš„ ä»¥ä¸Šçš„æ¡ç›®ä¸­éœ€è¦è¡¥å……çš„è¿˜æœ‰å¦‚ä¸‹ æœ¬æ¥ä»¥ä¸ºåœ¨rust2018ç‰ˆæœ¬ä»¥åï¼Œå°±å®Œå…¨ä¸ä½¿ç”¨extern crateäº†ã€‚ä½†æ˜¯äº‹å®è¯æ˜è¿˜æ˜¯éœ€è¦extern crate dieselå’Œ#[marco_use]çš„ï¼Œä¸ç„¶ä¼šæœ‰å¾ˆå¤šä¸œè¥¿æ‰¾ä¸åˆ° ä½¿ç”¨dieselå°½é‡å¼•å…¥prelude::* è™½ç„¶æˆ‘ä¸å–œæ¬¢è¿™æ ·å¼•å…¥ï¼Œä½†æ˜¯è‡ªå·±ç²¾ç¡®å¼•å…¥ä¼šå¾ˆéº»çƒ¦ ä¸€å®šè¦æ³¨æ„schemaæ–‡ä»¶ å¦‚æœä½¿ç”¨åªæ˜¯ä½¿ç”¨dieselæŸ¥è¯¢å’Œå†™å…¥å¦‚ä½•ç®€åŒ–ä»£ç è¿™ä¸ªé—®é¢˜ä¼šæ˜¾çš„å¾ˆå¥‡æ€ªï¼Œå› ä¸ºä½œä¸ºä¸€ä¸ªORMï¼Œæœ¬æ¥å°±æ˜¯è¾…åŠ©æˆ‘ä»¬è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„ã€‚å…¶å®æˆ‘ä»¬çœ‹äº†dieselçš„å®˜æ–¹æŒ‡å¼•ä¹‹åå°±ä¼šè§‰å¾—è¿™ä¸ªé—®é¢˜å¾ˆåˆç†ã€‚é‡æ–°è¡¨è¿°å¦‚ä¸‹ æ ¹æ®dieselçš„å®˜æ–¹æŒ‡å¼•ï¼Œæˆ‘ä»¬æ˜¯ç”¨å»ºç«‹è¿æ¥ï¼Œå»ºç«‹æ•°æ®åº“ï¼Œè®¾è®¡è¡¨è¿™å‡ ä¸ªæ­¥éª¤ä¸€è·¯èµ°ä¸‹æ¥çš„ã€‚å®é™…ä¸Šï¼Œå¤§å¤šæ•°æ—¶å€™ï¼Œæ•°æ®è¡¨å¹¶ä¸æ˜¯æˆ‘ä»¬å»ºç«‹çš„ã€‚æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨dieselçš„åº“ï¼Œè¿æ¥æ•°æ®åº“CRUDå³å¯ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚ä½•ç®€åŒ–æ“ä½œå‘¢ï¼Ÿ æ ¹æ®æˆ‘çš„å°è¯•å¤§è‡´éœ€è¦å¦‚ä¸‹ å¼•å…¥åº“ï¼Œè¿™ä¸ªæ˜¯å¿…é¡»çš„ è®¾ç½®sqlè·¯å¾„ï¼Œè¿™ä¸ªæ˜¯å¿…é¡»çš„ æ— éœ€diesel setupå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦å»ºç«‹æ•°æ®åº“ï¼Œæ•°æ®åº“æ˜¯å­˜åœ¨çš„ æ— éœ€diesle migration run å› ä¸ºè¡¨ä¹Ÿä¸æ˜¯æˆ‘ä»¬å»ºç«‹çš„ã€‚ æ²¡æœ‰å»ºè¡¨ï¼Œæ²¡è¿è¡Œdiesel migration runï¼Œåˆ™dieselä¸ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨å»ºç«‹schema.rsæ–‡ä»¶ï¼Œä¹Ÿä¸ä¼šåœ¨schema.rsä¸­ç”Ÿæˆtableå®çš„è¯­æ³•ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å»å»ºç«‹schema.rsçš„æ–‡ä»¶ï¼Œsrc/schema.rsã€‚å°±æ˜¯å¿…é¡»å»ºç«‹çš„åœ¨srcè·¯å¾„ä¸‹é¢ã€‚è¿™æ ·æ‰ä¸ä¼šå‡ºé”™ã€‚ç„¶åæˆ‘ä»¬åœ¨schema.rsä¸­æ‰‹åŠ¨å†™å…¥ table!å®ã€‚è¿™æ ·æ‰å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚ ä»¥ä¸Šçš„æ­¥éª¤æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ï¼Œä¹Ÿæ˜¯æ–‡ä»¶æœ€å°‘çš„æƒ…å†µã€‚è¿˜æœ‰ä¸‹é¢çš„æƒ…å†µè¡¥å…… å¦‚æœæˆ‘ä»¬è¿è¡Œäº†diesel set å¦‚æœæ•°æ®åº“å­˜åœ¨ï¼Œæ˜¯ä¸ä¼šå»ºç«‹æ•°æ®åº“çš„ã€‚ä¼šäº§ç”Ÿä¸€ä¸ªmigrationsæ–‡ä»¶ã€‚ä¸€ä¸ªå’ŒCargo.tomlåŒçº§åˆ«çš„diesel.tomlæ–‡ä»¶ï¼Œé‡Œé¢é…ç½®äº†schema.rsæ–‡ä»¶çš„ä½ç½®ã€‚ æ‰€ä»¥ä¸Šä¸€æ­¥ä¸­å¦‚æœä¸è¿è¡Œdiesel setï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æŠŠschemaæ–‡ä»¶æ”¾åœ¨æŒ‡å®šçš„ä½ç½®ã€‚ åŒæ—¶ï¼Œå› ä¸ºæˆ‘ä»¬ ä¸å»ºè¡¨ï¼Œæ‰€ä»¥ä¸è¿è¡Œdiesel migration runã€‚schemaé‡Œé¢æ˜¯ç©ºçš„ï¼Œä¸ºäº†æ­£ç¡®ä½¿ç”¨ormçš„æ–¹ä¾¿ç‰¹æ€§ï¼Œæˆ‘ä»¬å¾—å»æ‰‹åŠ¨è¡¥å…¨è¿™ä¸ªæ–‡ä»¶ï¼Œè‡ªå·±å†™table!å®ã€‚å½“ç„¶è¿™ä¸ªå¾ˆå®¹æ˜“ã€‚çœ‹exampleå³å¯ ä¸€äº›é›¶ç¢çš„çŸ¥è¯†ï¼Œå…¶ä»–çš„æ­£å¸¸ä½¿ç”¨å‚è€ƒæ–‡æ¡£å³å¯ã€‚è¿™ä¸ªç®—æ˜¯åœ¨æ–‡æ¡£ä¹‹å¤–çš„è¡¥å……å¤‡æŸ¥ï¼","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"rust","slug":"rust","permalink":"https://imzy.vip/tags/rust/"}]},{"title":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®— morinus house system","slug":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®—-morinus-house-system","date":"2021-08-10T22:37:53.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/26767/","link":"","permalink":"https://imzy.vip/posts/26767/","excerpt":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®— morinus house systemåœ¨ç³»åˆ—å‰ä¸‰èŠ‚ï¼Œå·²ç»åŸºæœ¬ä»‹ç»äº†å’Œå æ˜Ÿæœ‰å…³çš„æ¨¡å‹ï¼ŒåŸºæœ¬çš„åˆ†å®«åˆ¶çš„åŸç†å’Œå æ˜Ÿä»¥åŠå¤©æ–‡ä¸­æ‰€å‡ºç°çš„æœ¯è¯­ï¼Œè¿™ä¸€èŠ‚å°†å¸¦å¤§å®¶è¿›è¡Œä¸€æ¬¡å®é™…çš„å æ˜Ÿè®¡ç®—ã€‚æœ¬æ–‡ä»…æ¶‰åŠæ˜Ÿç›˜çš„è®¡ç®—ï¼Œä¸æ¶‰åŠå…¶ä»–ã€‚ æœ¬æ–‡çš„é‡ç‚¹æ˜¯æ˜Ÿç›˜çš„è®¡ç®—ã€‚æœ¬æ–‡å°†é‡‡ç”¨è«æ—åˆ†å®«åˆ¶morinus house systemï¼è‡³äºä¸ºä»€ä¹ˆé€‰æ‹©è«æ—åˆ†å®«åˆ¶ï¼Œæ˜¯å› ä¸ºè«æ—åˆ†å®«åˆ¶å¯ä»¥æ‰¾åˆ°å…·ä½“çš„æ•°å­¦è®¡ç®—å…¬å¼ï¼Œä¾¿äºè®¡ç®—ã€‚ä¸”è«æ—åˆ†å®«åˆ¶åœ¨é«˜çº¬åº¦åœ°åŒºå—åˆ°çš„æ‰­æ›²å°ã€‚è‡³äºåˆ†å®«åˆ¶çš„åŸºæœ¬åŸç†ï¼Œå¯ä»¥æŸ¥çœ‹ä¸Šä¸€èŠ‚åˆ†å®«åˆ¶åŸºæœ¬åŸç†ã€‚ å¯¹äºâ€œmorinus house systemâ€æ˜¯æœ‰ä¸“é—¨çš„è®¡ç®—æ–¹æ³•ï¼Œé€šè¿‡ä¸€ç³»åˆ—çš„åŠ å‡ä¹˜é™¤ç®—å‡ºä¸€ä¸ªäººå‡ºç”Ÿæ—¶çš„MCã€Ascä»¥åŠæ¯ä¸ªå®«å¤´æ‰€åœ¨å¾—åº¦æ•°ï¼Œå°±å¯ä»¥æ’å‡ºä¸€ä¸ªè¿‘ä¹å®Œæ•´çš„æ˜Ÿå›¾äº†ã€‚ ASCï¼šä¸œå‡ç‚¹æ˜¯åœ¨è¯ç”Ÿæ—¶åˆ»åœ¨è¯ç”Ÿåœ°ç‚¹çš„ä¸œé¢åœ°å¹³ä¸é»„é“äº¤æ¥çš„ä¸€ç‚¹ MCï¼šå¤©é¡¶ æˆ‘ä»¬åœ¨è®¡ç®—çš„æ—¶å€™éœ€è¦ä»¥ä¸‹å‚æ•° å½“äº‹äººçš„å‡ºç”Ÿä½ç½®ï¼Œéœ€è¦ä»å…·ä½“åœ°ç‚¹è½¬åŒ–æˆç»çº¬åº¦ å‡ºç”Ÿæ—¶é—´ï¼Œéœ€è¦è½¬åŒ–ä¸ºæ’æ˜Ÿæ—¶ é»„èµ¤äº¤è§’ï¼Œè¿™ä¸ªæ˜¯å›ºå®šå€¼ã€‚å…³äºé»„èµ¤äº¤è§’å¯ä»¥çœ‹ç¬¬ä¸€èŠ‚å¤©çƒéƒ¨åˆ†ã€‚23Â°27â€² ä»¥åŠå¦‚ä¸‹å…¬å¼ MC = arctan(tan(RAMC) / cos(e)) RAMCä¸ºä¸Šä¸­å¤©çš„èµ¤ç»åº¦æ•°","text":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®— morinus house systemåœ¨ç³»åˆ—å‰ä¸‰èŠ‚ï¼Œå·²ç»åŸºæœ¬ä»‹ç»äº†å’Œå æ˜Ÿæœ‰å…³çš„æ¨¡å‹ï¼ŒåŸºæœ¬çš„åˆ†å®«åˆ¶çš„åŸç†å’Œå æ˜Ÿä»¥åŠå¤©æ–‡ä¸­æ‰€å‡ºç°çš„æœ¯è¯­ï¼Œè¿™ä¸€èŠ‚å°†å¸¦å¤§å®¶è¿›è¡Œä¸€æ¬¡å®é™…çš„å æ˜Ÿè®¡ç®—ã€‚æœ¬æ–‡ä»…æ¶‰åŠæ˜Ÿç›˜çš„è®¡ç®—ï¼Œä¸æ¶‰åŠå…¶ä»–ã€‚ æœ¬æ–‡çš„é‡ç‚¹æ˜¯æ˜Ÿç›˜çš„è®¡ç®—ã€‚æœ¬æ–‡å°†é‡‡ç”¨è«æ—åˆ†å®«åˆ¶morinus house systemï¼è‡³äºä¸ºä»€ä¹ˆé€‰æ‹©è«æ—åˆ†å®«åˆ¶ï¼Œæ˜¯å› ä¸ºè«æ—åˆ†å®«åˆ¶å¯ä»¥æ‰¾åˆ°å…·ä½“çš„æ•°å­¦è®¡ç®—å…¬å¼ï¼Œä¾¿äºè®¡ç®—ã€‚ä¸”è«æ—åˆ†å®«åˆ¶åœ¨é«˜çº¬åº¦åœ°åŒºå—åˆ°çš„æ‰­æ›²å°ã€‚è‡³äºåˆ†å®«åˆ¶çš„åŸºæœ¬åŸç†ï¼Œå¯ä»¥æŸ¥çœ‹ä¸Šä¸€èŠ‚åˆ†å®«åˆ¶åŸºæœ¬åŸç†ã€‚ å¯¹äºâ€œmorinus house systemâ€æ˜¯æœ‰ä¸“é—¨çš„è®¡ç®—æ–¹æ³•ï¼Œé€šè¿‡ä¸€ç³»åˆ—çš„åŠ å‡ä¹˜é™¤ç®—å‡ºä¸€ä¸ªäººå‡ºç”Ÿæ—¶çš„MCã€Ascä»¥åŠæ¯ä¸ªå®«å¤´æ‰€åœ¨å¾—åº¦æ•°ï¼Œå°±å¯ä»¥æ’å‡ºä¸€ä¸ªè¿‘ä¹å®Œæ•´çš„æ˜Ÿå›¾äº†ã€‚ ASCï¼šä¸œå‡ç‚¹æ˜¯åœ¨è¯ç”Ÿæ—¶åˆ»åœ¨è¯ç”Ÿåœ°ç‚¹çš„ä¸œé¢åœ°å¹³ä¸é»„é“äº¤æ¥çš„ä¸€ç‚¹ MCï¼šå¤©é¡¶ æˆ‘ä»¬åœ¨è®¡ç®—çš„æ—¶å€™éœ€è¦ä»¥ä¸‹å‚æ•° å½“äº‹äººçš„å‡ºç”Ÿä½ç½®ï¼Œéœ€è¦ä»å…·ä½“åœ°ç‚¹è½¬åŒ–æˆç»çº¬åº¦ å‡ºç”Ÿæ—¶é—´ï¼Œéœ€è¦è½¬åŒ–ä¸ºæ’æ˜Ÿæ—¶ é»„èµ¤äº¤è§’ï¼Œè¿™ä¸ªæ˜¯å›ºå®šå€¼ã€‚å…³äºé»„èµ¤äº¤è§’å¯ä»¥çœ‹ç¬¬ä¸€èŠ‚å¤©çƒéƒ¨åˆ†ã€‚23Â°27â€² ä»¥åŠå¦‚ä¸‹å…¬å¼ MC = arctan(tan(RAMC) / cos(e)) RAMCä¸ºä¸Šä¸­å¤©çš„èµ¤ç»åº¦æ•° æ˜Ÿè¡¨ä¸Šä¸“é—¨æœ‰æ ç›®æ˜¯æ˜Ÿæ˜Ÿçš„èµ¤ç»(å¸Œè…Šå­—æ¯Î±)çš„ä¸€èˆ¬æ ¼å¼æ˜¯XhXXminXXs.å…¶å®æ¦‚å¿µå’Œåœ°çƒçš„ä¸œç»è¥¿ç»å·®ä¸å¤š,ä½†ä¸åˆ†ä¸œè¥¿ä¸¤ä¸ªæ–¹å‘,å°±æ˜¯ä»0åº¦å¼€å§‹æŒ‰ä¸€å®šæ–¹å‘åˆ°360åº¦(å°±æ˜¯å¼€å§‹çš„åœ°æ–¹),æ›´ç®€å•äº†.å…³äºæ¢ç®—,å…ˆä»è§’åº¦ä¸Šçœ‹èµ¤ç»æ˜¯åœ¨å¤©çƒèµ¤é“è‡ªè¥¿å‘ä¸œç”±0å°æ—¶è‡³24 å°æ—¶ã€‚æŠŠèµ¤ç»çš„ä¸€å‘¨360åº¦åˆ’æˆ24ä»½,ä¸€ä»½å°±æ˜¯15åº¦.é‚£ä¹ˆå¾ˆç®€å•äº†,1å°æ—¶=15åº¦.æ—¶é—´ä¸Šçš„å°æ—¶å’Œè§’åº¦ä¸Šçš„åº¦çš„ä¸‹é¢çš„å°å•ä½éƒ½å«åˆ†,ç§’,æ¢ç®—ä¹Ÿéƒ½æ˜¯60.ä¸ºäº†ä¸æ··æ·†,ç”¨æ—¶åˆ†,æ—¶ç§’å’Œè§’åˆ†,è§’ç§’æ¥è¡¨ç¤º.æ ¹æ®é‚£ä¸ªåŸå§‹çš„æ¢ç®—å…¬å¼,å¯ä»¥å¾—åˆ°1æ—¶åˆ†=15è§’åˆ†,1æ—¶ç§’=15è§’ç§’ ã€‚èµ¤ç»è®¡ç®—çš„èµ·ç‚¹ä¸ºæ˜¥åˆ†ç‚¹ï¼Œæ˜¥åˆ†ç‚¹æ˜¯å¤ªé˜³åœ¨æ¯å¹´çš„æ˜¥åˆ†ï¼ˆ3æœˆ21æ—¥å‰åï¼‰æ‰€å¤„çš„ä½ç½®ã€‚ æ³¨1ï¼šæ‰€æœ‰çš„æ•°å­—éƒ½è¦è½¬åŒ–ä¸ºæ—¶é—´ æ³¨2ï¼šRAMCéœ€è¦æ’æ˜Ÿæ—¶é—´æ¢ç®—ã€‚ åšäº†æ¦‚å¿µçš„å‡†å¤‡ä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹é€‰å–ä¸€ä¸ªå…·ä½“çš„ä¾‹å­è¿›è¡Œè®¡ç®— é¦–å…ˆï¼Œå‡è®¾å½“äº‹äººå‡ºç”Ÿå¾—åœ°ç†ä½ç½®ä¸ºï¼ˆ52o 13â€² N and 6o 54â€² Eï¼‰ï¼Œè·å…°æ©æ–¯ç§‘å¾·ã€‚æ—¶é—´ï¼š2016å¹´11æœˆ2æ—¥ï¼ˆå…¬å†ï¼‰ï¼Œ21:17:30ï¼ˆæ ¼æ—å°¼æ²»æ—¶é—´ï¼‰ï¼Œæ’æ˜Ÿæ—¶ï¼š0:35:23.6ï¼Œé»„èµ¤äº¤è§’eï¼š23Â°27â€²ã€‚ æƒ³çŸ¥é“ä»€ä¹ˆæ˜¯æ’æ˜Ÿæ—¶ï¼šç‚¹è¿™ä¸ª ç„¶åæŠŠæ•°æ®ä»£å…¥å„’ç•¥å†å’Œæ’æ˜Ÿæ—¶è®¡ç®—å‡†å¤‡çš„ç¨‹åºä¸­ã€‚å¾—åˆ°ç»“æœ res 1.9485282441601157Â°The sidereal hour is 0.1299018829440077hThe sidereal time is 0.0h7.0m47.646778598427716s å¾—åˆ°å½“æ—¶çš„æ’æ˜Ÿæ—¶ä¸º1.95åº¦ï¼Œè½¬æ¢æˆæ—¶é—´ä¸º0.1299å°æ—¶ã€‚0æ—¶7åˆ†47ç§’ã€‚ è¿™é‡Œçš„åº¦æ•°å°±æ˜¯RAMC ä¸º1.95. é»„èµ¤äº¤è§’e=23åº¦27åˆ†ï¼Œè½¬åŒ–ä¸ºæ—¶é—´ä¸º23.45æ—¶ï¼ˆ27/60=0.45ï¼‰ MC= arctan ( TAN (1.95) Ã· COS 23.45 ) è®¡ç®—ä»£ç ä½¿ç”¨rustè‡ªå¸¦çš„ä¸‰è§’å‡½æ•°ï¼Œrustä¸­çš„ä¸‰è§’ä½¿ç”¨çš„æ˜¯å¼§åº¦ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¼§åº¦å’Œè§’åº¦ä¹‹é—´äº’ç›¸è½¬åŒ–ã€‚ å¾—åˆ°ä¸­å¤©æ•°ä¸º2.12åº¦ã€‚æ ¹æ®ä¹‹å‰åˆ†å®«åˆ¶çš„è®¡ç®—ï¼Œä¸‰ååº¦ä¸ºä¸€ä¸ªå®«ä½ã€‚2.12åº¦ä¸ºä¸€ä¸ªé¦–å®«ä½ç™½ç¾Šåº§ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·è¯´ï¼šMCåœ¨ç™½ç¾Šåº§2.12å¤„ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬è®¡ç®—ä¸Šå‡ç‚¹ASC ASC= ARCCOT (- ( (TAN f x SIN e) + (SIN RAMC x COS e) ) Ã· COS RAMC) å› ä¸ºè®¡ç®—æœºä¸Šæ²¡æœ‰åä½™åˆ‡å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦æ¢ç®—ï¼š ARCCOT = (Ï€/2) - ARCTAN,è¿™æ˜¯å¼§åº¦ï¼Œè§’åº¦æ˜¯90åº¦- ARCTANã€‚ æ‰€ä»¥å…¬å¼å¯ä»¥è½¬æ¢ä¸ºä¸‹é¢ ARCTAN(- ( (TAN f x SIN e) + (SIN RAMC x COS e) ) Ã· COS RAMC) å…¶ä¸­fä¸ºå‡ºç”Ÿçº¬åº¦52.21æ—¶ï¼Œå·²æ¢ç®—. æœ€ç»ˆçš„ç»“æœä¸º 119.28330880864735 è¿›å…¥ç¬¬å››å®«ä½çš„æœ«å°¾119.2833 - 30*3 = 29.283308808647348åº¦ã€‚å³ä¾¿æ˜¯å·¨èŸ¹åº§çš„29.28åº¦ã€‚å·¨èŸ¹åº§çš„å°¾å·´ã€‚ 123456789101112131415161718192021222324252627use std::f64::consts::PI;use std::f64::consts::E;pub fn to_radians(x: f64) -&gt; f64 &#123; x * PI / 180f64&#125;pub fn to_angle(x: f64) -&gt; f64 &#123; x * 180f64 / PI&#125;pub fn houses_system() &#123; println!(&quot;houses_system!&quot;); let a = to_radians(1.95f64).tan() / to_radians(23.45f64).cos(); let mc = a.atan(); println!(&quot;&#123;:?&#125;&quot;, to_angle(mc)); //ARCTAN(- ( (TAN f x SIN e) + (SIN RAMC x COS e) ) Ã· COS RAMC) let f = -to_radians(52.21f64).tan() * E.sin() + to_radians(1.95f64).sin() * E.cos(); println!(&quot;&#123;:?&#125;&quot;, f); let mut asc = to_angle(f.atan()); println!(&quot;asc &#123;:?&#125;&quot;, asc); if asc &lt; 0f64 &#123; asc = 90f64 - asc &#125; println!(&quot;asc &#123;:?&#125;&quot;, asc);&#125; å…·ä½“çš„ä»£ç è¿˜æ˜¯åœ¨ä¸Šä¸€èŠ‚çš„ä»£ç ä¸­ã€‚ä¸ºäº†æ¸…æ™°ï¼Œæ”¹å˜äº†ä»£ç ç»“æ„ã€‚å› ä¸ºå±•ç¤ºçš„æ˜¯è®¡ç®—è¿‡ç¨‹ï¼Œä»£ç é£æ ¼è¾ƒå·®ã€‚ https://github.com/TigerInYourDream/sidereal-time å¯¹åº”çš„ç›¸åº”çš„å„ç§å æ˜Ÿè®¡ç®—ä¹Ÿæ˜¯æ ¹æ®å¦‚ä¸Šçš„å…¬å¼è¿›è¡Œä¸€æ­¥æ­¥è®¡ç®—å’Œæ¨æ¼”å¾—å‡ºçš„ã€‚æœ¬æ–‡å’Œä¸€äº›æˆç†Ÿçš„æ˜Ÿç›˜æ•°æ®è¿›è¡Œäº†å¯¹æ¯”ï¼Œå‘ç°æœ‰ä¸€å®šçš„è§’åº¦åå·®ã€‚å‘ç°ä¸»è¦çš„å·®åˆ«åœ¨æ’æ˜Ÿæ—¶çš„æ¢ç®—ä¸Šã€‚ä½†æ˜¯è¯¯å·®è¾ƒå°ï¼Œæœ€ç»ˆå¯¼è‡´äº†æœ€åçš„ASCä¸Šå‡æ˜Ÿåº§åå·®äº†ä¸‰åº¦ã€‚å› ä¸ºæœ¬æ–‡æŸ¥çœ‹äº†ç›¸å¯¹åº”çš„å¤©æ–‡è®ºæ–‡ï¼Œå¯¹å æ˜Ÿçš„å…·ä½“ç®—æ³•ä¹Ÿæœ‰ä¸€å®šäº‰è®®ã€‚éœ€è¦è¿›ä¸€æ­¥è®¨è®ºè¿™ä¸ªåå·®ã€‚ä¸è¿‡ä¹Ÿçœ‹å‡ºæ¥åœ¨å¤ä»£å æ˜Ÿçš„è®¡ç®—å’Œæ¨æ¼”ç›¸å½“çš„ç¹å¤ï¼Œå€ŸåŠ©ç°ä»£è®¡ç®—æœºå¯¹è¿™ç§è®¡ç®—æœ‰äº†å¾ˆå¥½çš„è¾…åŠ©ä½œç”¨ã€‚æœ¬ç³»åˆ—æ–‡ç« åªè°ˆè®ºå æ˜Ÿä¸­æ¶‰åŠçš„å…·ä½“çš„å¤©æ–‡å’Œæ˜Ÿç›˜å®«ä½çš„è®¡ç®—ã€‚ æ°¸è¿œä»°æœ›å¤©ç©ºï¼Œæ°¸è¿œä¿æŒæ—ºç››çš„å¥½å¥‡å¿ƒï¼","categories":[{"name":"å¤©æ–‡å­¦","slug":"å¤©æ–‡å­¦","permalink":"https://imzy.vip/categories/%E5%A4%A9%E6%96%87%E5%AD%A6/"}],"tags":[{"name":"å æ˜Ÿ","slug":"å æ˜Ÿ","permalink":"https://imzy.vip/tags/%E5%8D%A0%E6%98%9F/"}]},{"title":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®—  å„’ç•¥å†å’Œæ’æ˜Ÿæ—¶è®¡ç®—","slug":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®—-å„’ç•¥å†å’Œæ’æ˜Ÿæ—¶è®¡ç®—","date":"2021-08-07T22:35:15.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/3102/","link":"","permalink":"https://imzy.vip/posts/3102/","excerpt":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®— å„’ç•¥å†å’Œæ’æ˜Ÿæ—¶è®¡ç®—åœ¨å‰ä¸¤èŠ‚çš„æ–‡ç« åŸºç¡€ä¹‹ä¸Šï¼Œæˆ‘ä»¬å¼€å§‹è¿›è¡ŒçœŸæ­£çš„è®¡ç®—ã€‚åœ¨ä»‹ç»è®¡ç®—æ˜Ÿç›˜ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé¢„å…ˆå‡†å¤‡çš„æ•°æ®ã€‚å„’ç•¥å†å’Œæ’æ˜Ÿæ—¶ã€‚ç½‘ä¸Šçš„ç°æˆä»£ç ä¼¼ä¹æ²¡æœ‰è¯´çš„å¾ˆæ¸…æ¥šï¼Œå…¬å¼ä¸å¤Ÿç»Ÿä¸€ï¼Œç»“æœä¹Ÿéš¾ä»¥éªŒè¯ï¼Œä¸ºæ­¤å‚è€ƒäº†å¾ˆå¤šèµ„æ–™ã€‚å…¶ä¸­æœ‰ä¸¤ä¸ªèµ„æ–™ç¡®å®šæ˜¯å¯¹çš„ã€‚ https://zh.wikipedia.org/wiki/æ’æ˜Ÿæ—¶ ä¸Šé¢å…¬å¼ä¸­å…³äºå„’ç•¥å†çš„è½¬åŒ–å…¬å¼æ˜¯æ­£ç¡®çš„ï¼Œè¯·æ³¨æ„å…¶ä¸­çš„é«˜æ–¯ç¬¦å·ã€‚é«˜æ–¯ç¬¦å·ç›¸å½“äºä»£ç ä¸­çš„floor()å‡½æ•°ã€‚ åé¢å…³äºæ’æ˜Ÿæ—¶çš„è®¡ç®—ä¸ç¡®å®šæ­£ç¡®æ€§ã€‚ ç„¶åå‚è€ƒä¸€ä»½å…³äºå¤©æ–‡ç®—æ³•çš„è®ºæ–‡ï¼Œæˆ–è€…æ˜¯ä¸€æœ¬ç¿»è¯‘çš„PDFã€‚æ„Ÿè°¢â€œå†¯å‰‘å’Œä»–çš„è¯‘å‹â€ç¿»è¯‘äº†è¿™æœ¬å¤©æ–‡ç®—æ³•ï¼Œä½¿æˆ‘å¾—åˆ°äº†ç¡®åˆ‡çš„å…¬å¼ã€‚ å…³äºä»€ä¹ˆæ˜¯æ’æ˜Ÿæ—¶å¯ä»¥ä¹Ÿå¯ä»¥å‚è€ƒä¸Šé¢çš„wikiã€‚ å…³äºç»“æœï¼Œåˆ†åˆ«å¾—åˆ°äº†å¤šé¡¹å¼Tï¼Œç®—å‡ºæ¥ä»¥è§’åº¦ä¸ºå•ä½çš„æ’æ˜Ÿæ—¶ï¼Œä»¥æ—¶é—´hourä¸ºå•ä½çš„æ’æ˜Ÿæ—¶ï¼Œä»¥æ—¶åˆ†ç§’ä¸ºå•ä½çš„æ’æ˜Ÿæ—¶ã€‚ ç°åœ¨å…¬å†çºªå…ƒçš„å¹´è¡¨ç¤ºä¸ºYã€æœˆä¸ºMã€æ—¥ä¸ºDã€æ—¶ä¸ºhã€åˆ†ä¸ºmã€ç§’ä¸ºsï¼Œ1æœˆã€2æœˆåˆ†åˆ«å½“åšä¸Šä¸€å¹´çš„13æœˆã€14æœˆã€‚ï¼ˆä¾‹ï¼š2010å¹´1æœˆ1æ—¥æ—¶Y=2009, M=13, D=1ï¼‰ï¼Œç„¶åæ±‚å‡ºå„’ç•¥æ—¥ è®¡ç®—å„’ç•¥å†è¯·æ³¨æ„ä»¥ä¸Šçš„é‡ç‚¹ã€‚","text":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®— å„’ç•¥å†å’Œæ’æ˜Ÿæ—¶è®¡ç®—åœ¨å‰ä¸¤èŠ‚çš„æ–‡ç« åŸºç¡€ä¹‹ä¸Šï¼Œæˆ‘ä»¬å¼€å§‹è¿›è¡ŒçœŸæ­£çš„è®¡ç®—ã€‚åœ¨ä»‹ç»è®¡ç®—æ˜Ÿç›˜ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé¢„å…ˆå‡†å¤‡çš„æ•°æ®ã€‚å„’ç•¥å†å’Œæ’æ˜Ÿæ—¶ã€‚ç½‘ä¸Šçš„ç°æˆä»£ç ä¼¼ä¹æ²¡æœ‰è¯´çš„å¾ˆæ¸…æ¥šï¼Œå…¬å¼ä¸å¤Ÿç»Ÿä¸€ï¼Œç»“æœä¹Ÿéš¾ä»¥éªŒè¯ï¼Œä¸ºæ­¤å‚è€ƒäº†å¾ˆå¤šèµ„æ–™ã€‚å…¶ä¸­æœ‰ä¸¤ä¸ªèµ„æ–™ç¡®å®šæ˜¯å¯¹çš„ã€‚ https://zh.wikipedia.org/wiki/æ’æ˜Ÿæ—¶ ä¸Šé¢å…¬å¼ä¸­å…³äºå„’ç•¥å†çš„è½¬åŒ–å…¬å¼æ˜¯æ­£ç¡®çš„ï¼Œè¯·æ³¨æ„å…¶ä¸­çš„é«˜æ–¯ç¬¦å·ã€‚é«˜æ–¯ç¬¦å·ç›¸å½“äºä»£ç ä¸­çš„floor()å‡½æ•°ã€‚ åé¢å…³äºæ’æ˜Ÿæ—¶çš„è®¡ç®—ä¸ç¡®å®šæ­£ç¡®æ€§ã€‚ ç„¶åå‚è€ƒä¸€ä»½å…³äºå¤©æ–‡ç®—æ³•çš„è®ºæ–‡ï¼Œæˆ–è€…æ˜¯ä¸€æœ¬ç¿»è¯‘çš„PDFã€‚æ„Ÿè°¢â€œå†¯å‰‘å’Œä»–çš„è¯‘å‹â€ç¿»è¯‘äº†è¿™æœ¬å¤©æ–‡ç®—æ³•ï¼Œä½¿æˆ‘å¾—åˆ°äº†ç¡®åˆ‡çš„å…¬å¼ã€‚ å…³äºä»€ä¹ˆæ˜¯æ’æ˜Ÿæ—¶å¯ä»¥ä¹Ÿå¯ä»¥å‚è€ƒä¸Šé¢çš„wikiã€‚ å…³äºç»“æœï¼Œåˆ†åˆ«å¾—åˆ°äº†å¤šé¡¹å¼Tï¼Œç®—å‡ºæ¥ä»¥è§’åº¦ä¸ºå•ä½çš„æ’æ˜Ÿæ—¶ï¼Œä»¥æ—¶é—´hourä¸ºå•ä½çš„æ’æ˜Ÿæ—¶ï¼Œä»¥æ—¶åˆ†ç§’ä¸ºå•ä½çš„æ’æ˜Ÿæ—¶ã€‚ ç°åœ¨å…¬å†çºªå…ƒçš„å¹´è¡¨ç¤ºä¸ºYã€æœˆä¸ºMã€æ—¥ä¸ºDã€æ—¶ä¸ºhã€åˆ†ä¸ºmã€ç§’ä¸ºsï¼Œ1æœˆã€2æœˆåˆ†åˆ«å½“åšä¸Šä¸€å¹´çš„13æœˆã€14æœˆã€‚ï¼ˆä¾‹ï¼š2010å¹´1æœˆ1æ—¥æ—¶Y=2009, M=13, D=1ï¼‰ï¼Œç„¶åæ±‚å‡ºå„’ç•¥æ—¥ è®¡ç®—å„’ç•¥å†è¯·æ³¨æ„ä»¥ä¸Šçš„é‡ç‚¹ã€‚ ä»£ç å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344use chrono::&#123;Utc, TimeZone, FixedOffset, Datelike, Timelike&#125;;use num::traits::pow;fn main() &#123; println!(&quot;sidereal time!&quot;); // let birthday = Utc.ymd(1987, 4, 10).and_hms(19, 21, 00); let birthday = Utc.ymd(2016, 11, 2).and_hms(21, 17, 30); let timezone = FixedOffset::east(0); birthday.with_timezone(&amp;timezone); let mut year = birthday.year() as f64; let mut month = birthday.month() as f64; let day = birthday.day() as f64; let hour = birthday.hour() as f64; let minute = birthday.minute() as f64; let second = birthday.second() as f64; if month &lt; 2f64 &#123; year = year - 1f64; month = month + 12f64; &#125; let jd = (&amp;365.25 * year).floor() + (year / 400f64).floor() - (&amp;year / 100f64).floor() + (30.59 * (month - 2f64)).floor() + day + 1721088.5 + hour / 24f64 + minute / 1440f64 + second / 86400f64; println!(&quot;jd: &#123;:?&#125;&quot;, jd); let t = (jd - 2451545.0) / 36525f64; println!(&quot;t: &#123;:?&#125;&quot;, t); let g = 280.46061837 + 360.98564736629 * (jd - 2451545.0) + 0.000387933 * pow(t, 2) - pow(t, 3) / 38710000f64; println!(&quot;g: &#123;:?&#125;&quot;, g); let mut res = g % 360f64; if res &lt; 0f64 &#123; res = 360f64 + res; &#125; println!(&quot;res &#123;:?&#125;Â°&quot;, res); res = res / 15f64; println!(&quot;The sidereal hour is &#123;:?&#125;h&quot;, res); let hour = res.floor(); let minute = ((res - hour) * 60f64).floor(); let second = (((res - hour) * 60f64) - minute) * 60f64; println!(&quot;The sidereal time is &#123;:?&#125;h&#123;:?&#125;m&#123;:?&#125;s&quot;, hour, minute, second);&#125; å…¶ä¸­jdä»£è¡¨å„’ç•¥å†æ—¶é—´ã€‚ å„’ç•¥å†çš„è®¡ç®—ç»“æœå¯ä»¥å¯¹æ¯” https://www.aavso.org/jd-calculator å¯ä»¥ç¡®å®šè®¡ç®—æ˜¯ä¸€è‡´çš„ï¼Œä¹Ÿå°±éªŒè¯äº†wikiä¸­çš„å…¬å¼çš„æ­£ç¡®ã€‚ååŠéƒ¨åˆ†åˆ™æ˜¯å¼•ç”¨äº†è®ºæ–‡ä¸­çš„å…¬å¼ï¼Œè®¡ç®—ç»“æœå’Œç¤ºä¾‹æ¨å¯¼è¿‡ç¨‹ä¸€è‡´ã€‚æ‰€ä»¥è®¡ç®—ç»“æœå¯ä»¥ç¡®å®šæ˜¯å¯¹çš„ã€‚é¡ºä¾¿åæ§½æŸä¸ªå æ˜Ÿç½‘ç«™çš„è®¡ç®—ï¼Œå…¶ä¸­æ’æ˜Ÿæ—¶æ˜¯é”™è¯¯çš„ï¼Œä¼ªå­¦ä¸é è°±å•Šã€‚ å…³äºä»£ç ï¼šä»£ç ä½¿ç”¨rustï¼Œä½¿ç”¨äº†chronoåº“è¡¨ç¤ºæ—¶é—´ã€‚ä¹Ÿä½¿ç”¨äº†numï¼Œä¸è¿‡ä¼¼ä¹ä¹Ÿæ²¡ç”¨åˆ°ä»€ä¹ˆç‰¹æ€§ï¼Œåªç”¨äº†ä¸€ä¸ªpowã€‚ä¸ºäº†ä¿è¯ç²¾åº¦ï¼Œæ‰€æœ‰æ•°å­—å…¨éƒ¨ä½¿ç”¨f64 å¦å¤–æœ¬æœŸè®¡ç®—çš„æ˜¯å¹³æ’æ˜Ÿæ—¶ï¼Œéè§†æ’æ˜Ÿæ—¶ã€‚ä¸è€ƒè™‘èµ¤ç»ç« åŠ¨ä¿®æ­£ã€‚ ä»£ç åœ¨githubå·²ä¸Šä¼ ã€‚ https://github.com/TigerInYourDream/sidereal-time","categories":[],"tags":[{"name":"-rust -æ˜Ÿåº§","slug":"rust-æ˜Ÿåº§","permalink":"https://imzy.vip/tags/rust-%E6%98%9F%E5%BA%A7/"}]},{"title":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®— é»„é“åäºŒå®«ä¸åˆ†å®«åŸç†","slug":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®—-é»„é“åäºŒå®«ä¸åˆ†å®«åŸç†","date":"2021-08-06T20:29:32.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/13704/","link":"","permalink":"https://imzy.vip/posts/13704/","excerpt":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®— é»„é“åäºŒå®«ä¸åˆ†å®«åŸç†åœ¨å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®—çš„ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œå°½å¯èƒ½è¯¦ç»†çš„ä»‹ç»äº†å¤©çƒçš„æ„å»ºè¿‡ç¨‹åŸç†å’Œç›¸å…³çš„æ¦‚å¿µã€‚è¿™ä¸€èŠ‚æˆ‘æ¥ä»‹ç»ä½•ä¸ºé»„é“12å®«ä»¥åŠåˆ†å·¥åˆ¶çš„åŸºæœ¬åŸç†ï¼Œä¸æ¶‰åŠå…·ä½“åˆ†å®«åˆ¶ã€‚ é»„é“å¸¦ä¸Šä¸€èŠ‚çš„å¤©çƒç¤ºæ„å›¾ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ ‡æ³¨å‡ºæ¥äº†é»„é“ï¼Œå°±æ˜¯å‡å®šåœ°çƒä¸åŠ¨ï¼Œå¤ªé˜³ç»•åœ°çƒè¿åŠ¨æ‰€å½¢æˆçš„é¢ï¼Œå°±æ˜¯é»„é“ã€‚å› ä¸ºåœ°çƒè‡ªè½¬å’Œåœ°çƒå…¬è½¬æ˜¯æœ‰ä¸€å®šè§’åº¦åå·®çš„ã€‚æ‰€ä»¥é»„é“å’Œèµ¤é“æ˜¯æœ‰ä¸€ä¸ª23.5åº¦çš„å¤¹è§’çš„ã€‚ é»„é“å¸¦ï¼ˆæˆ–æ˜¯é»„é“åäºŒå®«ï¼‰çš„æ¦‚å¿µèµ·æºäºå·´æ¯”ä¼¦å æ˜Ÿæœ¯ï¼Œå·´æ¯”ä¼¦äººæ³¨æ„åˆ°äº†ä¸å¤ªé˜³åŒæ—¶å‡èµ·çš„æ˜Ÿæ˜Ÿï¼Œåœ¨é»æ˜ä¹‹å‰ï¼Œå¯ä»¥è§‚å¯Ÿåˆ°é è¿‘å¤ªé˜³ä½ç½®çš„æ˜Ÿæ˜Ÿå‡èµ·ï¼Œè¿™äº›æ˜Ÿæ˜Ÿä»¥ä¸€ä¸ªä¼¼ä¹è§„åˆ™çš„åœ†å‘¨æ¥å›è¿åŠ¨ã€‚ä»–ä»¬å°†è¿™äº›æ˜Ÿæ˜Ÿåˆ†ä¸ºåäºŒç»„ï¼Œå¹¶ç»™å…¶å‘½åã€‚å¸Œè…Šäººä»å·´æ¯”ä¼¦äººé‚£é‡Œç»§æ‰¿äº†è¿™ä¸€ä¹ æƒ¯ï¼Œæ‰æœ‰äº†é»„é“åäºŒå®«ï¼Œè¿™ä¸ªè¯æ¥æºäºå¸Œè…Šæ–‡zodionï¼Œæ„ä¸ºâ€œå°åŠ¨ç‰©â€ã€‚ å…·ä½“çš„é»„é“å¸¦çš„æ¦‚å¿µå¦‚ä¸‹ é»„é“å¸¦ï¼ˆå¸Œè…Šè¯­ï¼šÎ¶á¿³Î´Î¹Î±ÎºÏŒÏ‚, zÅdiakosï¼‰ï¼Œæ˜¯å¤©æ–‡å­¦çš„åè¯ï¼ŒæŒ‡çš„æ˜¯åœ¨é»„é“ä¸Šçš„æ˜Ÿåº§ç»„æˆçš„ç¯å¸¦ï¼Œä¸ä»…æ˜¯å¤ªé˜³æ¯å¹´åœ¨å¤©çƒä¸Šæ‰€è¡Œç»çš„è·¯å¾„ï¼Œæœˆçƒå’Œè¡Œæ˜Ÿçš„è·¯å¾„ä¹Ÿå¤§ç•¥éƒ½åœ¨é»„é“çš„é™„è¿‘ï¼Œå› æ­¤ä¹Ÿå…¨éƒ¨éƒ½åœ¨é»„é“å¸¦çš„æ˜Ÿåº§å†…ã€‚ åœ¨å æ˜Ÿæœ¯ï¼Œé»„é“å¸¦è¢«äººä¸ºåˆ’åˆ†ä¸ºåäºŒä¸ªéšä¸­æ°”ç‚¹ç§»åŠ¨ï¼ˆä¸å®é™…æ˜Ÿåº§ä½ç½®ä¸ä¸€è‡´ï¼‰çš„å‡ç­‰åŒºåŸŸï¼Œå„è‡ªéƒ½æœ‰ç¬¦å·ã€‚ å› æ­¤ï¼Œé»„é“å¸¦æ˜¯ä¸€ä¸ªå¤©çƒåæ ‡ç³»ç»Ÿï¼Œæˆ–æ˜¯æ›´å…·ä½“çš„è¯´æ˜¯ä¸€ä¸ªé»„é“åæ ‡ç³»ç»Ÿï¼Œä»¥é»„é“åšä¸ºçº¬åº¦çš„åŸºå‡†å¹³é¢ï¼ˆåŸç‚¹ï¼‰ï¼Œå¹¶ä¸”ä»¥å¤ªé˜³åœ¨æ˜¥åˆ†æ—¶çš„ä½ç½®ä½œä¸ºç»åº¦çš„åŸç‚¹ é»„é“12å®«çš„é¡ºåºå¦‚ä¸‹ ç™½ç¾Šå®«ï¼ˆAries, â™ˆï¸ï¼‰ï¼›é‡‘ç‰›å®«ï¼ˆTaurus, â™‰ï¸ï¼‰ï¼›åŒå­å®«ï¼ˆGemini, â™Šï¸ï¼‰ï¼›å·¨èŸ¹å®«ï¼ˆCancer, â™‹ï¸ï¼‰ï¼›ç‹®å­å®«ï¼ˆLeo, â™Œï¸ï¼‰ï¼›å¤„å¥³å®«ï¼ˆVirgo, â™ï¸ï¼‰ï¼›å¤©ç§¤å®«ï¼ˆLibra, â™ï¸ï¼‰ï¼›å¤©èå®«ï¼ˆScorpio, â™ï¸ï¼‰ï¼›å°„æ‰‹å®«ï¼ˆSagittarius, â™ï¸ï¼‰ï¼›æ‘©ç¾¯å®«ï¼ˆCapricornus, â™‘ï¸ï¼‰ï¼›æ°´ç“¶å®«ï¼ˆAquarius, â™’ï¸ï¼‰ï¼›åŒé±¼å®«ï¼ˆPisces, â™“ï¸ï¼‰ã€‚ å¤äººè§‚å¯Ÿæ˜Ÿç©ºï¼Œå‘ç°å¤©ä½“åˆ†ä½œä¸¤ç±»ï¼šä¸€ç±»å›ºå®šåœ¨å¤©çƒä¸Šï¼Œç»„æˆå„ä¸ªæ˜Ÿåº§ï¼Œå½¢æˆä¸€å¹…æ°¸æ’çš„å¤©ç©ºèƒŒæ™¯ï¼Œç§°ä¹‹ä¸ºæ’æ˜Ÿï¼›å¦ä¸€ç±»å¤©ä½“åœ¨é»„é“é™„è¿‘è¿è¡Œï¼Œä¸æ–­ç©¿è¿‡é»„é“ä¸Šçš„åäºŒä¸ªæ˜Ÿåº§ï¼ˆæˆ–ä¸­å›½çš„äºŒåå…«å®¿ï¼‰ï¼Œç§°ä¹‹ä¸ºè¡Œæ˜Ÿã€‚è¿™äº›è¡Œæ˜ŸåŒ…æ‹¬ä¸ƒé¢—ï¼ˆä¸ƒæ›œï¼‰ï¼Œåˆ†åˆ«æ˜¯é˜´é˜³â€”â€”å¤ªé˜³å’Œå¤ªé˜´ï¼ˆæœˆçƒï¼‰ï¼Œä»¥åŠäº”è¡Œâ€”â€”é‡‘æœ¨æ°´ç«åœŸäº”ä¸ªè‚‰çœ¼å¯è§çš„ç»å…¸è¡Œæ˜Ÿã€‚å¤ªé˜³åœ¨é»„é“ä¸Šä¸€å¹´è¿è¡Œä¸€åœˆï¼Œå¤ªé˜´åœ¨é»„é“ä¸Šä¸€ä¸ªæœˆè¿è¡Œä¸€åœˆã€‚ä¸€å®šè¦æ³¨æ„ï¼Œå æ˜Ÿä¸­çš„è¡Œæ˜Ÿå’Œå®é™…çš„è¡Œæ˜Ÿæ¦‚å¿µå¹¶ä¸ä¸€è‡´ï¼Œè¿™æ¯•ç«Ÿæ˜¯å¤ä»£å¤©æ–‡å­¦ã€‚ç”±äºæ•´ä½“ä¸€ç¯ä¸º360åº¦ï¼Œæ‰€ä»¥æ¯ä¸ªæ˜Ÿåº§å æ®äº†360/12 = 30 åº¦ã€‚","text":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®— é»„é“åäºŒå®«ä¸åˆ†å®«åŸç†åœ¨å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®—çš„ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œå°½å¯èƒ½è¯¦ç»†çš„ä»‹ç»äº†å¤©çƒçš„æ„å»ºè¿‡ç¨‹åŸç†å’Œç›¸å…³çš„æ¦‚å¿µã€‚è¿™ä¸€èŠ‚æˆ‘æ¥ä»‹ç»ä½•ä¸ºé»„é“12å®«ä»¥åŠåˆ†å·¥åˆ¶çš„åŸºæœ¬åŸç†ï¼Œä¸æ¶‰åŠå…·ä½“åˆ†å®«åˆ¶ã€‚ é»„é“å¸¦ä¸Šä¸€èŠ‚çš„å¤©çƒç¤ºæ„å›¾ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ ‡æ³¨å‡ºæ¥äº†é»„é“ï¼Œå°±æ˜¯å‡å®šåœ°çƒä¸åŠ¨ï¼Œå¤ªé˜³ç»•åœ°çƒè¿åŠ¨æ‰€å½¢æˆçš„é¢ï¼Œå°±æ˜¯é»„é“ã€‚å› ä¸ºåœ°çƒè‡ªè½¬å’Œåœ°çƒå…¬è½¬æ˜¯æœ‰ä¸€å®šè§’åº¦åå·®çš„ã€‚æ‰€ä»¥é»„é“å’Œèµ¤é“æ˜¯æœ‰ä¸€ä¸ª23.5åº¦çš„å¤¹è§’çš„ã€‚ é»„é“å¸¦ï¼ˆæˆ–æ˜¯é»„é“åäºŒå®«ï¼‰çš„æ¦‚å¿µèµ·æºäºå·´æ¯”ä¼¦å æ˜Ÿæœ¯ï¼Œå·´æ¯”ä¼¦äººæ³¨æ„åˆ°äº†ä¸å¤ªé˜³åŒæ—¶å‡èµ·çš„æ˜Ÿæ˜Ÿï¼Œåœ¨é»æ˜ä¹‹å‰ï¼Œå¯ä»¥è§‚å¯Ÿåˆ°é è¿‘å¤ªé˜³ä½ç½®çš„æ˜Ÿæ˜Ÿå‡èµ·ï¼Œè¿™äº›æ˜Ÿæ˜Ÿä»¥ä¸€ä¸ªä¼¼ä¹è§„åˆ™çš„åœ†å‘¨æ¥å›è¿åŠ¨ã€‚ä»–ä»¬å°†è¿™äº›æ˜Ÿæ˜Ÿåˆ†ä¸ºåäºŒç»„ï¼Œå¹¶ç»™å…¶å‘½åã€‚å¸Œè…Šäººä»å·´æ¯”ä¼¦äººé‚£é‡Œç»§æ‰¿äº†è¿™ä¸€ä¹ æƒ¯ï¼Œæ‰æœ‰äº†é»„é“åäºŒå®«ï¼Œè¿™ä¸ªè¯æ¥æºäºå¸Œè…Šæ–‡zodionï¼Œæ„ä¸ºâ€œå°åŠ¨ç‰©â€ã€‚ å…·ä½“çš„é»„é“å¸¦çš„æ¦‚å¿µå¦‚ä¸‹ é»„é“å¸¦ï¼ˆå¸Œè…Šè¯­ï¼šÎ¶á¿³Î´Î¹Î±ÎºÏŒÏ‚, zÅdiakosï¼‰ï¼Œæ˜¯å¤©æ–‡å­¦çš„åè¯ï¼ŒæŒ‡çš„æ˜¯åœ¨é»„é“ä¸Šçš„æ˜Ÿåº§ç»„æˆçš„ç¯å¸¦ï¼Œä¸ä»…æ˜¯å¤ªé˜³æ¯å¹´åœ¨å¤©çƒä¸Šæ‰€è¡Œç»çš„è·¯å¾„ï¼Œæœˆçƒå’Œè¡Œæ˜Ÿçš„è·¯å¾„ä¹Ÿå¤§ç•¥éƒ½åœ¨é»„é“çš„é™„è¿‘ï¼Œå› æ­¤ä¹Ÿå…¨éƒ¨éƒ½åœ¨é»„é“å¸¦çš„æ˜Ÿåº§å†…ã€‚ åœ¨å æ˜Ÿæœ¯ï¼Œé»„é“å¸¦è¢«äººä¸ºåˆ’åˆ†ä¸ºåäºŒä¸ªéšä¸­æ°”ç‚¹ç§»åŠ¨ï¼ˆä¸å®é™…æ˜Ÿåº§ä½ç½®ä¸ä¸€è‡´ï¼‰çš„å‡ç­‰åŒºåŸŸï¼Œå„è‡ªéƒ½æœ‰ç¬¦å·ã€‚ å› æ­¤ï¼Œé»„é“å¸¦æ˜¯ä¸€ä¸ªå¤©çƒåæ ‡ç³»ç»Ÿï¼Œæˆ–æ˜¯æ›´å…·ä½“çš„è¯´æ˜¯ä¸€ä¸ªé»„é“åæ ‡ç³»ç»Ÿï¼Œä»¥é»„é“åšä¸ºçº¬åº¦çš„åŸºå‡†å¹³é¢ï¼ˆåŸç‚¹ï¼‰ï¼Œå¹¶ä¸”ä»¥å¤ªé˜³åœ¨æ˜¥åˆ†æ—¶çš„ä½ç½®ä½œä¸ºç»åº¦çš„åŸç‚¹ é»„é“12å®«çš„é¡ºåºå¦‚ä¸‹ ç™½ç¾Šå®«ï¼ˆAries, â™ˆï¸ï¼‰ï¼›é‡‘ç‰›å®«ï¼ˆTaurus, â™‰ï¸ï¼‰ï¼›åŒå­å®«ï¼ˆGemini, â™Šï¸ï¼‰ï¼›å·¨èŸ¹å®«ï¼ˆCancer, â™‹ï¸ï¼‰ï¼›ç‹®å­å®«ï¼ˆLeo, â™Œï¸ï¼‰ï¼›å¤„å¥³å®«ï¼ˆVirgo, â™ï¸ï¼‰ï¼›å¤©ç§¤å®«ï¼ˆLibra, â™ï¸ï¼‰ï¼›å¤©èå®«ï¼ˆScorpio, â™ï¸ï¼‰ï¼›å°„æ‰‹å®«ï¼ˆSagittarius, â™ï¸ï¼‰ï¼›æ‘©ç¾¯å®«ï¼ˆCapricornus, â™‘ï¸ï¼‰ï¼›æ°´ç“¶å®«ï¼ˆAquarius, â™’ï¸ï¼‰ï¼›åŒé±¼å®«ï¼ˆPisces, â™“ï¸ï¼‰ã€‚ å¤äººè§‚å¯Ÿæ˜Ÿç©ºï¼Œå‘ç°å¤©ä½“åˆ†ä½œä¸¤ç±»ï¼šä¸€ç±»å›ºå®šåœ¨å¤©çƒä¸Šï¼Œç»„æˆå„ä¸ªæ˜Ÿåº§ï¼Œå½¢æˆä¸€å¹…æ°¸æ’çš„å¤©ç©ºèƒŒæ™¯ï¼Œç§°ä¹‹ä¸ºæ’æ˜Ÿï¼›å¦ä¸€ç±»å¤©ä½“åœ¨é»„é“é™„è¿‘è¿è¡Œï¼Œä¸æ–­ç©¿è¿‡é»„é“ä¸Šçš„åäºŒä¸ªæ˜Ÿåº§ï¼ˆæˆ–ä¸­å›½çš„äºŒåå…«å®¿ï¼‰ï¼Œç§°ä¹‹ä¸ºè¡Œæ˜Ÿã€‚è¿™äº›è¡Œæ˜ŸåŒ…æ‹¬ä¸ƒé¢—ï¼ˆä¸ƒæ›œï¼‰ï¼Œåˆ†åˆ«æ˜¯é˜´é˜³â€”â€”å¤ªé˜³å’Œå¤ªé˜´ï¼ˆæœˆçƒï¼‰ï¼Œä»¥åŠäº”è¡Œâ€”â€”é‡‘æœ¨æ°´ç«åœŸäº”ä¸ªè‚‰çœ¼å¯è§çš„ç»å…¸è¡Œæ˜Ÿã€‚å¤ªé˜³åœ¨é»„é“ä¸Šä¸€å¹´è¿è¡Œä¸€åœˆï¼Œå¤ªé˜´åœ¨é»„é“ä¸Šä¸€ä¸ªæœˆè¿è¡Œä¸€åœˆã€‚ä¸€å®šè¦æ³¨æ„ï¼Œå æ˜Ÿä¸­çš„è¡Œæ˜Ÿå’Œå®é™…çš„è¡Œæ˜Ÿæ¦‚å¿µå¹¶ä¸ä¸€è‡´ï¼Œè¿™æ¯•ç«Ÿæ˜¯å¤ä»£å¤©æ–‡å­¦ã€‚ç”±äºæ•´ä½“ä¸€ç¯ä¸º360åº¦ï¼Œæ‰€ä»¥æ¯ä¸ªæ˜Ÿåº§å æ®äº†360/12 = 30 åº¦ã€‚ ç°åœ¨æ ¹æ®ä¸Šé¢è¿™äº›èƒŒæ™¯çŸ¥è¯†ï¼Œæˆ‘ä»¬æ¥ç†è§£ä¸€ä¸ªè¯´æ³•ï¼Œâ€œå¤ªé˜³è¿›å…¥ç™½ç¾Šåº§23åº¦â€œï¼Œä½œä½•è§£ï¼Œç™½ç¾Šåº§æ˜¯æ˜Ÿåº§èµ·ç‚¹ï¼Œé‚£å¯¹åº”çš„è§’åº¦å°±æ˜¯ç»åº¦23åº¦ã€‚ â€œæœˆäº®è¿›å…¥å¤©èåº§7åº¦â€ï¼šå¤©èä¸ºç¬¬å…«ä¸ªæ˜Ÿåº§ç»„ã€‚30*7+7 = 217ã€‚å³ä¾¿ç»åº¦217åº¦ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯è›‡å¤«åº§â›ï¼Œä¹Ÿè¢«é»„é“ç»è¿‡ã€‚ä½†æ˜¯è›‡å¤«åº§å¹¶ä¸å±äºå æ˜Ÿä¸­çš„é»„é“åäºŒï¼ˆä¸‰ï¼‰å®«ã€‚æ‰€ä»¥ä½ åº”è¯¥èƒ½ç†è§£æŸäº›ä½œå“ä¸­ä¸å­˜åœ¨çš„é»„é“12å®«ä¸­ä¸ºä»€ä¹ˆä¼šå‡ºç°è›‡å¤«åº§äº†å§ã€‚æ ¹æ®ç°ä»£å¤©æ–‡å­¦é»„é“ä¸­æœ‰13ä¸ªæ˜Ÿåº§ã€‚ åˆ†å®«åˆ¶ä»‹ç»äº†é»„é“å¸¦çš„æ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬çŸ¥é“äº†ä¸€ä¸ªäº‹å®ï¼šè§‚æµ‹æ˜Ÿç©ºä¸€æ•´å¹´ï¼Œå³å¤ªé˜³å›´ç»•åœ°çƒä¸€åœˆï¼Œåœ¨ä¸åŒçš„æ—¶å€™ä¾æ¬¡åœ¨é»æ˜çš„å¤ªé˜³é™„è¿‘çœ‹åˆ°12ä¸ªæ˜Ÿç³»ï¼Œç§°ä¸ºé»„é“12å®«ã€‚ä½†æ˜¯ç°åœ¨æœ‰ä¸ªé—®é¢˜ï¼Œäººå¹¶ä¸æ˜¯åœ°çƒæœ¬èº«ï¼Œå—åˆ°äººå‡ºç”Ÿåœ°ç‚¹ç»çº¬åº¦å½±å“ï¼Œæ€ä¹ˆåšå‡ºä¸€ä¸ªåœ°é¢å¤©çƒåæ ‡ç³»ç»Ÿï¼Œç¡®å®šäººå‡ºç”Ÿçš„æ˜Ÿåº§é—®é¢˜ã€‚ ä¸‹é¢ä»‹ç»åˆ†å®«åˆ¶çš„åŸºæœ¬åŸç†ï¼š åˆ†å®«åˆ¶çš„è®¡ç®—æ–¹æ³•æ˜¯ï¼Œæ ¹æ®è¯ç”Ÿæ—¶åˆ»å’Œåœ°ç‚¹ç»çº¬åº¦ï¼Œè®¡ç®—ä¸œå‡ç‚¹ï¼ˆAscedentï¼‰åŠå¤©é¡¶ï¼ˆMCï¼Œ Medium Coelï¼‰ã€‚ä¸œå‡ç‚¹æ˜¯åœ¨è¯ç”Ÿæ—¶åˆ»åœ¨è¯ç”Ÿåœ°ç‚¹çš„ä¸œé¢åœ°å¹³ä¸é»„é“äº¤æ¥çš„ä¸€ç‚¹ã€‚ç›¸å¯¹æ–¼ä¸œå‡ç‚¹ï¼Œåœ¨è¥¿æ–¹åœ°å¹³äº¤æ¥é»„é“çš„ä¸€ç‚¹å°±æ˜¯æ—¥æ²¡ç‚¹ï¼ˆDscï¼Œ Dscendantï¼‰ã€‚æ­¤ä¸¤ç‚¹è¿æ¥èµ·æ¥ï¼Œä»£è¡¨è¯ç”Ÿæ—¶åˆ»çš„åœ°å¹³çº¿ã€‚åœ°å¹³çº¿ä»¥ä¸Šæ˜¯æ—¥é—´å¯è§çš„æ˜Ÿè±¡ï¼Œåœ°å¹³çº¿ä»¥ä¸‹æ˜¯å¤œé—´å¯è§çš„æ˜Ÿè±¡ã€‚å¤©é¡¶å³æ˜¯å½“æ—¶é»„é“åœ¨å¤©çƒæœ€é«˜çš„ä¸€ç‚¹ï¼›ç›¸å¯¹æ–¼å¤©é¡¶ï¼Œé»„é“åœ¨å¤©çƒæœ€ä½çš„ä¸€ç‚¹ä¸ºå¤©åº•ï¼ˆICï¼ŒImum Coeliï¼‰ã€‚è®¡ç®—å‡ºä¸œå‡ç‚¹å¾Œï¼Œä»¥ä¸œå‡ç‚¹çš„å®šä½ï¼Œå°†å½“æ—¶å¤©çƒåˆ†æˆ12ä»½ï¼Œåˆ©ç”¨æŠ•å½±æ³•æˆ–å…¶ä»–æ•°å­¦è®¡ç®—æŠ•å°„åˆ°é»„é“ä¹‹ä¸Šï¼Œé‚£å°±æ˜¯æ˜Ÿç›˜ä¸Šåå¤©12å®«ï¼ˆHousesï¼‰çš„åˆ†é…æƒ…å†µã€‚ å…¶æœ¬è´¨å°±æ˜¯å¦‚ä½•ç¡®å®šåæ ‡ç³»çš„èµ·ç‚¹å’Œæ–¹ä½ã€‚ å› ä¸ºæœ¬æ–‡ä¸æ˜¯è®²å æ˜Ÿå†å²çš„ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šè€ƒæ®å æ˜Ÿå†å²ä¸Šçš„åˆ†å®«åˆ¶çš„ä¸åŒæµæ´¾ã€‚ä½†æ˜¯æ‰€æœ‰çš„åˆ†å®«åˆ¶éƒ½æ˜¯ä¾æ®ä»¥ä¸Šçš„åŸºæœ¬åŸç†è¿›è¡Œåˆ’åˆ†çš„ã€‚ä½†æ˜¯å…¨éƒ¨éƒ½æ˜¯ä»¥ä¸œå‡ç‚¹å’Œå¤©å®šåšå®šä½çš„ã€‚","categories":[{"name":"å¤©æ–‡","slug":"å¤©æ–‡","permalink":"https://imzy.vip/categories/%E5%A4%A9%E6%96%87/"}],"tags":[{"name":"å æ˜Ÿ","slug":"å æ˜Ÿ","permalink":"https://imzy.vip/tags/%E5%8D%A0%E6%98%9F/"}]},{"title":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®— å¤©çƒ","slug":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®—-å¤©çƒ","date":"2021-08-04T18:49:23.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/22991/","link":"","permalink":"https://imzy.vip/posts/22991/","excerpt":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®— å¤©çƒæœ€è¿‘å› ä¸ºæŸäº›åŸå› ï¼Œæœ‰äº†ä¸€æ®µç©ºä½™çš„æ—¶é—´ã€‚å½“ä½ ç©ºé—²ä¾¿æœ‰äº†ä¸€äº›å¥‡æ€å¦™æƒ³ã€‚å› ä¸ºå¾ˆå¤šå¹´å‰ç‰¹åˆ«å–œæ¬¢ä¸€ä¸ªå…³äºæ˜Ÿåº§çš„æ•…äº‹ï¼Œæ‰€ä»¥åˆ©ç”¨è¿™ä¸€æ®µç©ºä½™æ—¶é—´å†™ä¸€ä¸ªç³»åˆ—æ–‡ç« è®²å æ˜Ÿä¸­çš„ä¸€ä¸ªå°çŸ¥è¯†ã€‚ä¸ºäº†ä¸ä½¿æ–‡ç« å¼•èµ·äº‰è®®ï¼Œç‰¹æ­¤å£°æ˜ï¼šæœ¬äººå®Œå…¨ç›¸ä¿¡æ˜Ÿåº§ï¼ä¸è§£é‡Šã€‚æ–‡ç« çš„å‰é¢ç³»åˆ—ä»‹ç»å’Œå æ˜Ÿæœ‰å…³çš„å¤©æ–‡åŸºæœ¬æ¦‚å¿µï¼Œåé¢å…·ä½“æ ¹æ®äººçš„å‡ºç”Ÿæ—¶é—´ï¼Œåœ°ç†ä½ç½®ï¼ˆç»çº¬åº¦ï¼‰æ¥è®¡ç®—äººçš„æ˜Ÿåº§ã€‚å¯èƒ½è¯»äº†è¿™ä¸€ç³»åˆ—çš„æ–‡ç« ï¼Œå¤§å®¶å¯ä»¥æ›´å¥½çš„ç†è§£ä¸ºä»€ä¹ˆæ˜Ÿåº§å½’ç±»äºâ€œå æ˜Ÿå­¦â€ï¼Œè¿™æ ·ä¸€ä¸ªå¬èµ·æ¥éå¸¸æ­£å¼çš„åå­—ã€‚å¦å¤–å› ä¸ºä¸æ˜¯æ’°å†™è®ºæ–‡ï¼Œæœ¬æ–‡ä¸ä¼šè¯¦ç»†åˆ—å‡ºå„ç±»ä¾æ®ã€‚å¤ªç´¯! å¤©çƒæ¦‚å¿µ ä»¥ä¸Šå›¾ç‰‡ä¸ºå®Œæ•´çš„å¤©çƒç¤ºæ„å›¾ å’Œåœ°çƒæ¦‚å¿µç›¸å¯¹ï¼Œå¤ä»£å¤©æ–‡å­¦å®¶æå‡ºäº†å¤©çƒçš„æ¦‚å¿µã€‚å¤©çƒæ˜¯ä¸€ä¸ªæƒ³æƒ³çš„çƒä½“ï¼Œä»–ä¹Ÿæ˜¯æ—‹è½¬çš„ã€‚ç†è®ºä¸Šå…·æœ‰æ— é™å¤§çš„åŠå¾„ä¸”å’Œåœ°å¿ƒæ˜¯åŒå¿ƒçš„ã€‚å¦‚å›¾æ‰€ç¤ºï¼šå’Œåœ°çƒæœ‰èµ¤é“å’Œå—åŒ—æçš„æ¦‚å¿µå¯¹åº”ï¼Œå¤©çƒä¹Ÿæœ‰å¯¹åº”çš„å¤©çƒèµ¤é“å’Œå¤©çƒå—åŒ—æã€‚ å¤ä»£å¤©æ–‡å­¦å®¶è®¤ä¸ºæˆ‘ä»¬å’Œæ˜Ÿä½“æ˜¯ç­‰è·ç¦»çš„ï¼Œå°½ç®¡è¿™å¹¶ä¸æ­£ç¡®ã€‚å› ä¸ºå¤ä»£ç¼ºä¹æœ‰æ•ˆçš„å¤©æ–‡è§‚æµ‹æ‰‹æ®µã€‚æ˜Ÿçƒä¸æ˜¯é æˆ‘ä»¬è‚‰çœ¼å°±å¯ä»¥åˆ¤æ–­å‡ºè·ç¦»çš„ã€‚å¤ä»£ç§‘å­¦å®¶å…‹æœäº†è¿™ç§è·ç¦»ä¸Šçš„å› ç´ ï¼Œä½¿ç”¨è§’åº¦æ¥ç¡®å®šæ˜Ÿçƒåœ¨å¤©ç©ºä¸­çš„ä½ç½®ã€‚åœ¨å½“æ—¶è§‚æµ‹æ¡ä»¶å—é™çš„æƒ…å†µä¸‹ï¼Œä¸å¤±ä¸ºä¸€ç§å¾ˆæœ‰æ•ˆçš„å¤©æ–‡æŠ½è±¡ç³»ç»Ÿã€‚ åœ°çƒä¼šå›´ç»•åœ°è½´è‡ªè½¬ï¼Œç›¸å¯¹åº”äºåœ°çƒä¸åŠ¨çš„å‚ç…§ç³»ä¸‹ã€‚å¤©çƒä¹Ÿä¼šå›´ç€å¤©ææ—‹è½¬ï¼Œ24å°æ—¶ä¸åœã€‚è¿™å°±å½¢æˆäº†å¤ä»£å¤©æ–‡å­¦å®¶çš„çœ¼ä¸­çš„æ˜¼å¤œäº¤æ›¿åŸç†ã€‚å¤ªé˜³ï¼Œå«æ˜Ÿï¼Œå½¢æ˜Ÿéƒ½æ˜¯ä¸œå‡è¥¿è½çš„ï¼Œè¿™ç§ç§°ä¸ºå¤©çƒçš„å‘¨æ—¥å®è§†è¿åŠ¨ã€‚åœ°çƒå› ä¸ºæœ‰å…¶å…¬è½¬ï¼Œä¸€é¢—æ¨ªè¡Œæ€»æ˜¯æ¯”å‰ä¸€å¤©æå‰ï¼ˆçº¦4minï¼‰ä¸Šå‡ã€‚ å’Œåœ°çƒå¯¹åº”çš„æ¦‚å¿µä¸€æ ·ï¼Œå¤©çƒä¹Ÿæœ‰è‡ªå·±çš„å—åŒ—åŠçƒï¼Œå¯¹åº”ä¹Ÿæœ‰å—åŒ—å›å½’çº¿ï¼Œå—åŒ—æ åŒ—å›å½’çº¿ï¼šåŒ—å›å½’çº¿æ˜¯å¤ªé˜³åœ¨åŒ—åŠçƒèƒ½å¤Ÿå‚ç›´å°„åˆ°çš„ç¦»èµ¤é“æœ€è¿œçš„ä½ç½®ç‚¹ï¼Œå°†è¯¥ç‚¹ä¹‹çº¬åº¦çº¿ä¾¿å«â€œåŒ—å›å½’çº¿â€ï¼Œåœ¨å…¬å…ƒ2018å¹´ï¼Œå…¶ä½ç½®çº¦åœ¨åŒ—çº¬23Â°26â€²11.3â€³ (æˆ– 23.43648Â°)ã€‚ç›¸åï¼Œå—çº¬23Â°26â€²11.3â€³ (æˆ– 23.43648Â°)åˆ™ä¸ºâ€œå—å›å½’çº¿â€ã€‚","text":"å æ˜Ÿä¸æ˜Ÿåº§è®¡ç®— å¤©çƒæœ€è¿‘å› ä¸ºæŸäº›åŸå› ï¼Œæœ‰äº†ä¸€æ®µç©ºä½™çš„æ—¶é—´ã€‚å½“ä½ ç©ºé—²ä¾¿æœ‰äº†ä¸€äº›å¥‡æ€å¦™æƒ³ã€‚å› ä¸ºå¾ˆå¤šå¹´å‰ç‰¹åˆ«å–œæ¬¢ä¸€ä¸ªå…³äºæ˜Ÿåº§çš„æ•…äº‹ï¼Œæ‰€ä»¥åˆ©ç”¨è¿™ä¸€æ®µç©ºä½™æ—¶é—´å†™ä¸€ä¸ªç³»åˆ—æ–‡ç« è®²å æ˜Ÿä¸­çš„ä¸€ä¸ªå°çŸ¥è¯†ã€‚ä¸ºäº†ä¸ä½¿æ–‡ç« å¼•èµ·äº‰è®®ï¼Œç‰¹æ­¤å£°æ˜ï¼šæœ¬äººå®Œå…¨ç›¸ä¿¡æ˜Ÿåº§ï¼ä¸è§£é‡Šã€‚æ–‡ç« çš„å‰é¢ç³»åˆ—ä»‹ç»å’Œå æ˜Ÿæœ‰å…³çš„å¤©æ–‡åŸºæœ¬æ¦‚å¿µï¼Œåé¢å…·ä½“æ ¹æ®äººçš„å‡ºç”Ÿæ—¶é—´ï¼Œåœ°ç†ä½ç½®ï¼ˆç»çº¬åº¦ï¼‰æ¥è®¡ç®—äººçš„æ˜Ÿåº§ã€‚å¯èƒ½è¯»äº†è¿™ä¸€ç³»åˆ—çš„æ–‡ç« ï¼Œå¤§å®¶å¯ä»¥æ›´å¥½çš„ç†è§£ä¸ºä»€ä¹ˆæ˜Ÿåº§å½’ç±»äºâ€œå æ˜Ÿå­¦â€ï¼Œè¿™æ ·ä¸€ä¸ªå¬èµ·æ¥éå¸¸æ­£å¼çš„åå­—ã€‚å¦å¤–å› ä¸ºä¸æ˜¯æ’°å†™è®ºæ–‡ï¼Œæœ¬æ–‡ä¸ä¼šè¯¦ç»†åˆ—å‡ºå„ç±»ä¾æ®ã€‚å¤ªç´¯! å¤©çƒæ¦‚å¿µ ä»¥ä¸Šå›¾ç‰‡ä¸ºå®Œæ•´çš„å¤©çƒç¤ºæ„å›¾ å’Œåœ°çƒæ¦‚å¿µç›¸å¯¹ï¼Œå¤ä»£å¤©æ–‡å­¦å®¶æå‡ºäº†å¤©çƒçš„æ¦‚å¿µã€‚å¤©çƒæ˜¯ä¸€ä¸ªæƒ³æƒ³çš„çƒä½“ï¼Œä»–ä¹Ÿæ˜¯æ—‹è½¬çš„ã€‚ç†è®ºä¸Šå…·æœ‰æ— é™å¤§çš„åŠå¾„ä¸”å’Œåœ°å¿ƒæ˜¯åŒå¿ƒçš„ã€‚å¦‚å›¾æ‰€ç¤ºï¼šå’Œåœ°çƒæœ‰èµ¤é“å’Œå—åŒ—æçš„æ¦‚å¿µå¯¹åº”ï¼Œå¤©çƒä¹Ÿæœ‰å¯¹åº”çš„å¤©çƒèµ¤é“å’Œå¤©çƒå—åŒ—æã€‚ å¤ä»£å¤©æ–‡å­¦å®¶è®¤ä¸ºæˆ‘ä»¬å’Œæ˜Ÿä½“æ˜¯ç­‰è·ç¦»çš„ï¼Œå°½ç®¡è¿™å¹¶ä¸æ­£ç¡®ã€‚å› ä¸ºå¤ä»£ç¼ºä¹æœ‰æ•ˆçš„å¤©æ–‡è§‚æµ‹æ‰‹æ®µã€‚æ˜Ÿçƒä¸æ˜¯é æˆ‘ä»¬è‚‰çœ¼å°±å¯ä»¥åˆ¤æ–­å‡ºè·ç¦»çš„ã€‚å¤ä»£ç§‘å­¦å®¶å…‹æœäº†è¿™ç§è·ç¦»ä¸Šçš„å› ç´ ï¼Œä½¿ç”¨è§’åº¦æ¥ç¡®å®šæ˜Ÿçƒåœ¨å¤©ç©ºä¸­çš„ä½ç½®ã€‚åœ¨å½“æ—¶è§‚æµ‹æ¡ä»¶å—é™çš„æƒ…å†µä¸‹ï¼Œä¸å¤±ä¸ºä¸€ç§å¾ˆæœ‰æ•ˆçš„å¤©æ–‡æŠ½è±¡ç³»ç»Ÿã€‚ åœ°çƒä¼šå›´ç»•åœ°è½´è‡ªè½¬ï¼Œç›¸å¯¹åº”äºåœ°çƒä¸åŠ¨çš„å‚ç…§ç³»ä¸‹ã€‚å¤©çƒä¹Ÿä¼šå›´ç€å¤©ææ—‹è½¬ï¼Œ24å°æ—¶ä¸åœã€‚è¿™å°±å½¢æˆäº†å¤ä»£å¤©æ–‡å­¦å®¶çš„çœ¼ä¸­çš„æ˜¼å¤œäº¤æ›¿åŸç†ã€‚å¤ªé˜³ï¼Œå«æ˜Ÿï¼Œå½¢æ˜Ÿéƒ½æ˜¯ä¸œå‡è¥¿è½çš„ï¼Œè¿™ç§ç§°ä¸ºå¤©çƒçš„å‘¨æ—¥å®è§†è¿åŠ¨ã€‚åœ°çƒå› ä¸ºæœ‰å…¶å…¬è½¬ï¼Œä¸€é¢—æ¨ªè¡Œæ€»æ˜¯æ¯”å‰ä¸€å¤©æå‰ï¼ˆçº¦4minï¼‰ä¸Šå‡ã€‚ å’Œåœ°çƒå¯¹åº”çš„æ¦‚å¿µä¸€æ ·ï¼Œå¤©çƒä¹Ÿæœ‰è‡ªå·±çš„å—åŒ—åŠçƒï¼Œå¯¹åº”ä¹Ÿæœ‰å—åŒ—å›å½’çº¿ï¼Œå—åŒ—æ åŒ—å›å½’çº¿ï¼šåŒ—å›å½’çº¿æ˜¯å¤ªé˜³åœ¨åŒ—åŠçƒèƒ½å¤Ÿå‚ç›´å°„åˆ°çš„ç¦»èµ¤é“æœ€è¿œçš„ä½ç½®ç‚¹ï¼Œå°†è¯¥ç‚¹ä¹‹çº¬åº¦çº¿ä¾¿å«â€œåŒ—å›å½’çº¿â€ï¼Œåœ¨å…¬å…ƒ2018å¹´ï¼Œå…¶ä½ç½®çº¦åœ¨åŒ—çº¬23Â°26â€²11.3â€³ (æˆ– 23.43648Â°)ã€‚ç›¸åï¼Œå—çº¬23Â°26â€²11.3â€³ (æˆ– 23.43648Â°)åˆ™ä¸ºâ€œå—å›å½’çº¿â€ã€‚ å› ä¸ºåœ°çƒæ˜¯è‡ªè¥¿å‘ä¸œæ—‹è½¬ï¼Œæ‰€ä»¥å°±æŠŠå¤©çƒå½“åšâ€œè‡ªä¸œå‘è¥¿æ—‹è½¬â€ã€‚ ä»¥å¤©çƒä¸ºåŸºæœ¬æ¦‚å¿µæ¥é‡åŒ–åˆ†æå¤©ä½“çš„æœå‘ã€‚æœ‰äº†å¤©çƒè¿™ä¸ªåŸºæœ¬æŠ½è±¡ï¼Œå¤©æ–‡å­¦å®¶å¼€å§‹åˆ›é€ ä¸ä¸€æ ·çš„å¤©ä½“åæ ‡ç³»ï¼Œæ¯”å¦‚é»„é“ç³»ï¼Œé“¶é“ç³»ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¤©çƒä»ªæ˜¯åœ¨å¤©çƒå¤–çœ‹å¤©çƒã€‚å¤©æ–‡é¦†çš„æ¨¡æ‹Ÿå™¨æ˜¯è¿˜åœ¨å¤©çƒå†…çœ‹å¤©çƒã€‚æ‰€ä»¥è¿™æ˜¯ä¸¤ä¸ªçœ‹èµ·æ¥ä¸ä¸€æ ·çš„å¤©çƒç³»ç»Ÿã€‚ é»„é“åæ ‡ç³»ï¼šé»„é“æ˜¯ç”±åœ°çƒä¸Šè§‚å¯Ÿå¤ªé˜³ä¸€å¹´ä¸­åœ¨å¤©çƒä¸Šçš„è§†è¿åŠ¨æ‰€é€šè¿‡çš„è·¯å¾„ï¼Œè‹¥ä»¥åœ°çƒâ€œä¸åŠ¨â€ä½œå‚ç…§çš„è¯å°±æ˜¯å¤ªé˜³ç»•åœ°çƒå…¬è½¬çš„è½¨é“å¹³é¢ï¼ˆé»„é“é¢ï¼‰åœ¨å¤©çƒä¸Šçš„æŠ•å½±ã€‚é»„é“ä¸å¤©èµ¤é“ç›¸äº¤äºä¸¤ç‚¹ï¼šæ˜¥åˆ†ç‚¹ä¸ç§‹åˆ†ç‚¹ï¼ˆè¿™ä¸¤ç‚¹ç§°äºŒåˆ†ç‚¹ï¼‰ï¼›è€Œé»„é“å¯¹åº”çš„ä¸¤ä¸ªå‡ ä½•ææ˜¯åŒ—é»„æï¼ˆåœ¨å¤©é¾™åº§ï¼‰ã€ä¸å—é»„æ (åœ¨å‰‘é±¼åº§)ã€‚åœ¨é»„é“ä¸Šä¸é»„é“å¹³è¡Œçš„å°åœ†ç§°é»„çº¬ï¼Œç¬¦å·Î²ï¼Œä»¥ç”±é»„é“é¢å‘åŒ—é»„ææ–¹å‘ä¸ºæ­£å€¼ï¼ˆ0Â°è‡³90Â°ï¼‰ï¼Œå‘å—é»„ææ–¹å‘åˆ™ä¸ºè´Ÿå€¼ã€‚å‚ç›´é»„é“çš„ç»åº¦ç§°é»„ç»ï¼Œç¬¦å·ä¸ºÎ»ï¼Œç”±æ˜¥åˆ†ç‚¹èµ·ç”±è¥¿å‘ä¸œé‡åº¦ï¼ˆ0Â°è‡³360Â°ï¼‰ã€‚åƒèµ¤é“åæ ‡ç³»ä¸­çš„èµ¤ç»ä¸€æ ·ï¼Œä»¥æ˜¥åˆ†ç‚¹åšä¸ºé»„ç»çš„èµ·ç‚¹ã€‚ æ³¨ï¼šæœ¬æ–‡ä¸è®¨è®ºåœ°çƒè¿›åŠ¨ç°è±¡ã€‚ é»„é“é¢å’Œæ˜¥ç§‹åˆ†ç‚¹å·²ç»åœ¨ç¤ºæ„å›¾ä¸­æ ‡æ³¨å‡ºæ¥ã€‚ é“¶é“åæ ‡ç³»ï¼Œæ˜¯ä»¥å¤ªé˜³ä¸ºä¸­å¿ƒï¼Œå¹¶ä¸”ä»¥é“¶æ²³ç³»æ˜æ˜¾æ’åˆ—ç¾¤æ˜Ÿçš„å¹³é¢ä¸ºåŸºå‡†çš„å¤©çƒåæ ‡ç³»ç»Ÿï¼Œå®ƒçš„â€œèµ¤é“â€æ˜¯é“¶æ²³å¹³é¢ã€‚ç›¸ä¼¼äºåœ°ç†åæ ‡ï¼Œé“¶é“åæ ‡ç³»çš„ä½ç½®ä¹Ÿæœ‰ç»åº¦å’Œçº¬åº¦ã€‚ æ ¹æ®è§‚æµ‹è€…ä½ç½®çš„ä¸åŒï¼Œæœ‰ä¸åŒçš„å¤©çƒä¸­å¿ƒã€‚åœ¨åœ°é¢ä¸Šè§‚æµ‹ï¼Œè§‚æµ‹è€…çš„çœ¼ç›å°±æ˜¯å¤©çƒä¸­å¿ƒã€‚è¿™æ ·å»ºç«‹çš„å¤©çƒå°±æ˜¯åœ°é¢å¤©çƒã€‚ å¦‚æœä»åœ°å¿ƒè§‚æµ‹ï¼Œåˆ™å«åšåœ°å¿ƒå¤©çƒã€‚æŠŠåœ°è½´æ— é™å»¶é•¿ï¼Œå°±æ˜¯å‡æƒ³çš„å¤©è½´ï¼Œåœ°çƒåŒ—ææŒ‡çš„ä¸€ç‚¹æ˜¯åŒ—å¤©æï¼Œåœ°çƒå—ææŒ‡çš„ä¸€ç‚¹å°±æ˜¯å—å¤©æã€‚é€šè¿‡åœ°çƒä¸­å¿ƒå’Œå¤©è½´å‚ç›´çš„å¹³é¢å«åšå¤©èµ¤é“é¢ï¼Œå¤©èµ¤é“é¢å’Œå¤©çƒçš„ä¼šåˆå¤„å°±æ˜¯å¤©èµ¤é“ã€‚ å¤ªé˜³åœ¨å¤©çƒä¸Šæ¯å¤©ç§»åŠ¨çº¦1åº¦ï¼Œä¸€å¹´åˆ™ç§»åŠ¨ä¸€å‘¨ï¼Œè¿™ç§°ä¹‹ä¸ºå¤ªé˜³å‘¨å¹´è§†è¿åŠ¨ï¼Œå¤ªé˜³ä¸­å¿ƒåœ¨å¤©çƒä¸Šè§†è¿åŠ¨çš„è½¨è¿¹åˆ™æ˜¯é»„é“ã€‚ å¤©èµ¤é“(celestial equator)æ˜¯å¤©çƒä¸Šå‡è±¡çš„ä¸€ä¸ªå¤§åœˆï¼Œä½äºåœ°çƒèµ¤é“çš„æ­£ä¸Šæ–¹ï¼›ä¹Ÿå¯ä»¥è¯´æ˜¯å‚ç›´äºåœ°çƒåœ°è½´æŠŠå¤©çƒå¹³åˆ†æˆå—åŒ—ä¸¤åŠçš„å¤§åœ†ï¼Œç†è®ºä¸Šæœ‰æ— é™é•¿çš„åŠå¾„ã€‚ç›¸å¯¹äºé»„é“é¢ï¼Œå¤©èµ¤é“å€¾æ–œ23.5Â°ï¼Œæ˜¯åœ°è½´å€¾æ–œçš„ç»“æœã€‚å½“å¤ªé˜³åœ¨å¤©èµ¤é“ä¸Šæ—¶,ç™½æ˜¼å’Œé»‘å¤œåˆ°å¤„éƒ½ç›¸ç­‰ï¼Œå› æ­¤å¤©èµ¤é“ä¹Ÿè¢«ç§°ä¸ºæ˜¼å¤œä¸­åˆ†çº¿(equinoctial line)æˆ–æ˜¼å¤œå¹³åˆ†åœ†ï¼›é‚£æ—¶åŒ—åŠçƒå’Œå—åŠçƒéƒ½å¤„äºæ˜¥åˆ†æˆ–è€…ç§‹åˆ†ã€‚åœ¨ä¸€å¹´å½“ä¸­ï¼Œå¤ªé˜³æœ‰ä¸¤æ¬¡æœºä¼šå¤„äºå¤©èµ¤é“ä¸Šã€‚åªè¦æˆ‘ä»¬æŠŠåœ°çƒèµ¤é“ä¸æ–­å‘å¤–æ‰©å¤§ï¼Œä¸€ç›´å»¶ä¼¸åˆ°æ— é™å¤§ï¼Œè¿™ä¸ªæ— é™çš„åœ†å°±æ˜¯å¤©èµ¤é“ã€‚","categories":[{"name":"å¤©æ–‡","slug":"å¤©æ–‡","permalink":"https://imzy.vip/categories/%E5%A4%A9%E6%96%87/"}],"tags":[{"name":"å æ˜Ÿ","slug":"å æ˜Ÿ","permalink":"https://imzy.vip/tags/%E5%8D%A0%E6%98%9F/"}]},{"title":"æ¯”ç‰¹å¸powéš¾åº¦éªŒè¯","slug":"æ¯”ç‰¹å¸powéš¾åº¦éªŒè¯","date":"2021-06-19T15:58:46.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/58506/","link":"","permalink":"https://imzy.vip/posts/58506/","excerpt":"æ¯”ç‰¹å¸powéš¾åº¦éªŒè¯ä½•ä¸ºPOWpowçš„å…¨ç§°ä¸ºproof of workï¼Œå³å·¥ä½œé‡è¯æ˜ã€‚ç®€å•çš„è§£é‡Šä¸ºâ€œåšäº†å¤šå°‘å·¥ä½œâ€ã€‚æŠ›å¼€åŒºå—é“¾çš„èƒŒæ™¯ï¼Œpowå°±æ˜¯å¯¹è‡ªå·±åšäº†å¤šå°‘å·¥ä½œçš„ä¸€ç§è¯´æ˜ï¼šæ¯”å¦‚åšäº†å­¦ä¹ äº†50ä¸ªå°æ—¶çš„æ±½è½¦é©¾é©¶ã€‚è€Œä»–äººå¾ˆå®¹æ˜“éªŒè¯è¿™ä¸ªç»“æœï¼šä½ å¯èƒ½50ä¸ªå°æ—¶ä¹‹åæ‹¿åˆ°äº†ä¸€æœ¬é©¾ç…§ã€‚åˆ«äººå°±çŸ¥é“ä½ ç¡®å®åœ¨å­¦ä¹ é©¾é©¶ä¸Šä½¿ç”¨äº†50ä¸ªå°æ—¶ã€‚ Block Headeråœ¨åŒºå—é“¾çš„ä¸–ç•Œé‡Œï¼Œpowçš„æ•°æ®å¯ä»¥ä½“ç°åœ¨åŒºå—é“¾çš„åŒºå—å¤´ä¸­ã€‚å½“ç„¶ä¸€èˆ¬æ¥è¯´ï¼Œè®²è§£POWçš„éš¾åº¦ç¦»ä¸å¼€æŒ–çŸ¿é—®é¢˜ã€‚æœ¬æ–‡å› ä¸ºä¸»è¦è®¨è®ºæ–¹å‘çš„é—®é¢˜ï¼Œä¸å±•å¼€è®²æŒ–çŸ¿ï¼Œä¸»è¦ä»åŒºå—å¤´å…¥æ‰‹ã€‚åœ¨é˜…è¯»ä¸‹é¢çš„å†…å®¹ä¹‹å‰ï¼Œé»˜è®¤è¯»è€…å·²ç»æœ‰äº†å¦‚ä¸‹å‰ç½®çŸ¥è¯† åŒºå—é“¾å¸¸è¯† æ¯”ç‰¹å¸åŸºæœ¬æ¦‚å¿µ æŒ–çŸ¿åŸºæœ¬æ¦‚å¿µ æŠ›å¼€å‰ç½®çŸ¥è¯†ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹åŒºå—å¤´çš„æ•°æ®ç»“æ„ã€‚ https://en.bitcoin.it/wiki/Protocol_documentation#Block_Headers å¯ä»¥ç›´æ¥å‚è€ƒä»¥ä¸Šé“¾æ¥ï¼Œå½“ç„¶å¯ä»¥å¯ä»¥ç›´æ¥æŸ¥çœ‹æ¯”ç‰¹å¸çš„æºç ï¼Œæˆ‘ä»¬ç°åœ¨æŠŠæ•°æ®åˆ—å‡ºæ¥ã€‚ 12345678struct header_structure &#123; // BYTES NAME uint32_t nVersion; // 4 version uint8_t hashPrevBlock[32]; // 32 previous block header hash uint8_t hashMerkleRoot[32]; // 32 merkle root hash uint32_t nTime; // 4 time uint32_t nBits; // 4 target uint32_t nNonce; // 4 nonce&#125;;","text":"æ¯”ç‰¹å¸powéš¾åº¦éªŒè¯ä½•ä¸ºPOWpowçš„å…¨ç§°ä¸ºproof of workï¼Œå³å·¥ä½œé‡è¯æ˜ã€‚ç®€å•çš„è§£é‡Šä¸ºâ€œåšäº†å¤šå°‘å·¥ä½œâ€ã€‚æŠ›å¼€åŒºå—é“¾çš„èƒŒæ™¯ï¼Œpowå°±æ˜¯å¯¹è‡ªå·±åšäº†å¤šå°‘å·¥ä½œçš„ä¸€ç§è¯´æ˜ï¼šæ¯”å¦‚åšäº†å­¦ä¹ äº†50ä¸ªå°æ—¶çš„æ±½è½¦é©¾é©¶ã€‚è€Œä»–äººå¾ˆå®¹æ˜“éªŒè¯è¿™ä¸ªç»“æœï¼šä½ å¯èƒ½50ä¸ªå°æ—¶ä¹‹åæ‹¿åˆ°äº†ä¸€æœ¬é©¾ç…§ã€‚åˆ«äººå°±çŸ¥é“ä½ ç¡®å®åœ¨å­¦ä¹ é©¾é©¶ä¸Šä½¿ç”¨äº†50ä¸ªå°æ—¶ã€‚ Block Headeråœ¨åŒºå—é“¾çš„ä¸–ç•Œé‡Œï¼Œpowçš„æ•°æ®å¯ä»¥ä½“ç°åœ¨åŒºå—é“¾çš„åŒºå—å¤´ä¸­ã€‚å½“ç„¶ä¸€èˆ¬æ¥è¯´ï¼Œè®²è§£POWçš„éš¾åº¦ç¦»ä¸å¼€æŒ–çŸ¿é—®é¢˜ã€‚æœ¬æ–‡å› ä¸ºä¸»è¦è®¨è®ºæ–¹å‘çš„é—®é¢˜ï¼Œä¸å±•å¼€è®²æŒ–çŸ¿ï¼Œä¸»è¦ä»åŒºå—å¤´å…¥æ‰‹ã€‚åœ¨é˜…è¯»ä¸‹é¢çš„å†…å®¹ä¹‹å‰ï¼Œé»˜è®¤è¯»è€…å·²ç»æœ‰äº†å¦‚ä¸‹å‰ç½®çŸ¥è¯† åŒºå—é“¾å¸¸è¯† æ¯”ç‰¹å¸åŸºæœ¬æ¦‚å¿µ æŒ–çŸ¿åŸºæœ¬æ¦‚å¿µ æŠ›å¼€å‰ç½®çŸ¥è¯†ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹åŒºå—å¤´çš„æ•°æ®ç»“æ„ã€‚ https://en.bitcoin.it/wiki/Protocol_documentation#Block_Headers å¯ä»¥ç›´æ¥å‚è€ƒä»¥ä¸Šé“¾æ¥ï¼Œå½“ç„¶å¯ä»¥å¯ä»¥ç›´æ¥æŸ¥çœ‹æ¯”ç‰¹å¸çš„æºç ï¼Œæˆ‘ä»¬ç°åœ¨æŠŠæ•°æ®åˆ—å‡ºæ¥ã€‚ 12345678struct header_structure &#123; // BYTES NAME uint32_t nVersion; // 4 version uint8_t hashPrevBlock[32]; // 32 previous block header hash uint8_t hashMerkleRoot[32]; // 32 merkle root hash uint32_t nTime; // 4 time uint32_t nBits; // 4 target uint32_t nNonce; // 4 nonce&#125;; ç°åœ¨é€æ¡è§£é‡Šblock headerä¸­çš„å­—æ®µã€‚ nVersion ç‰ˆæœ¬å·ï¼Œä¸»è¦ç”¨æ¥è·Ÿè¸ªè½¯ä»¶ç‰ˆæœ¬ï¼ˆbitcoin coreï¼‰å’Œåè®®å· ç°åœ¨å›ºå®šä¸º2 hashPrevBlock å‰ä¸€ä¸ªèŠ‚ç‚¹çš„hashå€¼ï¼Œæˆ‘ä»¬çŸ¥é“åŒºå—é“¾çš„é“¾ï¼Œå¤§è‡´æŒ‡çš„æ˜¯æ•°æ®é“¾å¼å­˜å‚¨ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•ç²—æš´çš„ç†è§£ä¸ºå®ƒæ˜¯æŒ‡å‘å‰ç½®èŠ‚ç‚¹çš„é“¾è¡¨ã€‚ hashMerkleRoot é»˜å…‹å°”æ ¹ï¼ŒåŒºå—ä¸­æ‰€æœ‰äº¤æ˜“ç»„åˆèµ·æ¥ç”Ÿäº§æˆæœ¬çš„é»˜å…‹å°”æ ‘çš„æ ¹ã€‚è¯¦æƒ…å¯å‚è€ƒæ•°æ®ç»“æ„â€œé»˜å…‹å°”æ ‘â€ nTime æ—¶é—´æˆ³ï¼Œæ ‡å¿—å—ç”Ÿæˆçš„æ—¶é—´ nBits å’Œéš¾åº¦æœ‰å…³ï¼Œæœ¬æ–‡è®¨è®ºçš„é‡ç‚¹ nNonce éšæœºå€¼ï¼Œå’Œéš¾åº¦æœ‰å…³ï¼Œæœ¬æ–‡è®¨è®ºçš„é‡ç‚¹ åŸºæœ¬æ¦‚å¿µç°åœ¨ä»‹ç»åŸºæœ¬æ¦‚å¿µï¼Œæ–¹ä¾¿ç†è§£ï¼š æŒ–çŸ¿æ˜¯çŸ¿å·¥ä¹‹é—´äº’ç›¸ç«äº‰çš„ç»“æœï¼Œè°å…ˆç®—å‡ºæœ‰æ•ˆåŒºå—ï¼Œè°å°±å¯ä»¥å¾—åˆ°å—ä¸­çš„æ¯”ç‰¹å¸å¥–åŠ±ï¼Œå®ƒå«åšcoinbaseï¼Œå¦å¤–å—ä¸­æœ‰äº¤æ˜“ï¼Œäº¤æ˜“ä¸­è•´å«çš„æ‰‹ç»­è´¹ä¹Ÿæ˜¯çŸ¿å·¥çš„å¥–åŠ± æœ‰æ•ˆåŒºå—çš„æ„æ€æ˜¯ï¼šåŒºå—å¤´çš„SHA256ç»“æœè¦å°äºç­‰äºä¸€ä¸ªç›®æ ‡å€¼ï¼ˆtargetï¼‰ merklerootæ˜¯çŸ¿å·¥ä»å†…å­˜æ± å–å‡ºæ¥çš„â€œäº¤æ˜“â€æ„å»ºçš„ã€‚ å¤§è‡´ä¸Šæ˜¯å…ˆæ„å»ºï¼Œå†éªŒè¯ å¯¹åŒºå—å¤´åšSHA256è¿ç®—ï¼Œå¦‚æœç»“æœå°äºç­‰äºä¸€ä¸ªç›®æ ‡å€¼ï¼ˆtargetï¼‰ï¼Œåˆ™æ–°å—æ„å»ºæˆåŠŸï¼Œå¹¿æ’­åˆ°å…¨ç½‘ï¼Œéšåå¼€å§‹ä¸‹ä¸€æ¬¡ç®—åŠ›ç«èµ› å¦åˆ™ï¼Œè°ƒæ•´åŒºå—å¤´éƒ¨åˆ†å­—æ®µçš„å€¼ï¼ˆä¿®æ”¹Nonceæˆ–è€…é€šè¿‡è°ƒæ•´äº¤æ˜“æ¥ä¿®æ”¹Merkle Rootï¼‰ï¼Œé‡æ–°åšè®¡ç®— ç›®æ ‡å€¼targetå‰ä¸€æ®µæåˆ°äº†ï¼ŒåŒºå—å¤´hashè®¡ç®—ä¹‹åå°äºç­‰äºç›®æ ‡å€¼æ‰ç®—æœ‰æ•ˆåŒºå—ã€‚æ³¨æ„åŒºå—å¤´å“ˆå¸Œç®—æ³•SHA256æœ‰256ä½ï¼Œè€Œbitsåªæœ‰32ä½ã€‚bitè½¬æ¢æˆtargetæœ‰ç‰¹å®šå…¬å¼ï¼š target = coefficient * 256^(exponent â€“ 3) éšæœºæŠ½å–ä¸€ä¸ªå¹¸è¿åŒºå—æ¥åˆ†æä¸€ä¸‹ï¼Œæˆ‘ä»¬å°±é€‰é«˜åº¦ä¸º88888çš„åŒºå—ã€‚ 12bits 454,373,987æ³¨æ„ï¼šè¿™ä¸ªbitsæ˜¯10è¿›åˆ¶ï¼Œæˆ‘ä»¬åˆ†ææ—¶å€™éœ€è¦è½¬16è¿›åˆ¶ å¯¹åº”ä¸º 0x1b153263 bitå€¼æ˜¯æŒ‰ç…§ç³»æ•°+æŒ‡æ•°çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå‰ä¸¤ä½ä¸ºå¹‚ï¼Œåå…­ä½ä¸ºç³»æ•°ã€‚ 1234561bä¸ºå¹‚ï¼ˆexponentï¼‰ 153263ä¸ºç³»æ•°(coefficient)æ³¨æ„è¿™æ˜¯16è¿›åˆ¶æ ¹æ®å…¬å¼target = (0x153263ï¼‰* 256^(1b - 3)target = 1389155 * 256^(27 - 3ï¼‰ = 8719867261221084516486306056196045840260667577454435863762042880 = 00 00 00 00 00 15 32 63 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 éœ€è¦æ³¨æ„çš„æœ‰ï¼šè®¡ç®—çš„æ—¶å€™è¿˜æ˜¯è½¬10è¿›åˆ¶ï¼Œè®¡ç®—å®Œä¹‹åè¦è½¬16è¿›åˆ¶ï¼Œä¸å¤Ÿ64ä½çš„è¦åœ¨é«˜ä½è¡¥é›¶ã€‚ å®é™…ä¸Šæˆ‘ä»¬å‘ç°ï¼Œå®é™…çš„hash 000000000013a2a3a8f1aaec4690f55fdcb4067d812521a6d55239d8ea1a4dd3 æ¯”ç›®æ ‡targetç¡®å®æ˜¯å°çš„ã€‚ éš¾åº¦æŸ¥çœ‹åˆ›ä¸–åŒºå— æˆ‘ä»¬å‘ç° bitsä¸º0x1d00ffff ï¼ˆ486604799ï¼‰ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªéš¾åº¦å®šä¸º1 æ ¹æ®ä¸Šé¢çš„å…¬å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆç®€å•çš„è®¡ç®—å‡ºtarget 0x00ffff * 256^26 0x00000000ffff0000000000000000000000000000000000000000000000000000 ä¹Ÿå°±æ˜¯è¯´ä¸‹ä¸€ä¸ªåŒºå—å¤´çš„sha256å“ˆå¸Œå€¼è¦å°äºè¿™ä¸ªå€¼ï¼ˆå‰ä¸‰åäºŒä½ä¸º0)ã€‚ targetç”¨16è¿›åˆ¶è¡¨ç¤ºï¼Œæ¯ä¸¤ä¸ªåå…­è¿›åˆ¶ä½è¡¨ç¤ºä¸€ä¸ªå­—èŠ‚bytesï¼Œå‰é¢æœ‰8ä¸ª0ï¼Œç›¸å½“äº4ä¸ªå­—èŠ‚ï¼Œä¸º4*8 = 32ä½ï¼ˆ2è¿›åˆ¶ä½bitï¼‰ è¿™é‡Œæœ‰ä¸ªé‡è¦ç»“è®ºï¼š SHA256è¿ç®—çš„ç»“æœè¢«è®¤ä¸ºæ˜¯ ä¸€è‡´çš„éšæœºåºåˆ— ã€‚æ¢ä¸ªè¯´æ³•ï¼šSHA256çš„ç»“æœä¸­çš„æŸä¸€ä½çš„å€¼ï¼Œä¸º0æˆ–ä¸º1çš„æ¦‚ç‡ç›¸åŒã€‚æ‰€ä»¥åšä¸€æ¬¡è®¡ç®—ï¼Œæ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼ˆå‰32ä½çš„å€¼å‡ä¸º0ï¼‰çš„æ¦‚ç‡ä¸º1 / (2^32)ï¼Œä¹Ÿå°±æ˜¯å¹³å‡è¦åš2^32æ¬¡è¿ç®—ï¼Œæ‰èƒ½æ‰¾åˆ°è¿™ä¸ªå€¼ å…³äºä¸€è‡´çš„éšæœºåºåˆ—ï¼šå¯ä»¥çœ‹è¿™ä¸ª åœ¨æ­¤ä¹‹ä¸Šï¼Œæˆ‘ä»¬å®šä¹‰ï¼šâ€œä½¿åŒºå—å¤´çš„SHA256ç»“æœå°äºæŸä¸ªç›®æ ‡å€¼ï¼ˆtargetï¼‰ï¼Œå¹³å‡è¦å°è¯•çš„è®¡ç®—æ¬¡æ•°ï¼Œè¿™ä¸ªæ¬¡æ•°ä¸ºéš¾åº¦ï¼ˆdifficulty)â€ã€‚åˆ›ä¸–åŒºå—çš„éš¾åº¦ä¸º1ï¼ æ¯”ç‰¹å¸æœ‰è¿™æ ·ä¸€ä¸ªå…¬å¼ difficultyâ€”current = target-genesis / target-current éšæœºé€‰å–ä¸€ä¸ªå¹¸è¿é«˜åº¦ç®—ä¸€ä¸ª é€‰æ‹©500000 12345678910111213bits: 402,691,653Difficulty: 1,873,105,475,221.61bitè½¬16è¿›åˆ¶ 18 009645target = (0x009654) * 256^(18-3) = 38484 * 256^(24-3) åˆ›ä¸–å—çš„target = (0x00ffff * 256 ^ 26) ä¸¤è€…ç›¸é™¤ = 65535/38484 * 256^5 = 1.70291549735 * 2 ^ 40 = 1,873,105,475,221.61 = 1.87 * 10^12 å¯ä»¥çœ‹åˆ°è®¡ç®—å‡ºçš„éš¾åº¦å’ŒåŒºå—é“¾æµè§ˆå™¨å±•ç¤ºçš„éš¾åº¦ä¸€è‡´ã€‚å¤§çº¦ä¸º1.87Tã€‚ æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªè®¡ç®—å…¬å¼ å‡ºå—æ—¶é—´(å•ä½ï¼šç§’) â‰ˆ difficulty_å½“å‰ * 2^32 / å…¨ç½‘ç®—åŠ› æœ‰å…´è¶£çš„è¯å¯ä»¥å»åŒºå—é“¾æµè§ˆå™¨ä¸Šè®¡ç®—ä¸€ä¸‹ï¼Œåœ¨å½“å‰çš„éš¾åº¦ä¸‹ï¼Œå‡ºå—æ—¶é—´æ˜¯ä¸æ˜¯ä¿æŒåœ¨10åˆ†é’Ÿå·¦å³ã€‚ éš¾åº¦çš„è°ƒæ•´ç”±ä¸Šè¿°è®¡ç®—å¾—çŸ¥ï¼ŒåŒºå—é“¾éš¾åº¦å–å†³äºtargetå€¼ã€‚targetå€¼å’Œbitså€¼ç›¸å…³ã€‚æ ¹æ®åŒºå—é“¾çš„è®¾è®¡ï¼Œè¦ä¿è¯åœ¨10åˆ†é’Ÿå·¦å³å‡ºå—ã€‚å®é™…ä¸Šï¼Œåœ¨éš¾åº¦ä¸å˜çš„æƒ…å†µä¸‹ï¼Œå‡ºå—é€Ÿåº¦å’Œå…¨ç½‘ç®—åŠ›ç›¸å…³ï¼Œå…¨ç½‘ç®—åŠ›è¶Šå¤§ï¼Œåˆ™å‡ºå—æ—¶é—´è¶ŠçŸ­ã€‚ä¸ºäº†ä¿è¯å‡ºå—æ—¶é—´çš„åŸºæœ¬æ’å®šï¼Œæ¯”ç‰¹å¸åœ¨ä»£ç ä¸­å†…ç½®äº†ä¸€ä¸ªè°ƒæ•´éš¾åº¦çš„ç®—æ³•ã€‚å®é™…ä¸Šè¿™ä¸ªç®—æ³•å¾ˆç®€å•ï¼š æ¯äº§ç”Ÿ2016ä¸ªå—ï¼ŒæœŸæœ›æ—¶é—´ä¸º2016*10minï¼Œå¤§çº¦ä¸¤å‘¨ã€‚å…¨ç½‘å®é™…å‡º2016ä¸ªå—çš„æ—¶é—´å’ŒæœŸæœ›æ—¶é—´åšå¯¹æ¯”ï¼ˆtimeså¯¹æ¯”ï¼‰ï¼Œå°äºæœŸæœ›å°±å¢åŠ éš¾åº¦ï¼Œå¤§äºæœŸæœ›å€¼å°±å‡å°éš¾åº¦ã€‚æ€»ä½“ä¿æŒæ’å®šã€‚ æ ¹æ®æ¯”ç‰¹å¸çš„æºç ï¼Œè°ƒæ•´éš¾åº¦ä¹Ÿæ˜¯æœ‰é™åº¦çš„ï¼Œå¦‚æœè°ƒæ•´çš„å€æ•°è¶…è¿‡4å€ï¼ŒæŒ‰ç…§4å€æˆ–è€…å››åˆ†ä¹‹ä¸€æ¥è°ƒæ•´ã€‚å†æ¬¡å¼ºè°ƒä¸€éï¼ŒåŒºå—ä¸­çš„éš¾åº¦ä¸æ˜¯ç›´æ¥å†™å…¥åŒºå—å¤´çš„ï¼Œæ˜¯è°ƒæ•´bitså€¼å¾—åˆ°çš„ã€‚æœ‰å…´è¶£å¯ä»¥çœ‹è¿™é‡Œã€‚ æ³¨æ„ï¼šå®é™…ä»£ç ä¸­2015ä¸ªå—å°±ä¼šè°ƒæ•´ï¼Œå› ä¸ºå½“åˆå†™ä»£ç å†™é”™äº†ã€‚ã€‚ã€‚ å…³äºéš¾åº¦éªŒè¯çš„é—²è¯åŒºå—é“¾powéš¾åº¦éªŒè¯å¦‚ä½•ä¿è¯æ•°æ®çš„æ­£ç¡®æ€§ è¿™é‡Œé¢æœ‰ä¸¤ä¸ªé—®é¢˜ï¼šäº¤æ¢æ•°æ®çš„æ—¶å€™å¦‚ä½•ä¿è¯è¿™ä¸ªå—æ˜¯æ­£å¸¸çš„å—ï¼Œä¸æ˜¯ä¼ªé€ çš„? ç­”ï¼šåŒºå—é“¾åƒé“¾è¡¨ä¸€æ ·ï¼Œè¦æŒ‡å‘å‰ä¸€ä¸ªå—ã€‚æœ¬åŒºå—ä¸­çš„çš„prvehashè¦å’Œå‰ä¸€ä¸ªåŒºå—çš„å“ˆå¸Œä¸€è‡´ã€‚å¦å¤–å°±æ˜¯è¦è®¡ç®—powéš¾åº¦ï¼Œå¤§è‡´ç›¸å½“äºä¹‹å‰çš„targetè®¡ç®—è¿‡ç¨‹ï¼Œtargetè¦æ»¡è¶³è¦æ±‚è¯´æ˜æ‰æ˜¯æ­£å¸¸çš„å—ã€‚ å†è¿›ä¸€æ­¥ï¼šå¦‚æœéš¾åº¦æ»¡è¶³è¦æ±‚ï¼Œå°±æ˜¯æ­£å¸¸çš„å—ï¼Œæœ‰æ²¡æœ‰å¯èƒ½åŒæ—¶æœ‰ä¸¤ä¸ªä»¥ä¸Šæœ‰æ•ˆå—äº§ç”Ÿï¼Ÿ å®Œå…¨å¯èƒ½ï¼Œå› ä¸ºcoinbaseä¸ä¸€æ ·ï¼Œmerkleæ ‘ä¸ä¸€æ ·ï¼Œnonceå€¼ä¹Ÿä¸ä¸€æ ·ï¼Œè®¡ç®—å‡ºæ¥hashä¹Ÿä¸ä¸€æ ·ï¼Œæ˜¯å­˜åœ¨ä¸¤ä¸ªä¸ä¸€æ ·çš„å—éƒ½æ»¡è¶³è¦æ±‚éƒ½ è¢«æ¥å—çš„ã€‚ä½†æ˜¯ï¼Œæ€»æœ‰ä¸€ä¸ªå—ä¼šæ›´å¿«å¾—åˆ°å…¶ä»–å—ï¼Œé“¾æ¥ä¸Šã€‚æ‰€ä»¥æœ€é•¿çš„é“¾æ‰æ˜¯æœ‰æ•ˆé“¾ã€‚ å®‰å…¨å¹¿æ’­çš„é—®é¢˜ï¼Ÿ ç­”ï¼šæ‰€è°“å®‰å…¨å¹¿æ’­ï¼Œå°±æ˜¯æŒ‡å¦‚ä½•åº”å¯¹åˆ«äººçªƒå–ä½ çš„å·¥ä½œé‡ï¼Œåˆ«äººæ˜¯å¦å¯ä»¥æ‹¿ä½ æ‰“åŒ…çš„é‚£äº›äº¤æ˜“?ç­”æ¡ˆæ˜¯ä¸å¯ä»¥ï¼Œæ‰“åŒ…çš„æ—¶å€™ï¼Œè¦ä»äº¤æ˜“æ± è·å–å¯¹åº”çš„äº¤æ˜“ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªäº¤æ˜“æ˜¯è‡ªå·±çš„coinbaseäº¤æ˜“ï¼Œå¦‚æœä½ å…ˆæˆåŠŸï¼Œç›¸å½“äºçŸ¿å·¥å·²ç»é”å®šäº†äº¤æ˜“ï¼Œé”å®šäº†merkletreeã€‚åˆ«çš„çŸ¿å·¥åªå¥½å¼€å§‹ä¸‹ä¸€è½®ç«äº‰ã€‚æ¢å¥è¯è¯´ï¼šä½ æ‰“åŒ…äº†å°±æ˜¯ä½ çš„ï¼Œåˆ«äººåªèƒ½æ”¾å¼ƒã€‚è¿™é‡Œæœ‰ä¸ªå¸¸è§çš„è¯¯è§£ï¼Œå› ä¸ºäº¤æ˜“æ˜¯ä»å†…å­˜æ± å–è¿‡æ¥çš„ï¼Œäº¤æ˜“ä¸ä¸€æ ·å¾—åˆ°çš„merkleræ ‘ä¸ä¸€æ ·ï¼Œä¼šå½±å“å—hashè®¡ç®—ï¼Œé‚£æˆ‘å²‚ä¸æ˜¯æ°¸è¿œæ— æ³•çš„çš„è®¡ç®—å‡ºåˆé€‚çš„hashï¼Ÿå®é™…åœ¨æŒ–çŸ¿è¿‡ç¨‹ä¸­ï¼ŒçŸ¿å·¥ä¼šæŒ‰ç…§äº¤æ˜“è´¹é«˜ä½æ’åºï¼Œä¼˜å…ˆé«˜äº¤æ˜“è´¹çš„äº¤æ˜“æ‰“åŒ…è¿›å—ã€‚ä»–ä¸ºäº†å¿«ï¼Œé€‰å–ä»€ä¹ˆäº¤æ˜“ï¼ˆå…ˆç®—å¥½ï¼‰ï¼Œtimesæ˜¯ä»€ä¹ˆéƒ½æ˜¯å›ºå®šçš„ï¼ˆåªè¦æ¯”ä¸Šä¸€ä¸ªå¤§å°±è¡Œï¼‰ï¼Œä¸“å¿ƒå¯»æ‰¾nonceå€¼å³å¯ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"},{"name":"POW","slug":"POW","permalink":"https://imzy.vip/tags/POW/"}]},{"title":"æ‹œå åº­å°†å†›é—®é¢˜ç®€è¿°","slug":"æ‹œå åº­å°†å†›é—®é¢˜ç®€è¿°","date":"2021-05-11T22:05:53.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/27143/","link":"","permalink":"https://imzy.vip/posts/27143/","excerpt":"æ‹œå åº­å°†å†›é—®é¢˜ç®€è¿°æ‹œå åº­çš„ç®€è¿°æœ¬æ–‡å°†ç”¨äºä»‹ç»è‘—åçš„æ‹œå åº­å°†å†›é—®é¢˜ã€‚åœ¨ä»‹ç»æ‹œå åº­å°†å†›é—®é¢˜ä¹‹å‰ï¼Œå…ˆç®€å•è¯´ä¸€ä¸‹æ‹œå åº­ã€‚æ‹œå åº­å¸å›½ï¼Œåœ¨å¤ä»£è¥¿æ¬§ä¹Ÿè¢«ç§°ä¹‹ä¸ºä¸œç½—é©¬å¸å›½ã€‚æ˜¯ä¸€ä¸ªä½äºæ¬§äºšäº¤ç•Œå¤„çš„å°å»ºå›ä¸»åˆ¶å›½å®¶ï¼Œå…¶é¢†åœŸåŒ…æ‹¬ç°åœ¨çš„æ¬§æ´²å—éƒ¨ï¼Œè¥¿äºšå’ŒåŒ—éã€‚å…¬å…ƒå››ä¸–çºªå·¦å³ï¼Œç½—é©¬å¸å›½å¼€å§‹åˆ†åˆ—ä¸ºç½—é©¬ä¸œéƒ¨å’Œç½—é©¬è¥¿éƒ¨ï¼Œè¿™ä¸¤ä¸ªå›½å®¶éƒ½è¢«è§†ä¸ºç½—é©¬æ­£ç»Ÿï¼Œå¤§æ¦‚åˆ°å…¬å…ƒåä¸–çºªï¼Œç½—é©¬è¥¿éƒ¨é™·è½ï¼Œéšç€ç¥åœ£ç½—é©¬å¸å›½çš„å»ºç«‹ï¼Œç½—é©¬ä¸œéƒ¨å¤±å»äº†ç½—é©¬è¿™ä¸ªå•è¯çš„ç‹¬å æƒï¼Œå¼€å§‹è¢«ç§°ä¹‹ä¸ºä¸œç½—é©¬å¸å›½ã€‚å¤§æ¦‚åœ¨16ä¸–çºªä¹‹åï¼Œå¼€å§‹å‡ºç°äº†æ‹œå åº­å¸å›½çš„è¯´æ³•ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ‹œå åº­å¸å›½çš„é¦–åºœå›å£«å¦ä¸å ¡è¢«ç¬¬å››æ¬¡åå­—å†›ä¸œå¾æ”»é™·ï¼Œä»æ­¤ä¸€è¹¶ä¸æŒ¯ã€‚1453å¹´5æœˆ29æ—¥ï¼Œå›å£«å¦ä¸å ¡è¢«å¼ºå¤§çš„å¥¥æ–¯æ›¼å¸å›½æ”»é™·ï¼Œæœ«ä»£çš‡å¸å›å£«å¦ä¸åä¸€ä¸–æˆ˜æ­»ã€‚ä¸œç½—é©¬å¸å›½å°±æ­¤ç»ˆç»“ã€‚å½“ç„¶ï¼Œæ­¤æ–‡ä¸æ˜¯ä»‹ç»ä¸œç½—é©¬å¸å›½å†å²çš„æ–‡ç« ï¼Œåœ¨æ­¤ä»…ç®€è¿°æ‹œå åº­å¸å›½çš„å†å²ã€‚ æ‹œå åº­å°†å†›é—®é¢˜æ˜¯ä»€ä¹ˆæ‹œå åº­å°†å†›é—®é¢˜å’Œæ‹œå åº­çš„å†å²å…¶å®å¹¶æ— å…³è”ï¼Œæ‹œå åº­å°†å†›é—®é¢˜ä¹Ÿä¸æ˜¯å†å²ä¸ŠçœŸå®å­˜åœ¨çš„é—®é¢˜ï¼Œä»–æ˜¯è‘—åè®¡ç®—æœºå¤§ç¥å…°ä¼¯ç‰¹äº1982å¹´æå‡ºçš„ã€‚æ‹œå åº­é—®é¢˜æè¿°çš„æ˜¯å¦‚ä¸‹çš„åœºæ™¯ å‡è®¾æœ‰ä¸€åº§åŸå ¡ï¼Œæ‹œå åº­å¸å›½æƒ³æ”»é™·è¿™åº§åŸå ¡ã€‚æ‰€ä»¥æ´¾å‡ºäº†å¾ˆå¤šæ”¯å†›é˜Ÿï¼Œå› ä¸ºé€šè®¯æ¡ä»¶å¾ˆè½åï¼Œå†›é˜Ÿå’Œå†›é˜Ÿä¹‹é—´å¿…é¡»ç»è¿‡ä¿¡ä½¿æ¥ä¼ é€’ä½œæˆ˜å‘½ä»¤ã€‚åŸå ¡ååˆ†åšå›ºï¼Œå¯ä»¥æŠµå¾¡ä¸€ä¸¤åªå†›é˜Ÿçš„è¿›æ”»ã€‚åªæœ‰æ‰€æœ‰å†›é˜ŸåŒæ—¶è¿›æ”»ï¼Œæ‰å¯ä»¥æ”»é™·åŸå ¡ã€‚ä¸ºäº†ä¿è¯ä½œæˆ˜å‘½ä»¤çš„ç»Ÿä¸€ï¼Œæå‡ºä¸€ä¸ªåŠæ³•ï¼ŒæŠ•ç¥¨ã€‚è¶…è¿‡åŠæ•°æŠ•ç¥¨å†³å®šä½œæˆ˜å‘½ä»¤ã€‚æ¯”å¦‚ï¼šå†³å®šæ˜å¤©æ—©ä¸Šè¿›æ”»ï¼Œå¦‚æœæœ‰åŠæ•°çš„å†›é˜ŸåŒæ„è¿™ä¸ªä½œæˆ˜è®¡åˆ’ã€‚åˆ™åœ¨æ˜æ—¥æ—©æ™¨å¼€å§‹ä¸€èµ·è¿›æ”»ã€‚åä¹‹ï¼Œå¦‚æœä¸€å¤§åŠäººéƒ½ä¸åŒæ„æ˜å¤©æ—©ä¸Šè¿›æ”»ï¼Œåˆ™æ˜æ—©å°±ä¸è¿›æ”»ã€‚ ç°åœ¨å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼šå†›é˜Ÿä¸­æœ‰å›å¾’ã€‚å›å¾’ä¼šéšæ„è°ƒæ•´ä½œæˆ˜å‘½ä»¤ æˆ‘ä»¬ç°åœ¨ç”¨å›¾ä¸€æ¥è¡¨ç¤ºè¿™ç§å›°å¢ƒï¼Œåœ¨å›¾ç¤ºä¸­ï¼Œæˆ‘ä»¬ç”¨é»„è‰²çš„å°äººä»£è¡¨æ­£å¸¸çš„éƒ¨é˜Ÿï¼Œç²‰è‰²çš„å°äººä»£è¡¨åˆ¤å›å¾’ã€‚Aè¡¨ç¤ºè¿›æ”»Attackï¼ŒRä»£è¡¨æ‹’ç»Rejectã€‚å› ä¸ºæ­£ç›´çš„çš„éƒ¨é˜Ÿä¼šå¿ å®çš„æ‰§è¡Œå‘½ä»¤ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠAå’ŒRæ ‡è®°åœ¨ä»–ä»¬èº«ä¸Šã€‚ å¦‚å›¾æ‰€ç¤ºï¼Œèº«ä¸Šæ ‡è®°Açš„ä¸‰ä½å°†å†›è¡¨ç¤ºä»–ä»¬å†³å®šâ€œæ˜æ—©å‘åŠ¨è¿›æ”»â€ï¼Œèº«ä¸Šæ ‡è®°Rçš„ä¸‰ä½å°†å†›å†³å®šæ˜æ—©ä¸åº”è¯¥å‘åŠ¨è¿›æ”»ï¼Œç°åœ¨å›å¾’è‡³å…³é‡è¦ã€‚å›å¾’çš„è¿™ä¸€ç¥¨å°†å†³å®šæ˜æ—©æ˜¯å¦å†³å®šè¿›æ”»ã€‚è¿™æ—¶å€™å›å¾’ç»™ä¸‰ä½å†³å®šè¿›æ”»çš„å°†å†›ä¼ é€’çš„æ¶ˆæ¯æ˜¯æ˜æ—©å‘åŠ¨è¿›æ”»ï¼Œç»™ä¸‰ä½ä¸è¿›æ”»çš„å°†å†›å‘é€çš„æ¶ˆæ¯æ˜¯æ˜æ—©ä¸å‘åŠ¨è¿›æ”»ã€‚æ‰€ä»¥ä¸‰ä½å†³å®šè¿›æ”»çš„å°†å†›çŸ¥é“äº†ï¼Œæœ‰4ç¥¨å‘åŠ¨è¿›æ”»çš„ï¼Œé‚£ä¹ˆå¤§å¤šæ•°äººå†³å®šè¿›æ”»é‚£æˆ‘æ˜æ—©å°±å‘åŠ¨æ”»åŠ¿ã€‚ä¸‰ä½ä¸è¿›æ”»çš„å°†å†›åˆ™çŸ¥é“ï¼Œæœ‰å››ç¥¨ä¸å‘åŠ¨è¿›æ”»çš„ï¼Œé‚£æˆ‘æ˜æ—©ä¸è¿›æ”»ã€‚æ‰€ä»¥æ‹œå åº­éš¾åº¦å°±äº§ç”Ÿäº†ï¼Œè¿™äº›éƒ¨é˜Ÿæœ‰çš„è¿›æ”»æœ‰çš„æ’¤é€€ï¼Œæˆ˜æ–—å°±å¤±è´¥äº†ã€‚","text":"æ‹œå åº­å°†å†›é—®é¢˜ç®€è¿°æ‹œå åº­çš„ç®€è¿°æœ¬æ–‡å°†ç”¨äºä»‹ç»è‘—åçš„æ‹œå åº­å°†å†›é—®é¢˜ã€‚åœ¨ä»‹ç»æ‹œå åº­å°†å†›é—®é¢˜ä¹‹å‰ï¼Œå…ˆç®€å•è¯´ä¸€ä¸‹æ‹œå åº­ã€‚æ‹œå åº­å¸å›½ï¼Œåœ¨å¤ä»£è¥¿æ¬§ä¹Ÿè¢«ç§°ä¹‹ä¸ºä¸œç½—é©¬å¸å›½ã€‚æ˜¯ä¸€ä¸ªä½äºæ¬§äºšäº¤ç•Œå¤„çš„å°å»ºå›ä¸»åˆ¶å›½å®¶ï¼Œå…¶é¢†åœŸåŒ…æ‹¬ç°åœ¨çš„æ¬§æ´²å—éƒ¨ï¼Œè¥¿äºšå’ŒåŒ—éã€‚å…¬å…ƒå››ä¸–çºªå·¦å³ï¼Œç½—é©¬å¸å›½å¼€å§‹åˆ†åˆ—ä¸ºç½—é©¬ä¸œéƒ¨å’Œç½—é©¬è¥¿éƒ¨ï¼Œè¿™ä¸¤ä¸ªå›½å®¶éƒ½è¢«è§†ä¸ºç½—é©¬æ­£ç»Ÿï¼Œå¤§æ¦‚åˆ°å…¬å…ƒåä¸–çºªï¼Œç½—é©¬è¥¿éƒ¨é™·è½ï¼Œéšç€ç¥åœ£ç½—é©¬å¸å›½çš„å»ºç«‹ï¼Œç½—é©¬ä¸œéƒ¨å¤±å»äº†ç½—é©¬è¿™ä¸ªå•è¯çš„ç‹¬å æƒï¼Œå¼€å§‹è¢«ç§°ä¹‹ä¸ºä¸œç½—é©¬å¸å›½ã€‚å¤§æ¦‚åœ¨16ä¸–çºªä¹‹åï¼Œå¼€å§‹å‡ºç°äº†æ‹œå åº­å¸å›½çš„è¯´æ³•ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ‹œå åº­å¸å›½çš„é¦–åºœå›å£«å¦ä¸å ¡è¢«ç¬¬å››æ¬¡åå­—å†›ä¸œå¾æ”»é™·ï¼Œä»æ­¤ä¸€è¹¶ä¸æŒ¯ã€‚1453å¹´5æœˆ29æ—¥ï¼Œå›å£«å¦ä¸å ¡è¢«å¼ºå¤§çš„å¥¥æ–¯æ›¼å¸å›½æ”»é™·ï¼Œæœ«ä»£çš‡å¸å›å£«å¦ä¸åä¸€ä¸–æˆ˜æ­»ã€‚ä¸œç½—é©¬å¸å›½å°±æ­¤ç»ˆç»“ã€‚å½“ç„¶ï¼Œæ­¤æ–‡ä¸æ˜¯ä»‹ç»ä¸œç½—é©¬å¸å›½å†å²çš„æ–‡ç« ï¼Œåœ¨æ­¤ä»…ç®€è¿°æ‹œå åº­å¸å›½çš„å†å²ã€‚ æ‹œå åº­å°†å†›é—®é¢˜æ˜¯ä»€ä¹ˆæ‹œå åº­å°†å†›é—®é¢˜å’Œæ‹œå åº­çš„å†å²å…¶å®å¹¶æ— å…³è”ï¼Œæ‹œå åº­å°†å†›é—®é¢˜ä¹Ÿä¸æ˜¯å†å²ä¸ŠçœŸå®å­˜åœ¨çš„é—®é¢˜ï¼Œä»–æ˜¯è‘—åè®¡ç®—æœºå¤§ç¥å…°ä¼¯ç‰¹äº1982å¹´æå‡ºçš„ã€‚æ‹œå åº­é—®é¢˜æè¿°çš„æ˜¯å¦‚ä¸‹çš„åœºæ™¯ å‡è®¾æœ‰ä¸€åº§åŸå ¡ï¼Œæ‹œå åº­å¸å›½æƒ³æ”»é™·è¿™åº§åŸå ¡ã€‚æ‰€ä»¥æ´¾å‡ºäº†å¾ˆå¤šæ”¯å†›é˜Ÿï¼Œå› ä¸ºé€šè®¯æ¡ä»¶å¾ˆè½åï¼Œå†›é˜Ÿå’Œå†›é˜Ÿä¹‹é—´å¿…é¡»ç»è¿‡ä¿¡ä½¿æ¥ä¼ é€’ä½œæˆ˜å‘½ä»¤ã€‚åŸå ¡ååˆ†åšå›ºï¼Œå¯ä»¥æŠµå¾¡ä¸€ä¸¤åªå†›é˜Ÿçš„è¿›æ”»ã€‚åªæœ‰æ‰€æœ‰å†›é˜ŸåŒæ—¶è¿›æ”»ï¼Œæ‰å¯ä»¥æ”»é™·åŸå ¡ã€‚ä¸ºäº†ä¿è¯ä½œæˆ˜å‘½ä»¤çš„ç»Ÿä¸€ï¼Œæå‡ºä¸€ä¸ªåŠæ³•ï¼ŒæŠ•ç¥¨ã€‚è¶…è¿‡åŠæ•°æŠ•ç¥¨å†³å®šä½œæˆ˜å‘½ä»¤ã€‚æ¯”å¦‚ï¼šå†³å®šæ˜å¤©æ—©ä¸Šè¿›æ”»ï¼Œå¦‚æœæœ‰åŠæ•°çš„å†›é˜ŸåŒæ„è¿™ä¸ªä½œæˆ˜è®¡åˆ’ã€‚åˆ™åœ¨æ˜æ—¥æ—©æ™¨å¼€å§‹ä¸€èµ·è¿›æ”»ã€‚åä¹‹ï¼Œå¦‚æœä¸€å¤§åŠäººéƒ½ä¸åŒæ„æ˜å¤©æ—©ä¸Šè¿›æ”»ï¼Œåˆ™æ˜æ—©å°±ä¸è¿›æ”»ã€‚ ç°åœ¨å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼šå†›é˜Ÿä¸­æœ‰å›å¾’ã€‚å›å¾’ä¼šéšæ„è°ƒæ•´ä½œæˆ˜å‘½ä»¤ æˆ‘ä»¬ç°åœ¨ç”¨å›¾ä¸€æ¥è¡¨ç¤ºè¿™ç§å›°å¢ƒï¼Œåœ¨å›¾ç¤ºä¸­ï¼Œæˆ‘ä»¬ç”¨é»„è‰²çš„å°äººä»£è¡¨æ­£å¸¸çš„éƒ¨é˜Ÿï¼Œç²‰è‰²çš„å°äººä»£è¡¨åˆ¤å›å¾’ã€‚Aè¡¨ç¤ºè¿›æ”»Attackï¼ŒRä»£è¡¨æ‹’ç»Rejectã€‚å› ä¸ºæ­£ç›´çš„çš„éƒ¨é˜Ÿä¼šå¿ å®çš„æ‰§è¡Œå‘½ä»¤ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠAå’ŒRæ ‡è®°åœ¨ä»–ä»¬èº«ä¸Šã€‚ å¦‚å›¾æ‰€ç¤ºï¼Œèº«ä¸Šæ ‡è®°Açš„ä¸‰ä½å°†å†›è¡¨ç¤ºä»–ä»¬å†³å®šâ€œæ˜æ—©å‘åŠ¨è¿›æ”»â€ï¼Œèº«ä¸Šæ ‡è®°Rçš„ä¸‰ä½å°†å†›å†³å®šæ˜æ—©ä¸åº”è¯¥å‘åŠ¨è¿›æ”»ï¼Œç°åœ¨å›å¾’è‡³å…³é‡è¦ã€‚å›å¾’çš„è¿™ä¸€ç¥¨å°†å†³å®šæ˜æ—©æ˜¯å¦å†³å®šè¿›æ”»ã€‚è¿™æ—¶å€™å›å¾’ç»™ä¸‰ä½å†³å®šè¿›æ”»çš„å°†å†›ä¼ é€’çš„æ¶ˆæ¯æ˜¯æ˜æ—©å‘åŠ¨è¿›æ”»ï¼Œç»™ä¸‰ä½ä¸è¿›æ”»çš„å°†å†›å‘é€çš„æ¶ˆæ¯æ˜¯æ˜æ—©ä¸å‘åŠ¨è¿›æ”»ã€‚æ‰€ä»¥ä¸‰ä½å†³å®šè¿›æ”»çš„å°†å†›çŸ¥é“äº†ï¼Œæœ‰4ç¥¨å‘åŠ¨è¿›æ”»çš„ï¼Œé‚£ä¹ˆå¤§å¤šæ•°äººå†³å®šè¿›æ”»é‚£æˆ‘æ˜æ—©å°±å‘åŠ¨æ”»åŠ¿ã€‚ä¸‰ä½ä¸è¿›æ”»çš„å°†å†›åˆ™çŸ¥é“ï¼Œæœ‰å››ç¥¨ä¸å‘åŠ¨è¿›æ”»çš„ï¼Œé‚£æˆ‘æ˜æ—©ä¸è¿›æ”»ã€‚æ‰€ä»¥æ‹œå åº­éš¾åº¦å°±äº§ç”Ÿäº†ï¼Œè¿™äº›éƒ¨é˜Ÿæœ‰çš„è¿›æ”»æœ‰çš„æ’¤é€€ï¼Œæˆ˜æ–—å°±å¤±è´¥äº†ã€‚ ä»¥ä¸Šçš„å›¾ç¤ºå’ŒèƒŒæ™¯å°±æ˜¯æ‹œå åº­é—®é¢˜æˆ–è€…ç§°ä¹‹ä¸ºæ‹œå åº­å®¹é”™é—®é¢˜ã€‚ å…°æ³¢ç‰¹ä¹‹é—®æ‰€ä»¥å…°æ³¢ç‰¹æå‡ºè¿™ä¸ªé—®é¢˜æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ å…°æ³¢ç‰¹æè¿°çš„æ˜¯ï¼šä¸–ç•Œä¸Šæœ‰å¾ˆå¤šä¸ªè®¡ç®—æœºï¼Œåˆ†å¸ƒåœ¨ä¸–ç•Œä¸Šä¸åŒçš„ä½ç½®ã€‚è¿™äº›åˆ†å¸ƒåœ¨ä¸åŒåœ°ç†ä½ç½®çš„è®¡ç®—æœºï¼Œå°±åƒæ˜¯é©»æ‰åœ¨ä¸åŒåŸå¸‚çš„å°†å†›ä»¬ä¸€æ ·ã€‚ä½†æ˜¯è®¡ç®—æœºä¼šå‡ºæ•…éšœï¼Œä¹Ÿæœ‰å¯èƒ½ä¼šæœ‰é»‘å®¢æ”»å‡»ï¼Œæˆ–è€…ç›´æ¥åŠ å…¥æ¶æ„èŠ‚ç‚¹ã€‚è¿™äº›åæ‰çš„è®¡ç®—å°±ç›¸å½“äºå›å¾’ã€‚åœ¨è¿™ç§çŠ¶å†µä¸‹ï¼Œæˆ‘ä»¬å¦‚ä½•ä¿æŒä¸€è‡´æ€§ï¼Œå°±æ˜¯æŒ‡è¿™äº›å¿ è¯šçš„è®¡ç®—æœºï¼Œä»–ä»¬çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚å¦å¤–æˆ‘ä»¬å…³å¿ƒçš„é—®é¢˜æ˜¯ï¼Œå¦‚ä½•ä¿æŒæ­£ç¡®æ€§ã€‚è¿™é‡Œå¯¹æ­£ç¡®æ€§ä½œå‡ºè§£é‡Šï¼šå¦‚æœå¤§å¤šæ•°å°†å†›è¯´è¦è¿›æ”»ï¼Œé‚£æˆ‘ä»¬å°±åº”è¯¥è¿›æ”»ï¼Œå¦‚æœå¤§å¤šæ•°å°†å†›è¯´æ’¤é€€ï¼Œé‚£æˆ‘ä»¬å°±è¯¥æ’¤é€€ã€‚å°½ç®¡ç³»ç»Ÿä¸­å­˜åœ¨æ•…éšœå’Œæ¶æ„èŠ‚ç‚¹ï¼Œä½†æ˜¯æˆ‘ä»¬å¤§å¤šæ•°èŠ‚ç‚¹éƒ½å¯ä»¥ä¿æŒä¸€è‡´æ€§å’Œæ­£ç¡®æ€§ï¼Œæˆ‘ä»¬çš„ç³»æè¿˜æ˜¯æ­£å¸¸çš„ã€‚è¿™ä¸ªé—®é¢˜å‘å±•è‡³ä»Šï¼Œå·²ç»æœ‰å››åä½™å¹´çš„å†å²äº†ã€‚ ä¸ºæ­¤ä¹Ÿæå‡ºäº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸåˆ™ ä¸€è‡´æ€§ æ­£ç¡®æ€§ å…°æ³¢ç‰¹é’ˆå¯¹è¿™ä¸ªé—®é¢˜æå‡ºäº†è‡ªå·±çš„è§£æ³•ã€‚ å£å¤´åè®® ä¹¦é¢åè®® ä¸ºäº†æè¿°å£å¤´åè®®ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå°†å†›å‰¯å®˜æ¨¡å‹ï¼Œå…¶å®å“ªä¸ªäººæ˜¯å°†å†›ï¼Œå“ªä¸ªäººæ˜¯å‰¯å®˜å¹¶ä¸é‡è¦ã€‚æ‰€è°“å°†å†›å°±æ˜¯ç¬¬ä¸€ä¸ªå‘èµ·å‘½ä»¤çš„äººï¼šæ¯”å¦‚å°†å†›åšå‡ºå†³å®šæ˜æ—©è¿›æ”»ï¼Œç„¶åä¼ é€’ç»™å…¶ä»–äººã€‚å…¶ä»–äººéƒ½å«åšå‰¯å®˜ï¼Œå‰¯å®˜å¯ä»¥æ‰§è¡Œå°†å†›çš„å‘½ä»¤ã€‚ä¸ºæ­¤æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªå‡è®¾ å¿ è¯šå‰¯å®˜ï¼Œæ‰€æœ‰å¿ è¯šçš„å‰¯å®˜å¿…é¡»æ‰§è¡ŒåŒä¸€ä¸ªå‘½ä»¤ã€‚æ¯”å¦‚ä¸€èµ·è¿›æ”»ï¼Œä¸€èµ·æ’¤é€€ã€‚ å¿ è¯šå°†å†›ï¼Œå¦‚æœå°†å†›æ˜¯å¿ è¯šçš„ï¼Œæ‰€æœ‰å¿ è¯šçš„å‰¯å®˜å¿…é¡»æ‰§è¡Œä»–çš„å‘½ä»¤ã€‚ ä»¥ä¸Šçš„å‡è®¾çš„å‰ææ˜¯å¿ è¯šï¼Œå› ä¸ºæ— è®ºæ˜¯å¸ä»¤è¿˜æ˜¯å‰¯å®˜ï¼Œä»–ä»¬éƒ½æœ‰å¯èƒ½æ˜¯å›å¾’ï¼Œå›å¾’çš„è¡Œä¸ºä¸å¯é¢„æµ‹ã€‚ä»¥ä¸Šä¸¤ä¸ªåŸåˆ™åˆ†åˆ«å¯¹åº”åˆ†å¸ƒå¼åè®®çš„åŸºæœ¬åŸåˆ™ï¼Œä¸€è‡´æ€§ï¼Œå‡†ç¡®æ€§ã€‚ æ€ä¹ˆåšåˆ°è¿™ä¸€ç‚¹å‘¢ å…°æ³¢ç‰¹æå‡ºï¼Œå‡å¦‚ä¸€å…±æœ‰nä¸ªå°†å†›ï¼Œå…¶ä¸­æœ‰mä¸ªå›å¾’ã€‚å½“n&gt;3mæ—¶ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯å¯è§£çš„ã€‚ æ¯”å¦‚æˆ‘ä»¬æœ‰10ä¸ªå°†å†›ï¼Œæœ‰2ä¸ªæ˜¯æ¶æ„çš„10&gt;3*2ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯å¯è§£çš„ã€‚ä½†æ˜¯æœ‰ä¸‰ä¸ªäººï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯å›å¾’ï¼Œé‚£è¿™ä¸ªé—®é¢˜æ˜¯ä¸å¯è§£çš„ã€‚å› ä¸ºæ²¡æœ‰æ»¡è¶³n&gt;3m ä¸¾ä¸ªæ —å­ï¼š å‡å®šæœ‰3ä¸ªå°†å†›1ä¸ªå›å¾’ï¼Œn = 3, m = 1 å¦‚å›¾æ‰€ç¤ºï¼Œèº«ä¸Šå¸¦æœ‰cæ ‡å¿—çš„ä¸ºcommanderï¼Œè¡¨ç¤ºä¸ºå‘èµ·å‘½ä»¤çš„äººã€‚å…¶ä»–äººå‰¯å®˜ï¼Œèº«ä¸Šæ ‡è®°1ï¼Œ2ã€‚ç»§ç»­ç”¨ç²‰è‰²è¡¨ç¤ºå›å¾’ã€‚ç°åœ¨å°†å†›ç»™å‰¯å®˜1ï¼Œ2å‘é€è¿›æ”»å‘½ä»¤ã€‚å¿ è¯šå‰¯å®˜1æ¥åˆ°è¿›æ”»å‘½ä»¤ä¹‹åå¹¶ä¸ä¼šå†³å®šå‘èµ·è¿›æ”»ï¼Œå› ä¸ºä»–ä¹Ÿä¸çŸ¥é“å°†å†›æ˜¯å¦æ˜¯ä¸­å¿ è¯šçš„ï¼Œæ‰€ä»¥ä»–ç»§ç»­è¯¢é—®2ï¼Œæ˜¯å¦å‘åŠ¨è¿›æ”»ã€‚ä½†æ˜¯2æ˜¯å›å¾’ï¼Œä»–è‡ªå·±æ¥å—åˆ°cçš„è¿›æ”»å‘½ä»¤ï¼Œä»–ä¼ é€’ç»™1çš„å‘½ä»¤æ˜¯ä¸è¿›æ”»ã€‚è¿™æ—¶1ä¼šæ”¶åˆ°ä¸¤ä¸ªæ¶ˆæ¯ï¼Œè¿›æ”»å’Œä¸è¿›æ”»ï¼Œ1æ¯”1ã€‚æ‰€ä»¥ä»–å°±æ²¡åŠæ³•å†³å®šè‡ªå·±æ˜¯è¿›æ”»è¿˜æ˜¯ä¸è¿›æ”»ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è½¬æ¢è§†è§’ï¼Œè€ƒè™‘å°†å†›æ˜¯å›å¾’çš„é—®é¢˜ã€‚å°†å†›åˆ†åˆ«ç»™1ä¸‹è¾¾äº†è¿›æ”»æŒ‡ä»¤ï¼Œç»™2ä¸‹è¾¾äº†æ’¤é€€æŒ‡ä»¤ã€‚æ­¤æ—¶1æ”¶åˆ°è¿›æ”»æŒ‡ä»¤åï¼Œç»§ç»­è¯¢é—®2ã€‚2å¿ è¯šçš„ä¼ é€’äº†è‡ªå·±æ”¶åˆ°çš„å‘½ä»¤ä¸è¿›æ”»ã€‚æ­¤æ—¶1æ”¶åˆ°çš„ä¿¡æ¯åˆæ˜¯ä¸€ç¥¨è¿›æ”»ä¸€ç¥¨æ’¤é€€ï¼Œæ— æ³•å†³å®šã€‚2é¢ä¸´çš„ä¹Ÿæ˜¯åŒæ ·çš„é—®é¢˜ã€‚æ‰€ä»¥åœ¨n=3ï¼Œm=1çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯æ— è§£çš„ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥çœ‹æœ‰è§£çš„çŠ¶å†µã€‚ ä¸‹ä¸€ç§çŠ¶å†µä¸‹ï¼Œn=4ï¼Œm=1ã€‚å³ä¸€å…±æœ‰å››ä¸ªå°†å†›ï¼Œä¸€ä¸ªå›å¾’ã€‚ è¿˜æ˜¯ä¾ç…§ä¹‹å‰å›¾ä¾‹è¡¨ç¤ºå„ç§éƒ¨é˜Ÿçš„æ€§è´¨ã€‚å°†å†›cç»™å‰¯å®˜1ï¼Œ2ï¼Œ3ï¼Œ4å‘é€è¿›æ”»çš„é€šçŸ¥ã€‚1æ¥åˆ°è¿›æ”»çš„é€šçŸ¥ä¹‹åå†è¯¢é—®2ï¼Œåˆ°åº•æ¥äº†ä»€ä¹ˆå‘½ä»¤ã€‚å› ä¸º2æ˜¯å¿ è¯šçš„ï¼Œæ‰€ä»¥å¦‚å®çš„ä¼ é€’è‡ªå·±å¾—åˆ°æ˜¯è¿›æ”»Aã€‚ç„¶åå†è¯¢é—®å‰¯å®˜3ã€‚å‰¯å®˜3å› ä¸ºæ˜¯å›å¾’ï¼Œå‘Šè¯‰1è‡ªå·±å¾—åˆ°çš„æ˜¯æ’¤é€€ã€‚è¿™æ—¶ï¼Œ1ä¸€å…±æ¥åˆ°3ä¸ªæ¶ˆæ¯ï¼Œä¸¤ä¸ªè¿›æ”»ä¸€ä¸ªæ’¤é€€ã€‚æŒ‰ç…§å¤šæ•°åŸåˆ™ï¼Œä»–å°±å¯ä»¥ç¡®å®šç¬¬äºŒå¤©å¯ä»¥è¿›è¡Œè¿›æ”»ã€‚å¦‚æœæˆ‘ä»¬æŒ‰ç…§åŒæ ·çš„æ–¹æ³•å»åˆ†æ2ï¼Œä»–å¾—åˆ°ç»“æœæ˜¯ç±»ä¼¼çš„ã€‚æ‰€ä»¥å†³ç­–ä¹‹åï¼Œæ‰€æœ‰å¿ è¯šçš„å‰¯å®˜å‡è¿›è¡Œä¸€æ ·çš„å‘½ä»¤è¿›æ”»ï¼Œè€Œä¸”åœ¨å¸ä»¤å®˜ä¸ºå¿ è¯šçš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å‰¯å®˜æ‰§è¡Œå’Œå¸ä»¤å®˜ä¸€æ ·çš„å‘½ä»¤è¿›æ”»ã€‚åˆšå¥½ç¬¦åˆå‰é¢å®šä¸‹æ¥çš„åŸåˆ™ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹æ›´åŠ å¤æ‚çš„çŠ¶å†µï¼Œå°†å†›æ˜¯å›å¾’çš„æƒ…å†µã€‚å‡è®¾å°†å†›ç»™1ï¼Œ2ï¼Œ3å·åˆ†åˆ«å‘é€äº†è¿›æ”»ï¼Œè¿›æ”»å’Œæ’¤é€€ä¸‰ä¸ªå‘½ä»¤ã€‚ æˆ‘ä»¬ç«™åœ¨1çš„è§’åº¦ï¼Œæ¥å—åˆ°å¸ä»¤çš„è¿›æ”»å‘½ä»¤ï¼Œç„¶åå’Œ2äº¤æ¢ä¿¡æ¯å¾—åˆ°ä¸€ä¸ªè¿›æ”»ï¼Œå†å’Œ3äº¤æ¢ä¿¡æ¯ã€‚å¾—åˆ°ä¸¤ä¸ªè¿›æ”»å’Œä¸€ä¸ªæ’¤é€€ï¼Œæ‰€ä»¥å¯ä»¥å†³å®šæ‰§è¡Œè¿›æ”»ã€‚ ä»2çš„è§†è§’å‡ºå‘ï¼Œ2æ¥åˆ°å¸ä»¤å®˜çš„è¿›æ”»ä¿¡æ¯ï¼Œä»1å¾—åˆ°è¿›æ”»ä¿¡æ¯ï¼Œä»3å¾—åˆ°æ’¤é€€ä¿¡æ¯ã€‚æ‰€ä»¥å¯ä»¥æ‰§è¡Œè¿›æ”»ã€‚ ä»3çš„è§†è§’å‡ºå‘ï¼Œ3ä»å¸ä»¤å®˜é‚£é‡Œæ¥åˆ°æ’¤é€€ä¿¡æ¯ï¼Œä»1å¾—åˆ°è¿›æ”»ï¼Œä»2å¾—åˆ°è¿›æ”»ã€‚æ‰€ä»¥å¯ä»¥æ‰§è¡Œè¿›æ”»ã€‚ æ€»ä½“æ¥çœ‹ï¼Œå› ä¸ºå¸ä»¤å®˜ä¸æ˜¯å¿ è¯šçš„ï¼Œæ‰€ä»¥ä¸ç”¨é¡¾è™‘å¸ä»¤å®˜å¿ è¯šçš„æ¡ç†ã€‚åŒæ—¶123éƒ½æ˜¯å¿ è¯šçš„ï¼Œä»–æœ¨é—¨åŒæ—¶æ‰§è¡Œè¿›æ”»ã€‚ä¹Ÿç¬¦åˆå‡è®¾ã€‚æ‰€ä»¥è¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¯å¯è§£çš„ã€‚ æˆ‘ä»¬å†æ¬¡æå‡å¤æ‚åº¦ï¼Œæ¢è®¨æœ‰ä¸¤ä¸ªå›å¾’çš„æƒ…å†µï¼Œå³ä¾¿m=2ã€‚æ ¹æ®å…¬å¼ï¼Œè¦å‘é—®é¢˜æœ‰è§£ï¼Œæˆ‘ä»¬å¿…é¡»è¦æœ‰ä¸ƒä¸ªäººã€‚n=7 æƒ…å†µè¾ƒä¸ºå¤æ‚ï¼Œå°±ä¸åœ¨å›¾ä¸Šæ ‡æ³¨å„ä½å‰¯å®˜ä¹‹é—´çš„ä¿¡æ¯äº¤äº’æƒ…å†µï¼Œä»…æ ‡æ³¨å¸ä»¤å®˜ç»™å„ä½å‰¯å®˜ä¸‹è¾¾çš„å‘½ä»¤ã€‚å†æè¿°è¿™ä¸ªæƒ…å†µæƒ…å†µä¹‹å‰ï¼Œå…ˆå¼ºè°ƒä¸€ä¸‹è¿™é‡Œåˆ†æéœ€è¦çš„æ€è·¯ï¼šé€’å½’ã€‚é€’å½’ç®€å•æ¥è¯´å°±æ˜¯å¥—å¨ƒï¼Œæ¯”å¦‚ä½ ç…§é•œå­çš„æ—¶å€™ï¼Œå†æ‹¿ç¬¬äºŒé¢ç²¾è‡´å¯¹ç€é•œå­ä¸­çš„è‡ªå·±ã€‚æˆ–è€…ä½ åœ¨ç›´æ’­çš„æ—¶å€™ï¼Œç”¨æ‘„åƒå¤´å¯¹ç€è‡ªå·±çš„å±å¹•ã€‚è¿™é‡Œä¸æ˜¯ä¸“é—¨çš„ç®—æ³•åˆ†æä»‹ç»ï¼Œä¸å†å¼ºè°ƒé€’å½’ã€‚ å›åˆ°å›¾ä¸Šï¼Œæˆ‘ä»¬å‡è®¾å¸ä»¤å®˜æ˜¯å¿ è¯šçš„ï¼Œå…¶ä¸­5å’Œ6å·å‰¯å®˜æ˜¯å›å¾’ã€‚ä»–ç»™æ¯ä¸ªå‰¯å®˜éƒ½ä¸‹è¾¾äº†è¿›æ”»å‘½ä»¤ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥åˆ—ä¸€ä¸ªè¡¨æ ¼è¡¨è¿°ç°åœ¨çš„çŠ¶å†µ æ‹œå åº­å°†å†›é—®é¢˜ m=2 V1=A V2 V3 V4 V5 V6 V2==A A A A a b V3== A A A c d V4== V5== g h i j k V6== æˆ‘ä»¬ä»1å‡ºå‘æ¥çœ‹è¿™ä¸ªè¡¨æ ¼ï¼Œçœ‹çœ‹ä¸€å·å‰¯å®˜æ˜¯å¦‚ä½•å†³ç­–çš„ã€‚1æ¯«æ— ç–‘é—®æ¥åˆ°äº†å°†å†›çš„è¿›æ”»å‘½ä»¤ã€‚ä½†æ˜¯ä»–ä¸å¯èƒ½æ¥å—åˆ°å°†å†›çš„å‘½ä»¤å°±è¿›æ”»ï¼Œè¿˜æ˜¯è¦äº¤æµï¼Œç¡®å®šåˆ«äººéƒ½æ¥å—åˆ°çš„æ˜¯ä»€ä¹ˆå‘½ä»¤ã€‚ é¦–å…ˆä»–è¦ç¡®å®š2æ¥å—çš„æ˜¯ä»€ä¹ˆå‘½ä»¤ã€‚ ç¬¬ä¸€é‡åˆ†æï¼Œä»–ç›´æ¥é—®V2ï¼ŒV2æ¥å—åˆ°äº†ä»€ä¹ˆå‘½ä»¤ã€‚2æ˜¯å¿ è¯šçš„è‡ªç„¶æ˜¯è¯´ï¼š2æ¥å—çš„æ˜¯è¿›æ”»ã€‚ç„¶å1å¼€å§‹é—®V3ï¼šV2æ¥å—çš„æ˜¯ä»€ä¹ˆå‘½ä»¤ã€‚ä¾æ¬¡ç±»æ¨ã€‚å› ä¸º5å·å’Œ6å·æ˜¯å›å¾’ï¼Œä»–è¯´ä»€ä¹ˆéƒ½å¯èƒ½ï¼Œéšæ„ç”¨æ— å…³å­—æ¯å°å†™çš„a,bæ¥è¡¨è¡¨ç¤ºã€‚æ ¹æ®å¤šæ•°åŸåˆ™ï¼Œ1å¯ä»¥ç¡®å®šä¸€ä»¶äº‹ï¼Œ2å·æ¥å—çš„ç¡®å®æ˜¯è¿›æ”»å‘½ä»¤ã€‚ æ¥ä¸‹æ¥ä»–å¼€å§‹ç¡®å®šv3åˆ°åº•æ¥å—çš„æ˜¯ä»€ä¹ˆå‘½ä»¤ã€‚å¿ è¯šå‰¯å®˜å…¶å®å¾—åˆ°çš„ä¿¡æ¯åˆ†æéƒ½æ˜¯ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬ä¸å†é‡å¤ã€‚ æˆ‘ä»¬ç›´æ¥å¼€å§‹å†³ç­–V5å’ŒV6ï¼Œå³å¼€å§‹ç¡®å®š5å·å’Œ6å·å¾—åˆ°çš„æ˜¯ä»€ä¹ˆå‘½ä»¤ã€‚ä»¥5ä¸ºä¾‹ï¼Œå› ä¸º2æ˜¯å›å¾’ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥ç”¨ä¸åŒçš„å­—æ¯è¡¨ç¤ºä»–ç»™åˆ«äººè¯´è‡ªå·±çš„åˆ°çš„æ˜¯ä»€ä¹ˆã€‚æœ€ç»ˆæˆ‘ä»¬å…¶å®ä¸æ¸…æ¥šä»–æ‰€è¯´çš„å¤§å¤šæ•°å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥ç”¨Xè¡¨ç¤ºï¼Œä»–å¯èƒ½æ˜¯è¿›æ”»ä¹Ÿå¯èƒ½æ˜¯æ’¤é€€ã€‚ æ¯ä¸€ç±»çš„é—®é¢˜åˆ†æå®Œä¹‹åï¼Œ1ä¸éš¾å¾—å‡ºç»“è®ºï¼Œ2ï¼Œ3ï¼Œ4å·å¾—åˆ°å‘½ä»¤æ˜¯è¿›æ”»ã€‚è‡³äº5å’Œ6ä»–ä»¬å¾—åˆ°ä»€ä¹ˆæ ·çš„å‘½ä»¤å¹¶ä¸ä¼šå½±å“æœ€ç»ˆå†³å®šã€‚æ‰€ä»¥å†åˆ†æå®ŒAçš„å†³ç­–çŠ¶å†µä¹‹åï¼Œä»–çš„å†³ç­–å°±ç¡®å®šä¸‹æ¥äº†ï¼šè¿›æ”»ã€‚ æœ‰å…´è¶£çš„è¯ä»¬å¯ä»¥è‡ªè¡Œå¡«å……ä¸Šé¢çš„è¡¨æ ¼ï¼Œä¹Ÿå¯ä»¥ç«™åœ¨2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6çš„è§’åº¦ä¸Šå†æ¬¡è¿›è¡Œåˆ†æã€‚æ€»è€Œè¨€ä¹‹ï¼Œè¿™ç§çŠ¶å†µä¸‹ï¼Œæ‹œå åº­å°†å†›é—®é¢˜æ˜¯æœ‰è§£çš„ã€‚ æœ€ç»ˆç»“è®ºï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ä¼šé€‰æ‹©è¿›æ”»ï¼Œè€Œä¸”å¿ è¯šçš„å°†å†›ä¸‹å‘çš„è¿›æ”»æ²¡å‘½ä»¤ä¹Ÿä¼šè¢«å¿ è¯šçš„å‰¯å®˜æ‰§è¡Œã€‚ æœ‰å…´è¶£çš„è¯ï¼Œä¹Ÿå¯ä»¥æ¨æ¼”ä¸€ä¸‹å°†å†›å’Œ6å·æ˜¯å›å¾’çš„æƒ…å†µã€‚ é€šè¿‡ä»¥ä¸Šçš„åˆ†æä¸éš¾çœ‹å‡ºï¼Œè¿™ä¸ªç®—æ³•çš„å¤æ‚åº¦ç›¸å½“ä¹‹é«˜ã€‚è€Œä¸”æ³¢å…°ç‰¹æå‡ºè¿™ä¸ªé—®é¢˜çš„æ—¶å€™æ˜¯ä¸è€ƒè™‘ç½‘ç»œå»¶è¿Ÿçš„ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•åœ¨è®¡ç®—æœºä¸­å¹¶ä¸ä¼šè¢«ä½¿ç”¨ã€‚åæ¥åˆæœ‰äººæå‡ºäº†æ›´åŠ é«˜æ•ˆçš„PBFTç®—æ³•ã€‚æœ‰å…´è¶£çš„è¯å¯ä»¥é˜…è¯»ç›¸å…³çš„è®ºæ–‡ã€‚ ç»“å°¾æ‹œå åº­å®¹é”™é—®é¢˜å’ŒåŒºå—é“¾æ¯æ¯ç›¸å…³ã€‚åŒºå—é“¾çš„é—®é¢˜ä¹Ÿæ˜¯è¦è§£å†³ä¸€è‡´æ€§é—®é¢˜ã€‚ç®€å•æ¥è¯´ï¼Œä»¥æ¯”ç‰¹å¸ä¸ºé¦–çš„åŒºå—é“¾æå‡ºäº†POWç®—ä¾‹è¯æ˜ã€‚éœ€è¦èŠ‚ç‚¹éƒ½å‚ä¸è§£å†³æ•°å­¦é¢˜ï¼Œå¦‚æœç‡å…ˆè§£å†³æ•°å­¦éš¾é¢˜ï¼Œåˆ™æœ‰è®°è´¦çš„æƒåˆ©ã€‚æ— ç–‘å¢åŠ äº†æ¶æ„èŠ‚ç‚¹çš„ä»æˆæœ¬ï¼Œä½ å¿…é¡»åˆ«å…¶ä»–èŠ‚ç‚¹åšçš„æ›´å¿«æ‰æœ‰ä½œæ¶çš„æƒåˆ©ã€‚åæ¥è¿˜æœ‰ä¹Ÿé™†ç»­æå‡ºäº†POSç®—æ³•ï¼ŒDPOSç®—æ³•ç­‰ã€‚ä¹Ÿæ˜¯ä¸ºäº†è§£å†³æœ¬æ–‡å¼€å§‹æåˆ°çš„ä¸€è‡´æ€§å’Œæ­£ç¡®æ€§é—®é¢˜ã€‚å¸Œæœ›æœ¬æ–‡å¯ä»¥å¸®å¤§å®¶å»ºç«‹å¯¹äºæ‹œå åº­å®¹é”™é—®é¢˜çš„åŸºæœ¬æ¦‚å¿µã€‚ æœ¬æ–‡å®Œï¼","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"}]},{"title":"åœ¨M1ä¸Šç¼–è¯‘substrate","slug":"åœ¨M1ä¸Šç¼–è¯‘substrate","date":"2021-03-11T10:01:02.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/31576/","link":"","permalink":"https://imzy.vip/posts/31576/","excerpt":"ä¹‹å‰å·²ç»åœ¨x86çš„macç”µè„‘ä¸Šç¼–è¯‘è¿‡substrateï¼ŒæŒ‰ç…§å®˜æ–¹æŒ‡å—ä¸Šçš„æ“ä½œå°±å¯ä»¥æ­£å¸¸ç¼–è¯‘ã€‚ä½†æ˜¯åœ¨æ–°æ¬¾m1ç”µè„‘ä¸Šå¹¶æ²¡æœ‰ç¼–è¯‘é€šè¿‡ï¼Œç°åœ¨é‡æ–°å°è¯•åœ¨m1ä¸Šç¼–è¯‘substrateã€‚ ä¸»è¦çš„å‡†å¤‡è¿‡ç¨‹å‚è€ƒå¦‚ä¸‹æ–‡ç«  https://zhuanlan.zhihu.com/p/337224781 ä¸è¿‡å‚è€ƒæ–‡ç« å†™äº2020å¹´12æœˆ16æ—¥ï¼Œåˆ°ç°åœ¨ï¼ˆ2021å¹´3æœˆ10æ—¥ï¼‰æœ‰éƒ¨åˆ†çŠ¶å†µå·²ç»å‘ç”Ÿäº†å˜åŒ–ã€‚é’ˆå¯¹å’Œæ–‡ç« ä¸­ä¸ä¸€æ ·çš„çŠ¶å†µç¨ä½œè¯´æ˜ã€‚ RUSTrustç¯å¢ƒç°åœ¨å¯ä»¥ç›´æ¥æ”¯æŒm1ã€‚æ‰€ä»¥ä½¿ç”¨rustupè„šæœ¬å¯ä»¥ç›´æ¥å®‰è£…rustï¼Œä¸éœ€è¦é¢å¤–è®¾ç½®ã€‚å®‰è£…å®Œæˆä¹‹åä½¿ç”¨ rustup show æŸ¥çœ‹toolchainã€‚åˆ™ä¼šå‘ç°æ˜¯ä»¥aarch64å¼€å¤´çš„ï¼ŒåŸæ¥çš„x86ä¸‹é¢çš„tool-chainæ˜¯ stable-x86_64-apple-darwin (default) æ³¨æ„å·®åˆ«ã€‚","text":"ä¹‹å‰å·²ç»åœ¨x86çš„macç”µè„‘ä¸Šç¼–è¯‘è¿‡substrateï¼ŒæŒ‰ç…§å®˜æ–¹æŒ‡å—ä¸Šçš„æ“ä½œå°±å¯ä»¥æ­£å¸¸ç¼–è¯‘ã€‚ä½†æ˜¯åœ¨æ–°æ¬¾m1ç”µè„‘ä¸Šå¹¶æ²¡æœ‰ç¼–è¯‘é€šè¿‡ï¼Œç°åœ¨é‡æ–°å°è¯•åœ¨m1ä¸Šç¼–è¯‘substrateã€‚ ä¸»è¦çš„å‡†å¤‡è¿‡ç¨‹å‚è€ƒå¦‚ä¸‹æ–‡ç«  https://zhuanlan.zhihu.com/p/337224781 ä¸è¿‡å‚è€ƒæ–‡ç« å†™äº2020å¹´12æœˆ16æ—¥ï¼Œåˆ°ç°åœ¨ï¼ˆ2021å¹´3æœˆ10æ—¥ï¼‰æœ‰éƒ¨åˆ†çŠ¶å†µå·²ç»å‘ç”Ÿäº†å˜åŒ–ã€‚é’ˆå¯¹å’Œæ–‡ç« ä¸­ä¸ä¸€æ ·çš„çŠ¶å†µç¨ä½œè¯´æ˜ã€‚ RUSTrustç¯å¢ƒç°åœ¨å¯ä»¥ç›´æ¥æ”¯æŒm1ã€‚æ‰€ä»¥ä½¿ç”¨rustupè„šæœ¬å¯ä»¥ç›´æ¥å®‰è£…rustï¼Œä¸éœ€è¦é¢å¤–è®¾ç½®ã€‚å®‰è£…å®Œæˆä¹‹åä½¿ç”¨ rustup show æŸ¥çœ‹toolchainã€‚åˆ™ä¼šå‘ç°æ˜¯ä»¥aarch64å¼€å¤´çš„ï¼ŒåŸæ¥çš„x86ä¸‹é¢çš„tool-chainæ˜¯ stable-x86_64-apple-darwin (default) æ³¨æ„å·®åˆ«ã€‚ brewmacä¸Šçš„åŒ…ç®¡ç†ç¦»ä¸å¼€brewï¼Œæ‰€ä»¥ä¸€å®šéœ€è¦å®‰è£…brewã€‚brewç°åœ¨ä¹Ÿå·²ç»å®˜æ–¹æ”¯æŒm1ï¼Œä¸å†éœ€è¦åƒå‚è€ƒæ–‡ç« ä¸­çš„ç‰¹æ®Šè®¾ç½®ï¼Œç›´æ¥ä½¿ç”¨å®˜æ–¹è„šæœ¬å®‰è£…å³å¯ã€‚brewåœ¨macä¸‹æœ‰ä¸¤ä¸ªç›®å½•ï¼Œæˆ‘ä»¬æš‚æ—¶åªå…³å¿ƒåœ¨m1ä¸‹çš„åŸç”Ÿæ–‡ä»¶ç›®å½•ã€‚å¯ä»¥cdåˆ°ä¸€ä¸‹ç›®å½•æŸ¥çœ‹ 1/opt/homebrew ç¡®ä¿æ–‡ä»¶å­˜åœ¨ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯zshï¼Œåˆ™åœ¨.zshrcä¸­è®¾ç½®å¦‚ä¸‹ï¼Œå¦‚æœä½ ä½¿ç”¨bashåˆ™åœ¨~/.bash_profileæ·»åŠ å¦‚ä¸‹ 1export PATH=&quot;/opt/homebrew/bin/:$PATH&quot; substrate é…å¥—ç¯å¢ƒå®‰è£…å¥½brewä¹‹åï¼Œä½ éœ€è¦ä¸‹é¢å››ä¸ªä¾èµ– 1234brew install -s cmakebrew install -s gccbrew install protobufbrew install -s llvm ä¾æ¬¡å®‰è£…å³å¯ã€‚æ³¨æ„è®¾ç½®llvmçš„ç¯å¢ƒå˜é‡ä¸­ã€‚æ¯”å¦‚æˆ‘ä½¿ç”¨zsh. å°±åœ¨~/.zshrcä¸­å†™å…¥ 1export PATH=&quot;/opt/homebrew/opt/llvm/bin:$PATH&quot; ä»¥ä¸Šå®‰è£…æ³¨æ„çœ‹brewçš„æç¤ºã€‚brewä¹Ÿä¼šæç¤ºä½ è®¾ç½®ä»¥ä¸Šç¯å¢ƒå˜é‡ã€‚ æ¯æ¬¡å†™å…¥ç¯å¢ƒå˜é‡è®°å¾—source. ç¼–è¯‘substrateæœ¬æ–‡ä»¥å®˜æ–¹æ•™ç¨‹ä¸ºä¾‹ https://substrate.dev/docs/en/tutorials/create-your-first-substrate-chain/setup æˆ‘ä»¬ä½¿ç”¨2.0.1ç‰ˆæœ¬çš„substrate.æˆªæ­¢ç›®å‰ï¼ˆ2020.3.10ï¼‰substrateå·²ç»æœ‰3.0ç‰ˆæœ¬ï¼Œä½†æ˜¯æœ¬æ–‡ä»¥æ•™ç¨‹ä¸ºå‡†ï¼Œä½¿ç”¨2.01ç‰ˆæœ¬ åœ¨åˆé€‚çš„ç›®å½•å…‹éš† 1git clone -b v2.0.1 --depth 1 https:&#x2F;&#x2F;github.com&#x2F;substrate-developer-hub&#x2F;substrate-node-template è¿›å…¥åˆ°node-templeç›®å½•åï¼Œéœ€è¦å‡çº§å¦‚ä¸‹ä¸¤ä¸ªä¾èµ–åº“ 12cargo update -p fs-swapcargo update -p ring substrateè¿˜éœ€è¦ä¾èµ–rustrocksdb 1234$ cd $&#123;anywhere&#125;$ git clone https://github.com/hdevalence/rust-rocksdb.git$ cd rust-rocksdb$ git submodule update --init --recursive æˆ‘å’Œå‚è€ƒæ–‡ç« ä¸€æ ·æŠŠrust-rocksdbæ”¾åœ¨äº†å¦‚ä¸‹ä½ç½® /opt/homebrew/opt/ ç„¶åå»ä¿®æ”¹~/.cargoç›®å½•ä¸‹çš„configï¼Œæ³¨æ„é»˜è®¤æƒ…å†µä¸‹configæ–‡ä»¶æ˜¯ä¸å­˜åœ¨çš„ï¼Œé¦–æ¬¡è®¾ç½®ä¹‹å‰ä½ éœ€è¦è‡ªå·±åˆ›å»ºè¯¥æ–‡ä»¶ã€‚ ç„¶ååœ¨configæ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹ 1paths = [&quot;/opt/homebrew/opt/rust-rocksdb/&quot;] ä¹‹æ‰€ä»¥ä¿®æ”¹æ˜¯å› ä¸ºåŸæœ¬ä¾èµ–ä¸­çš„ä¸‰ä¸ªé—®é¢˜ã€‚ fs-swapåŸæœ¬çš„ä¾èµ–åœ¨m1ä¸‹æ— æ³•ç¼–è¯‘ï¼Œæ–°ç‰ˆæœ¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨cargo updateå‡çº§ ringåŒç† rust-rocksdbä¹Ÿæ— æ³•åœ¨m1ä¸‹ç¼–è¯‘ï¼Œæ‰€ä»¥æ„Ÿè°¢hdevalenceï¼Œè‡ªå·±forkå‡ºæ¥ä¿®æ”¹äº†é—®é¢˜ã€‚æˆ‘ä»¬ä¾èµ–è¿™ä¸ªforkå‡ºæ¥çš„rocksdb è¯´æ˜ï¼šåœ¨.cargp/configä¸­ä½¿ç”¨è¿™ç§pathä¾èµ–å¹¶éæœ€ä¼˜é€‰æ‹©ï¼Œåœ¨é¡¹ç›®æœ¬èº«ä¸­ä½¿ç”¨patchæ˜¯æ›´å¥½çš„åšæ³•ï¼Œç¨åç¼–è¯‘ä¸­ä¼šå‡ºç°ç›¸åº”çš„è­¦å‘Šæç¤ºè¿™ä¸€ç‚¹ã€‚å…³äºå¦‚ä½•ä½¿ç”¨patchè¯·å‚è€ƒã€Šcargo bookã€‹ï¼Œæœ¬æ–‡ä¸åšè®¨è®ºã€‚æ­¤å¤–æç¤ºï¼Œå¯¹äºsubstrateè¿™ç§ä»¥workspaceç»„ç»‡èµ·æ¥çš„é¡¹ç›®ï¼Œpatchä¿¡æ¯å†™åœ¨æ ¹ç›®å½•ä¸‹é¢çš„Cargo.tomlä¸­ã€‚ æ¥ä¸‹æ¥ç¼–è¯‘è¿˜ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼ŒæŠ¥é”™çš„å½¢å¼å¦‚ä¸‹ 1234567error[E0609]: no field &#96;__rip&#96; on type &#96;__darwin_arm_thread_state64&#96; --&gt; crates&#x2F;runtime&#x2F;src&#x2F;traphandlers.rs:169:44 |169 | (*cx.uc_mcontext).__ss.__rip as *const u8 | ^^^^^ unknown field | &#x3D; note: available fields are: &#96;__x&#96;, &#96;__fp&#96;, &#96;__lr&#96;, &#96;__sp&#96;, &#96;__pc&#96; ... and 2 others å…³äºè¿™ä¸ªé”™ï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒ https://github.com/bytecodealliance/wasmtime/issues/2575 è®¨è®ºä¸­å·²ç»æåˆ°äº†è¿™ä¸ªé—®é¢˜çš„è§£å†³åŠæ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥æŠŠ__ ripæ¢æˆ__ pcå³å¯ã€‚æä¾›ä¸€ä¸ªæœ€å¿«æ·çš„ä¿®æ”¹åŠæ³• ç›´æ¥è¿›å…¥åˆ°é”™è¯¯æç¤ºçš„æºç å¤„ï¼Œç›´æ¥ä¿®æ”¹ä¾èµ–åº“çš„æºç ï¼ŒæŠŠ_ _ ripæ”¹æˆ _ _ pcã€‚ æ³¨æ„ï¼šè¿™ä¹ˆæ”¹æ˜¯ä¸ºäº†å¿«æ·ï¼Œç»éè‰¯ç­–ã€‚å› ä¸ºruståº“çš„æ„å»ºä¾èµ–cargoç®¡ç†ï¼Œæˆ‘ä»¬ç›´æ¥å»ä¿®æ”¹äº†åº“çš„æºç ï¼Œå¦‚æœä½¿ç”¨cargo updateï¼Œæˆ–è€…å…¶ä»–è§¦å‘äº†Cargo.lockå˜åŠ¨çš„æ“ä½œï¼Œä¾ç„¶å¯èƒ½ç¼–è¯‘ä¸è¿‡ã€‚ å¥½çš„åŠæ³•è¿˜æ˜¯forkä¸‹æ¥ä½¿ç”¨patchä¾èµ–ã€‚ æ‰€æœ‰å‡†å¤‡å·¥ä½œåšå®Œä¹‹åå°±å¯ä»¥ 1cargo build --release å¤§æ¦‚ä¸ƒåˆ†é’Ÿå·¦å³å°±å¯ä»¥ç¼–è¯‘å®Œæˆã€‚æ¯”åŸæœ¬çš„x86 macå¿«å¾ˆå¤šã€‚ æœ¬æ–‡çš„ç¼–è¯‘çš„ç¯å¢ƒæ±‡æ€» Rustc ä½¿ç”¨1.50.0ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨rustup showæŸ¥çœ‹ Substrat-node-template ä½¿ç”¨v2.0.1ç‰ˆæœ¬ ç¡¬ä»¶ç¯å¢ƒä¸º m1 mac æ“ä½œç³»ç»Ÿ macOS Big Sur 11.2.3 ä¸€äº›å»ºè®®ç»å¸¸çœ‹åˆ°è®¨è®ºsubstrateç¼–è¯‘ä¸è¿‡é—®é¢˜çš„ã€‚ç»å¸¸é¢å¯¹è¿™ç§é—®é¢˜å¯ä»¥åšä¸€ä¸ªè¯¦ç»†çš„æ–‡æ¡£æ¥è®°å½•è¿™äº›ï¼Œæ–‡æ¡£ä¸­å¯ä»¥åŒ…å«ä»¥ä¸‹å†…å®¹ rust tool-chainçš„ç‰ˆæœ¬ å¯ä»¥ç¼–è¯‘æ“ä½œç³»ç»Ÿä¿¡æ¯ æ¯”å¦‚linuxæŸç‰ˆæœ¬ windowsæŸç‰ˆæœ¬ï¼Œmacæœ‰m1ç‰ˆæœ¬å’Œx86ç‰ˆæœ¬ä¹Ÿéœ€è¦é¢å¤–è¯´æ˜ éœ€è¦é¢å¤–å®‰è£…çš„ä¾èµ–ï¼Œæ¯”å¦‚è¿™é‡Œæåˆ°çš„llvm protobuf åŸºäºæŸä¸ªsubstrateç‰ˆæœ¬å¼€å‘çš„ æ¯”å¦‚æœ¬æ–‡åŸºäºv2.0.1 åŸºäºå½“å‰ç‰ˆæœ¬substrateéœ€è¦åšçš„æŸäº›è°ƒæ•´ï¼Œæ¯”å¦‚æœ¬æ–‡ä¸­æåˆ°çš„ring fs-swapå‡çº§ wasmtimeçš„ä¿®æ”¹ç­‰ã€‚ å¦‚æœç‰ˆæœ¬å‡çº§äº†ï¼Œéœ€è¦é…å¥—æ›´æ–°ä»¥ä¸Šè¿™ä¸€å¥—ä¿¡æ¯ï¼ˆè¿™é‡Œçš„ç‰ˆæœ¬å‡çº§åŒ…å«rustå‡çº§å’Œsubstrateå‡çº§ï¼‰ å¦‚æœæœ‰å¿…è¦å¯åœ¨é¡¹ç›®ä¸‹ä¸“é—¨å»ºç«‹ä¸€ä¸ªpatchæ–‡ä»¶ï¼Œæ¥ç®¡ç†éœ€è¦patchçš„åŒ…ã€‚ ç›¸ä¿¡åšåˆ°ä»¥ä¸Šçš„7ç‚¹ï¼Œå°±ä¸ç”¨åå¤çš„å»è§£å†³ç¼–è¯‘ä¸é€šè¿‡çš„é—®é¢˜ã€‚ æœ¬æ–‡å®Œã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"substrate","slug":"substrate","permalink":"https://imzy.vip/tags/substrate/"}]},{"title":"sqliteè‡ªå¢å°çŸ¥è¯†","slug":"sqliteè‡ªå¢å°çŸ¥è¯†","date":"2021-01-20T10:06:54.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/48571/","link":"","permalink":"https://imzy.vip/posts/48571/","excerpt":"Sqliteè‡ªå¢å­—æ®µèµ·å› ï¼šåœ¨ä½¿ç”¨æ•°æ®åº“å­˜å‚¨ä»åŒºå—é“¾ç½‘ç»œä¸Šå–æ¥çš„block_headeræ—¶ï¼Œblock_headeræœ¬èº«å¹¶ä¸å¸¦è‡ªèº«çš„é«˜åº¦ä¿¡æ¯ã€‚ä¸è¿‡å–æ¥çš„æ•°æ®æ˜¯ç»è¿‡ç­›é€‰çš„ï¼ŒæŒ‰ç…§æ•°æ®åº“å­˜å‚¨çš„é¡ºåºå°±å¯ä»¥ä»£è¡¨blockheaderçš„é«˜åº¦ã€‚æ‰€ä»¥åœ¨æ•°æ®åº“ä¸­å¢åŠ ä¸€ä¸ªid primiry key autoincrement çš„è‡ªå¢ä¸»é”®ã€‚æ¯æ¬¡ä»æ•°æ®åº“æŸ¥è¯¢æ—¶è·å–idå€¼æ¥ä»£è¡¨åŒºå—çš„é«˜åº¦ã€‚ä½†åæ¥é‡æ„ï¼Œidè¢«TEXTç±»å‹çš„é€æ¸æ›¿ä»£ï¼Œæ‰€ä»¥è¿™ä¸ªåŠŸèƒ½æ— æ³•æ­£å¸¸å®ç°ã€‚æ‰€ä»¥äº§ç”Ÿä»¥ä¸‹ç–‘é—® åœ¨å·²ç»æœ‰TEXTç±»å‹çš„ä¸»é”®åï¼Œsqliteå¯ä»¥æ‹¥æœ‰åˆ«çš„è‡ªå¢å­—æ®µå—?ä¸å¯ä»¥ï¼åœ¨sqliteçš„æ–‡æ¡£FAQä¸­ç¬¬ä¸€ä¸ªé—®é¢˜ï¼ˆæ–‡æœ«ç»™å‡ºå‚è€ƒé“¾æ¥ï¼‰å°±æ˜¯å…³äºå¦‚ä½•è®¾ç½®è‡ªå¢å­—æ®µçš„ã€‚åœ¨sqliteä¸­è‡ªå¢çº¦æŸAUTOINCREMENTåªå¯ä»¥è·Ÿåœ¨PRIMARY KEYåé¢ã€‚æŠŠAUTOINCREMENTæ”¾åœ¨ä¸»é”®ä»¥å¤–çš„åœ°æ–¹æ˜¯ä¸å¯ä»¥çš„ã€‚æˆ–è€…å†æ˜ç¡®ä¸€ç‚¹ï¼Œè¦æƒ³åœ¨sqliteä¸­æ‹¥æœ‰ä¸€ä¸ªè‡ªå¢å­—æ®µå¿…é¡»è¿™æ ·å†™ 1id INTEGER PRIMARY KEY AUTOINCREMENT, è¦æ±‚idçš„ç±»å‹å¿…é¡»æ˜¯INTEGERã€‚æ¯æ¬¡æ’å…¥æ•°æ®åº“çš„æ—¶å€™ï¼Œä¸è¦æ’å…¥idçš„æ•°æ®ï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬çš„ä¸»é”®idå®ç°è‡ªå¢ã€‚ä¹‹å‰æåˆ°çš„æƒ…å†µï¼šidå·²ç»æ˜¯TEXT PRIMARY KEYçš„çŠ¶æ€ä¸‹ï¼Œæ— æ³•å†æ‹¥æœ‰å¦ä¸€ä¸ªè‡ªå¢å­—æ®µäº†ã€‚ é¢˜å¤–ï¼šåœ¨sqliteä»¥å¤–çš„æ•°æ®åº“ä¸­æ˜¯å¯ä»¥çš„ã€‚ä»¥mysqlä¸ºä¾‹ï¼Œmysqlçš„AUTOINCREMENTæ˜¯å¯ä»¥åŠ åœ¨ä¸»é”®ä¹‹å¤–çš„åœ°æ–¹çš„ã€‚ä¸€ä¸ªè¡¨ä¸­ï¼Œåªå…è®¸æœ‰ä¸€ä¸ªè‡ªå¢å­—æ®µï¼Œè€Œä¸”åœ¨mysqlä¸­éœ€è¦ç»™ä¸»é”®ä»¥å¤–çš„å­—æ®µå®ç°è‡ªå¢ï¼Œå¿…é¡»ç»™è¯¥å­—æ®µåŠ ä¸Šuniqueçº¦æŸã€‚ æ³¨æ„ç‚¹: åœ¨è®¾å®šid INTEGER PRIMARY KEYï¼Œä¸åŠ AUTOINCREMENTï¼Œåªè¦ä¸æŒ‡å®šæ’å…¥idçš„æ•°æ®ï¼Œidå­—æ®µä¹Ÿå¯ä»¥å®ç°è‡ªå¢ã€‚ åœ¨å·²ç»æœ‰TEXTç±»å‹çš„ä¸»é”®åï¼Œä¸€å®šè¦æœ‰ä¸€ä¸ªè‡ªå¢çš„å­—æ®µæ¥è®°å½•å½“å‰æ‰€åœ¨çš„è¡Œæ•°æ€ä¹ˆåŠï¼Ÿ","text":"Sqliteè‡ªå¢å­—æ®µèµ·å› ï¼šåœ¨ä½¿ç”¨æ•°æ®åº“å­˜å‚¨ä»åŒºå—é“¾ç½‘ç»œä¸Šå–æ¥çš„block_headeræ—¶ï¼Œblock_headeræœ¬èº«å¹¶ä¸å¸¦è‡ªèº«çš„é«˜åº¦ä¿¡æ¯ã€‚ä¸è¿‡å–æ¥çš„æ•°æ®æ˜¯ç»è¿‡ç­›é€‰çš„ï¼ŒæŒ‰ç…§æ•°æ®åº“å­˜å‚¨çš„é¡ºåºå°±å¯ä»¥ä»£è¡¨blockheaderçš„é«˜åº¦ã€‚æ‰€ä»¥åœ¨æ•°æ®åº“ä¸­å¢åŠ ä¸€ä¸ªid primiry key autoincrement çš„è‡ªå¢ä¸»é”®ã€‚æ¯æ¬¡ä»æ•°æ®åº“æŸ¥è¯¢æ—¶è·å–idå€¼æ¥ä»£è¡¨åŒºå—çš„é«˜åº¦ã€‚ä½†åæ¥é‡æ„ï¼Œidè¢«TEXTç±»å‹çš„é€æ¸æ›¿ä»£ï¼Œæ‰€ä»¥è¿™ä¸ªåŠŸèƒ½æ— æ³•æ­£å¸¸å®ç°ã€‚æ‰€ä»¥äº§ç”Ÿä»¥ä¸‹ç–‘é—® åœ¨å·²ç»æœ‰TEXTç±»å‹çš„ä¸»é”®åï¼Œsqliteå¯ä»¥æ‹¥æœ‰åˆ«çš„è‡ªå¢å­—æ®µå—?ä¸å¯ä»¥ï¼åœ¨sqliteçš„æ–‡æ¡£FAQä¸­ç¬¬ä¸€ä¸ªé—®é¢˜ï¼ˆæ–‡æœ«ç»™å‡ºå‚è€ƒé“¾æ¥ï¼‰å°±æ˜¯å…³äºå¦‚ä½•è®¾ç½®è‡ªå¢å­—æ®µçš„ã€‚åœ¨sqliteä¸­è‡ªå¢çº¦æŸAUTOINCREMENTåªå¯ä»¥è·Ÿåœ¨PRIMARY KEYåé¢ã€‚æŠŠAUTOINCREMENTæ”¾åœ¨ä¸»é”®ä»¥å¤–çš„åœ°æ–¹æ˜¯ä¸å¯ä»¥çš„ã€‚æˆ–è€…å†æ˜ç¡®ä¸€ç‚¹ï¼Œè¦æƒ³åœ¨sqliteä¸­æ‹¥æœ‰ä¸€ä¸ªè‡ªå¢å­—æ®µå¿…é¡»è¿™æ ·å†™ 1id INTEGER PRIMARY KEY AUTOINCREMENT, è¦æ±‚idçš„ç±»å‹å¿…é¡»æ˜¯INTEGERã€‚æ¯æ¬¡æ’å…¥æ•°æ®åº“çš„æ—¶å€™ï¼Œä¸è¦æ’å…¥idçš„æ•°æ®ï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬çš„ä¸»é”®idå®ç°è‡ªå¢ã€‚ä¹‹å‰æåˆ°çš„æƒ…å†µï¼šidå·²ç»æ˜¯TEXT PRIMARY KEYçš„çŠ¶æ€ä¸‹ï¼Œæ— æ³•å†æ‹¥æœ‰å¦ä¸€ä¸ªè‡ªå¢å­—æ®µäº†ã€‚ é¢˜å¤–ï¼šåœ¨sqliteä»¥å¤–çš„æ•°æ®åº“ä¸­æ˜¯å¯ä»¥çš„ã€‚ä»¥mysqlä¸ºä¾‹ï¼Œmysqlçš„AUTOINCREMENTæ˜¯å¯ä»¥åŠ åœ¨ä¸»é”®ä¹‹å¤–çš„åœ°æ–¹çš„ã€‚ä¸€ä¸ªè¡¨ä¸­ï¼Œåªå…è®¸æœ‰ä¸€ä¸ªè‡ªå¢å­—æ®µï¼Œè€Œä¸”åœ¨mysqlä¸­éœ€è¦ç»™ä¸»é”®ä»¥å¤–çš„å­—æ®µå®ç°è‡ªå¢ï¼Œå¿…é¡»ç»™è¯¥å­—æ®µåŠ ä¸Šuniqueçº¦æŸã€‚ æ³¨æ„ç‚¹: åœ¨è®¾å®šid INTEGER PRIMARY KEYï¼Œä¸åŠ AUTOINCREMENTï¼Œåªè¦ä¸æŒ‡å®šæ’å…¥idçš„æ•°æ®ï¼Œidå­—æ®µä¹Ÿå¯ä»¥å®ç°è‡ªå¢ã€‚ åœ¨å·²ç»æœ‰TEXTç±»å‹çš„ä¸»é”®åï¼Œä¸€å®šè¦æœ‰ä¸€ä¸ªè‡ªå¢çš„å­—æ®µæ¥è®°å½•å½“å‰æ‰€åœ¨çš„è¡Œæ•°æ€ä¹ˆåŠï¼Ÿsqliteæ•°æ®åº“ä¸­è‡ªå¸¦ä¸€ä¸ªå­—æ®µå«åš rowidï¼Œrowidå°±æ˜¯ä¸€ä¸ªè‡ªå¢å­—æ®µã€‚æˆ‘ä»¬æŸ¥è¯¢çš„æ—¶å€™ï¼Œç›´æ¥æŸ¥è¯¢rowidå°±å¯ä»¥çŸ¥é“å½“å‰è¡Œæ•°ã€‚ï¼ˆä½†æ˜¯sqliteæœ‰without rowidç±»å‹è¡¨ï¼Œè¿™ç§è¡¨ä¸å¸¦rowidå­—æ®µï¼‰ã€‚ä¸€æ—¦æˆ‘ä»¬åœ¨æ•°æ®åº“ä¸­è®¾å®š id INTEGER PRIMARY KEYï¼Œidå°±ç›¸å½“äºrowidçš„åˆ«åã€‚åœ¨sqlite3ä¸­ï¼Œrowidçš„å¤§å°ä¸º64-bit signed integerï¼Œå¤§å°èŒƒå›´ä¸ºi64ã€‚rowidæœ€å¤§å€¼ä¸º9223372036854775807ã€‚ rowidçš„è¡Œä¸ºrowidç”±æ•°æ®åº“è‡ªè¡Œç»´æŠ¤ï¼Œåªè¦ç”¨æˆ·ä¸å»ä¸»åŠ¨å¹²æ¶‰ã€‚rowidæ¯è¡ŒåŠ ä¸€ã€‚å½“rowidè¶…è¿‡ä»¥ä¸Šçš„èŒƒå›´æ—¶åˆ»ï¼Œä¼šåœ¨å…è®¸èŒƒå›´å†…éšæœºæ‰¾è¿˜æ²¡å ç”¨åˆ°çš„æ•°å­—å¡«å……ã€‚å½“æˆ‘ä»¬åˆ é™¤è¡Œä¹‹åï¼Œrowidæ‰€ä»£è¡¨çš„æ•°å­—æ˜¯å¯ä»¥è¢«å¤ç”¨çš„ã€‚å¦‚æœæ‰€æœ‰æ•°å­—ç¡®å®ç”¨å®Œä¹‹åæ•°æ®åº“ä¼šæŠ›å‡ºSQLITE_FULL errorã€‚ rowidå’Œåºåˆ—åœ¨sqliteæ•°æ®åº“ä¸­ï¼Œå¦‚æœå¯ç”¨äº†AUTOINCREMENTï¼Œæ•°æ®åº“ä¼šæœ‰ä¸€ä¸ªå†…å»ºçš„è¡¨å«åšsqlite_sequenceæ¥è®°å½•rowidçš„å˜åŒ–ã€‚æ³¨æ„ï¼šè¿™ä¸ªåºåˆ—è¡¨æ˜¯å¯ä»¥æ­£å¸¸æ“ä½œçš„ï¼Œæ¯”å¦‚æ’å…¥æ•°æ®ï¼Œæ›´æ–°æ•°æ®ã€‚ä¿®æ”¹çš„å‰ææ˜¯ç”¨æˆ·è¦æ¸…æ¥šè‡ªå·±æ“ä½œå¯¹æ•°æ®åº“æœ‰ä½•å½±å“ã€‚å½“æ•°æ®åº“æ’å…¥æ•°æ®æ—¶ï¼Œåºåˆ—è¡¨å°±ä¼šå…³è”çš„å‘ç”Ÿå˜åŒ–ã€‚å› ä¸ºåºåˆ—è¡¨çš„å­˜åœ¨ï¼ŒåŠ äº†AUTOINCREMENTçš„æ•°æ®åº“è¦ç¨å¾®æ…¢ä¸€ç‚¹ã€‚ä¸”åºåˆ—è¡¨ç”±æ•°æ®åº“åˆ›å»ºå’Œåˆ é™¤ï¼Œä¸å…è®¸ç”¨æˆ·è‡ªè¡Œåˆ›å»ºå’Œåˆ é™¤ã€‚ å…¶ä»–æ³¨æ„äº‹é¡¹ï¼š 1ROWID, _ROWID_, OIDéƒ½å¯ä»¥ç”¨æ¥è¡¨ç¤ºrowid å‚è€ƒèµ„æ–™ï¼š https://sqlite.org/faq.html#q1 https://sqlite.org/autoinc.html","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://imzy.vip/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"}]},{"title":"å¤šçº¿ç¨‹åŸè¯­ConVar","slug":"å¤šçº¿ç¨‹åŸè¯­CondVar","date":"2020-12-24T16:33:46.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/63616/","link":"","permalink":"https://imzy.vip/posts/63616/","excerpt":"å¤šçº¿ç¨‹åŸè¯­CondVarå¤šçº¿ç¨‹ä¸‹çš„åŸè¯­ï¼Œé™¤äº†æˆ‘ä»¬å¸¸ç”¨çš„é”ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç±»ç”¨äºåŒæ­¥çš„åŸè¯­å«åšâ€œå±éšœâ€ï¼Œâ€œæ¡ä»¶å˜é‡â€(åœ¨rustæˆ–è€…cppä¸­)ã€‚åœ¨å…¶ä»–è¯­è¨€ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„æ¦‚å¿µï¼Œå«åšæ …æ ï¼Œé—­é”ï¼Œå±éšœï¼Œä¿¡å·é‡ç­‰ã€‚ä»–ä»¬å…·æœ‰ç›¸åŒçš„æ„ä¹‰ã€‚ åœ¨ä»‹ç»æ¡ä»¶å˜é‡ä¹‹å‰ï¼Œå…ˆä»‹ç»å±éšœï¼ˆBarrierï¼‰ã€‚å±éšœç›¸å½“äºä¸€å µå¸¦é—¨çš„å¢™ï¼Œä½¿ç”¨waitæ–¹æ³•ï¼Œåœ¨æŸä¸ªç‚¹é˜»å¡å…¨éƒ¨è¿›å…¥ä¸´ç•ŒåŒºçš„çº¿ç¨‹ã€‚æ¡ä»¶å˜é‡ï¼ˆCondition Variableï¼‰å’Œå±éšœçš„è¯­ä¹‰ç±»ä¼¼ï¼Œä½†å®ƒä¸æ˜¯é˜»å¡å…¨éƒ¨çº¿ç¨‹ï¼Œè€Œæ˜¯åœ¨æ»¡è¶³æŸäº›ç‰¹å®šæ¡ä»¶ä¹‹å‰é˜»å¡æŸä¸€ä¸ªå¾—åˆ°äº’æ–¥é”çš„çº¿ç¨‹ã€‚ å•çº¯è®²æ¡ä»¶å˜é‡çš„æ„ä¹‰å¹¶ä¸ç›´è§‚ã€‚æ¢ç§æè¿° æ¡ä»¶å˜é‡å¯ä»¥åœ¨æˆ‘ä»¬è¾¾åˆ°æŸç§æ¡ä»¶ä¹‹å‰é˜»å¡çº¿ç¨‹ï¼Œæˆ‘ä»¬åˆ©ç”¨æ­¤ç‰¹æ€§å¯ä»¥å¯¹çº¿ç¨‹è¿›è¡ŒåŒæ­¥ã€‚æˆ–è€…è¯´åšåˆ°æŒ‰ç…§æŸç§æ¡ä»¶ï¼Œåœ¨å¤šä¸ªçº¿ç¨‹ä¸­è¾¾åˆ°æŒ‰ç…§ç‰¹å®šé¡ºåºæ‰§è¡Œçš„ç›®çš„ã€‚ ä¸ºæ­¤æˆ‘ä»¬è®¾è®¡å¦‚ä¸‹ä¸‹é¢æµç¨‹ã€‚ä¸ºæ­¤æµç¨‹å†™ä¸€æ®µä»£ç ï¼Œæ¥ä½“ä¼šæ¡ä»¶å˜é‡çš„ä½œç”¨ æˆ‘ä»¬å¯åŠ¨ä¸‰ä¸ªçº¿ç¨‹ï¼Œt1ï¼Œt2ï¼Œt3ã€‚åˆ†åˆ«æ‰§è¡Œä»»åŠ¡T1ï¼ŒT2ï¼ŒT3ã€‚ç°åœ¨è¦æ±‚ï¼šT2å¿…é¡»ç­‰å¾…T1å’ŒT3å®Œæˆä¹‹åå†æ‰§è¡Œ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162use parking_lot::&#123;Mutex, Condvar&#125;;use std::sync::Arc;use std::thread;use std::thread::sleep;use std::time::Duration;pub fn main() &#123; let pair = Arc::new((Mutex::new(0), Condvar::new())); let pair2 = pair.clone(); let pair3 = pair.clone(); let t1 = thread::Builder::new() .name(&quot;T1&quot;.to_string()) .spawn(move || &#123; sleep(Duration::from_secs(4)); println!(&quot;I&#x27;m working in T1, step 1&quot;); let &amp;(ref lock, ref cvar) = &amp;*pair2; let mut started = lock.lock(); *started += 2; cvar.notify_one(); &#125; ) .unwrap(); let t2 = thread::Builder::new() .name(&quot;T2&quot;.to_string()) .spawn(move || &#123; println!(&quot;I&#x27;m working in T2, start&quot;); let &amp;(ref lock, ref cvar) = &amp;*pair; let mut notify = lock.lock(); while *notify &lt; 5 &#123; cvar.wait(&amp;mut notify); &#125; println!(&quot;I&#x27;m working in T2, final&quot;); &#125; ) .unwrap(); let t3 = thread::Builder::new() .name(&quot;T3&quot;.to_string()) .spawn(move || &#123; sleep(Duration::from_secs(3)); println!(&quot;I&#x27;m working in T3, step 2&quot;); let &amp;(ref lock, ref cvar) = &amp;*pair3; let mut started = lock.lock(); *started += 3; cvar.notify_one(); &#125; ) .unwrap(); t1.join().unwrap(); t2.join().unwrap(); t3.join().unwrap();&#125; ä»¥ä¸Šä»£ç å¯ä»¥åœ¨ è¿™ä¸ªé“¾æ¥ ä¸‹åœ¨playgroundè¿è¡Œã€‚ ä¸Šé¢çš„ä»£ç éœ€è¦æ³¨æ„çš„ç‚¹å¦‚ä¸‹","text":"å¤šçº¿ç¨‹åŸè¯­CondVarå¤šçº¿ç¨‹ä¸‹çš„åŸè¯­ï¼Œé™¤äº†æˆ‘ä»¬å¸¸ç”¨çš„é”ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç±»ç”¨äºåŒæ­¥çš„åŸè¯­å«åšâ€œå±éšœâ€ï¼Œâ€œæ¡ä»¶å˜é‡â€(åœ¨rustæˆ–è€…cppä¸­)ã€‚åœ¨å…¶ä»–è¯­è¨€ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„æ¦‚å¿µï¼Œå«åšæ …æ ï¼Œé—­é”ï¼Œå±éšœï¼Œä¿¡å·é‡ç­‰ã€‚ä»–ä»¬å…·æœ‰ç›¸åŒçš„æ„ä¹‰ã€‚ åœ¨ä»‹ç»æ¡ä»¶å˜é‡ä¹‹å‰ï¼Œå…ˆä»‹ç»å±éšœï¼ˆBarrierï¼‰ã€‚å±éšœç›¸å½“äºä¸€å µå¸¦é—¨çš„å¢™ï¼Œä½¿ç”¨waitæ–¹æ³•ï¼Œåœ¨æŸä¸ªç‚¹é˜»å¡å…¨éƒ¨è¿›å…¥ä¸´ç•ŒåŒºçš„çº¿ç¨‹ã€‚æ¡ä»¶å˜é‡ï¼ˆCondition Variableï¼‰å’Œå±éšœçš„è¯­ä¹‰ç±»ä¼¼ï¼Œä½†å®ƒä¸æ˜¯é˜»å¡å…¨éƒ¨çº¿ç¨‹ï¼Œè€Œæ˜¯åœ¨æ»¡è¶³æŸäº›ç‰¹å®šæ¡ä»¶ä¹‹å‰é˜»å¡æŸä¸€ä¸ªå¾—åˆ°äº’æ–¥é”çš„çº¿ç¨‹ã€‚ å•çº¯è®²æ¡ä»¶å˜é‡çš„æ„ä¹‰å¹¶ä¸ç›´è§‚ã€‚æ¢ç§æè¿° æ¡ä»¶å˜é‡å¯ä»¥åœ¨æˆ‘ä»¬è¾¾åˆ°æŸç§æ¡ä»¶ä¹‹å‰é˜»å¡çº¿ç¨‹ï¼Œæˆ‘ä»¬åˆ©ç”¨æ­¤ç‰¹æ€§å¯ä»¥å¯¹çº¿ç¨‹è¿›è¡ŒåŒæ­¥ã€‚æˆ–è€…è¯´åšåˆ°æŒ‰ç…§æŸç§æ¡ä»¶ï¼Œåœ¨å¤šä¸ªçº¿ç¨‹ä¸­è¾¾åˆ°æŒ‰ç…§ç‰¹å®šé¡ºåºæ‰§è¡Œçš„ç›®çš„ã€‚ ä¸ºæ­¤æˆ‘ä»¬è®¾è®¡å¦‚ä¸‹ä¸‹é¢æµç¨‹ã€‚ä¸ºæ­¤æµç¨‹å†™ä¸€æ®µä»£ç ï¼Œæ¥ä½“ä¼šæ¡ä»¶å˜é‡çš„ä½œç”¨ æˆ‘ä»¬å¯åŠ¨ä¸‰ä¸ªçº¿ç¨‹ï¼Œt1ï¼Œt2ï¼Œt3ã€‚åˆ†åˆ«æ‰§è¡Œä»»åŠ¡T1ï¼ŒT2ï¼ŒT3ã€‚ç°åœ¨è¦æ±‚ï¼šT2å¿…é¡»ç­‰å¾…T1å’ŒT3å®Œæˆä¹‹åå†æ‰§è¡Œ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162use parking_lot::&#123;Mutex, Condvar&#125;;use std::sync::Arc;use std::thread;use std::thread::sleep;use std::time::Duration;pub fn main() &#123; let pair = Arc::new((Mutex::new(0), Condvar::new())); let pair2 = pair.clone(); let pair3 = pair.clone(); let t1 = thread::Builder::new() .name(&quot;T1&quot;.to_string()) .spawn(move || &#123; sleep(Duration::from_secs(4)); println!(&quot;I&#x27;m working in T1, step 1&quot;); let &amp;(ref lock, ref cvar) = &amp;*pair2; let mut started = lock.lock(); *started += 2; cvar.notify_one(); &#125; ) .unwrap(); let t2 = thread::Builder::new() .name(&quot;T2&quot;.to_string()) .spawn(move || &#123; println!(&quot;I&#x27;m working in T2, start&quot;); let &amp;(ref lock, ref cvar) = &amp;*pair; let mut notify = lock.lock(); while *notify &lt; 5 &#123; cvar.wait(&amp;mut notify); &#125; println!(&quot;I&#x27;m working in T2, final&quot;); &#125; ) .unwrap(); let t3 = thread::Builder::new() .name(&quot;T3&quot;.to_string()) .spawn(move || &#123; sleep(Duration::from_secs(3)); println!(&quot;I&#x27;m working in T3, step 2&quot;); let &amp;(ref lock, ref cvar) = &amp;*pair3; let mut started = lock.lock(); *started += 3; cvar.notify_one(); &#125; ) .unwrap(); t1.join().unwrap(); t2.join().unwrap(); t3.join().unwrap();&#125; ä»¥ä¸Šä»£ç å¯ä»¥åœ¨ è¿™ä¸ªé“¾æ¥ ä¸‹åœ¨playgroundè¿è¡Œã€‚ ä¸Šé¢çš„ä»£ç éœ€è¦æ³¨æ„çš„ç‚¹å¦‚ä¸‹ CondVaréœ€è¦å’Œé”ä¸€èµ·ä½¿ç”¨ï¼Œåœ¨è¿è¡Œä¸­æ¯ä¸ªæ¡ä»¶å˜é‡æ¯æ¬¡åªå¯ä»¥å’Œä¸€ä¸ªäº’æ–¥ä½“ä¸€èµ·ä½¿ç”¨ã€‚ è¿™é‡Œä½¿ç”¨äº†parking_lotä¸­çš„CondVarå’ŒMutexï¼Œä½¿ç”¨æ ‡å‡†åº“ä¸­çš„æ¡ä»¶å˜é‡å’Œé”ä¹Ÿæ˜¯ä¸€æ ·çš„æ•ˆæœã€‚ è®¾è®¡ä¸­ï¼Œåœ¨é”ä¸­æŒæœ‰äº†ä¸€ä¸ªæ•°å­—ç±»å‹ã€‚å½“é”ä¸­çš„æ•°å­—ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„â€œå˜é‡â€ï¼‰å°äº5ï¼Œæˆ‘ä»¬ä½¿ç”¨waité˜»å¡ä½t2ã€‚æˆ‘ä»¬åœ¨t1å®Œæˆæ—¶ï¼ŒæŠŠæ•°å­—åŠ äºŒï¼Œåœ¨t3å®Œæˆåï¼Œæˆ‘ä»¬æŠŠæ•°å­—åŠ ä¸‰ã€‚ æ³¨æ„ï¼Œæ¯æ¬¡æ›´æ”¹å˜é‡åè¦ä½¿ç”¨é€šçŸ¥ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡æ›´å¤æ‚çš„å˜é‡å’Œé˜»å¡æ¡ä»¶æ¥è¾¾åˆ°æ›´å¤æ‚çš„åŒæ­¥æ•ˆæœ ç‰¹åˆ«æ³¨æ„çš„æ˜¯ notify_one()åªä¼šé€šçŸ¥çº¿ç¨‹ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªçº¿ç¨‹è¢«é˜»å¡ä½ï¼Œnotify_oneä¼šè¢«ä¸€ä¸ªé˜»å¡åœ°æ–¹æ¶ˆè€—ã€‚ä¸ä¼šä¼ æ’­åˆ°å¦ä¸€ä¸ªé˜»å¡çš„ä¸´ç•ŒåŒºä¸­ notify_all()ä¼šé€šçŸ¥æ‰€æœ‰é˜»å¡åŒºã€‚ æ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™éœ€è¦ç‰¹åˆ«æ³¨æ„ä¸¤ç§é€šçŸ¥ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œé¿å…é€ æˆé˜»å¡ã€‚ åœ¨CondVarä¸­è¿˜æœ‰å¯¹åº”çš„wait_forã€‚å¯ä»¥è®¾ç½®TimeOutï¼Œé¿å…é€ æˆæ°¸ä¹…çš„é˜»å¡ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"rust","slug":"rust","permalink":"https://imzy.vip/tags/rust/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://imzy.vip/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"}]},{"title":"Jniç¬¦å·å¯¹ç…§","slug":"Jniç¬¦å·å¯¹ç…§","date":"2020-07-10T10:16:48.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/55704/","link":"","permalink":"https://imzy.vip/posts/55704/","excerpt":"Jniç¬¦å·è¡¨æœ¬æ–‡æ˜¯ä¹‹å‰åšå®¢æ–‡ç«  ã€Šä½¿ç”¨rustå†™å®‰å“åº“ã€‹ çš„å»¶ç»­ã€‚ä¹‹å‰çš„æ–‡ç« ä¸»é¢˜æ˜¯å¦‚ä½•åˆ©ç”¨rust-jniåº“æä¾›ä¾¿äºjavaä½¿ç”¨çš„rust jniä»£ç ã€‚æœ¬æ–‡åœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šç»§ç»­æä¾›åç»­å…³äºjniç¬¦å·ï¼Œæˆ–è€…typeçš„è¯´æ˜ã€‚","text":"Jniç¬¦å·è¡¨æœ¬æ–‡æ˜¯ä¹‹å‰åšå®¢æ–‡ç«  ã€Šä½¿ç”¨rustå†™å®‰å“åº“ã€‹ çš„å»¶ç»­ã€‚ä¹‹å‰çš„æ–‡ç« ä¸»é¢˜æ˜¯å¦‚ä½•åˆ©ç”¨rust-jniåº“æä¾›ä¾¿äºjavaä½¿ç”¨çš„rust jniä»£ç ã€‚æœ¬æ–‡åœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šç»§ç»­æä¾›åç»­å…³äºjniç¬¦å·ï¼Œæˆ–è€…typeçš„è¯´æ˜ã€‚ èµ·å› å†™rustç«¯ä»£ç çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¿”å›ä¸€ä¸ªjavaç«¯çš„å¯¹è±¡æˆ‘ä»¬çš„rustä»£ç å¤§æ¦‚ä¼šæŒ‰ç…§ä»¥ä¸‹å†™æ³•ï¼ˆä»…ä¸ºç¤ºä¾‹ï¼Œä¸å¯è¿è¡Œï¼‰ï¼š 12345678910111213141516#[no_mangle]#[allow(non_snake_case)]pub extern &quot;system&quot; fn Java_JniApi_hello(env: JNIEnv, _: JClass, str: JString) -&gt; jobject &#123; let str = env.get_string(str).unwrap(); let message_class = env.find_class(&quot;JniApi$StatusMessage&quot;).expect(&quot;can&#x27;t find class JniApi$StatusCode&quot;); let message_obj = env.alloc_object(message_class).expect(&quot;create message instance error&quot;); env.set_field(message_obj, &quot;code&quot;, &quot;I&quot;, JValue::Int(200)).expect(&quot;set code error&quot;); env.set_field(message_obj, &quot;message&quot;, &quot;Ljava/lang/String;&quot;, JValue::Object(JObject::from(env.new_string(&quot;Rust&quot;.to_string()).unwrap()))).expect(&quot;set error msg value is error!&quot;); message_obj.into_inner()&#125;// ç¬¬ä¸€äºŒè¡Œä¸ºrust Attributeï¼Œå‘ŠçŸ¥ç¼–è¯‘å™¨ç›¸åº”è¡Œä¸ºçš„ï¼Œå’Œæœ¬æ–‡å…³è”ä¸å¤§ï¼Œä¸å¿…å…³å¿ƒ// å‡½æ•°åçš„å‘½ååœ¨æ–‡ç« å¼€å§‹æä¾›çš„é‚£ä¸€ç¯‡æ–‡ç« ä¸­å·²ç»è¯´çš„å¾ˆæ¸…æ¥š ä»£ç çš„åä¸¤è¡Œæ³¨é‡Šè¯´æ˜äº†ä¸€äº›å’Œæœ¬æ–‡æ— å…³çš„æƒ…å†µã€‚ä»¥ä¸Šçš„ä»£ç ä¸»è¦æ˜¯ç”Ÿæˆjavaä¸­çš„StatusMessageå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸­æœ‰ä¸¤ä¸ªfieldï¼Œmessage å’Œ codeã€‚åœ¨javaç«¯çš„å¯¹åº”çš„ç±»å‹åˆ†åˆ«ä¸ºintï¼ŒStringã€‚ä»¥ä¸Šä»£ç å°±æ˜¯å¡«å……StatusMessageè¿”å›ç»™messageç«¯ã€‚æ ¹æ®jniåº“çš„è§„åˆ™ï¼ˆhttps://docs.rs/jni/0.16.0/jni/ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦ä»¥ä¸‹ä¸‰æ­¥ å®šä½StatusMessageçš„classï¼ˆç†Ÿæ‚‰javaçš„äººåº”è¯¥çŸ¥é“$ä¹‹åä»£è¡¨å†…éƒ¨ç±»ï¼‰ã€‚ alloc_object åˆ†é…å†…å­˜ å¡«å……æ•°æ® ä»¥ä¸Šä¸‰ç‚¹æ˜¯ä½¿ç”¨jniåº“çš„æ­¥éª¤ã€‚æˆ‘ä»¬ç°åœ¨å…³å¿ƒçš„ç‚¹æ˜¯ set_fieldä¸­çš„å‚æ•°ä»£è¡¨ä»€ä¹ˆï¼Ÿ æ ¹æ®jniåº“çš„æ–‡æ¡£ï¼Œset_fieldæœ‰å››ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºclasså¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå…·ä½“filedçš„åå­—ï¼Œç¬¬ä¸‰ä¸ªä¸ºtypeã€‚ç¬¬å››ä¸ªä¸ºéœ€è¦å…·ä½“å¡«å……çš„å€¼ã€‚ æœ¬æ–‡çš„é‡ç‚¹æ˜¯å…³å¿ƒ typeåˆ°åº•æ˜¯ä»€ä¹ˆæœ¬æ–‡è¦è§£å†³çš„é—®é¢˜ï¼štypeæ˜¯ä»€ä¹ˆï¼Œè¿™é‡Œçš„typeè¯¥æ€ä¹ˆå¡«å……ï¼Ÿtypeçš„å¡«å……ä¸»è¦çœ‹javaç«¯çš„è§„å®šã€‚æˆ‘ä»¬ä¸ä»è¿™ä¸€å¤´çœ‹ï¼Œæˆ‘ä»¬å›å¤´å»çœ‹javaç«¯ã€‚ä¸‹é¢å±•ç¤ºä¸€ä¸ªä½¿ç”¨javac -hå‘½ä»¤ä¹‹åæˆ‘ä»¬å¾—åˆ°çš„javaå¤´æ–‡ä»¶ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¸éœ€è¦javaå¤´æ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬è¦å†™jniï¼Œå¤´æ–‡ä»¶æ˜¯å¿…é¡»çš„ã€‚ 123456789101112131415161718class HelloWorld &#123; // This declares that the static `hello` method will be provided // a native library. private static native String hello(String input); static &#123; // This actually loads the shared object that we&#x27;ll be creating. // The actual location of the .so or .dll may differ based on your // platform. System.loadLibrary(&quot;mylib&quot;); &#125; // The rest is just regular ol&#x27; Java! public static void main(String[] args) &#123; String output = HelloWorld.hello(&quot;josh&quot;); System.out.println(output); &#125;&#125; .hæ–‡ä»¶ 12345678910111213141516171819202122/* DO NOT EDIT THIS FILE - it is machine generated */#include &lt;jni.h&gt;/* Header for class HelloWorld */#ifndef _Included_HelloWorld#define _Included_HelloWorld#ifdef __cplusplusextern &quot;C&quot; &#123;#endif/* * Class: HelloWorld * Method: hello * Signature: (Ljava/lang/String;)Ljava/lang/String; */JNIEXPORT jstring JNICALL Java_HelloWorld_hello (JNIEnv *, jclass, jstring);#ifdef __cplusplus&#125;#endif#endif ç”Ÿæˆçš„hæ–‡ä»¶ä¹‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°æœ‰ä¸€æ®µæ³¨é‡Šï¼Œåªè§£é‡ŠSignatureã€‚ Signatureä¸ºå‡½æ•°ç­¾å. ç­¾åçš„æ ¼å¼ä¸º ï¼ˆå‚æ•°ç±»å‹ï¼‰è¿”å›å€¼ç±»å‹ æ‰€ä»¥å‚æ•°ä¸ºStringï¼Œè¿”å›å€¼ä¸ºStringã€‚å¾—åˆ°çš„ç±»å‹å°±æ˜¯ç¤ºä¾‹ä¸­çš„ç­¾åæ ·å¼ã€‚ ä¸‹é¢ç»™å‡ºtypeçš„å‚è€ƒè¡¨ï¼Œæˆ–è€…ä½¿ç”¨ä¸“æœ‰åè¯ï¼Œå«åšType Signatures Type Signatures Java Type Z boolean B byte C har S short I int J long F float D double Lfully-qualified-class fully-qualified-class [ type type[] ( arg-types ) ret-type method type è§£é‡Šå…¶ä¸­å‡ ç‚¹ Låé¢è·Ÿçš„æ˜¯å…·ä½“ç±»å‹çš„è·¯å¾„ æ¯”å¦‚String ç±»å‹åœ¨signaturesä¸­å°±è¡¨ç°ä¸º Ljava/lang/String [æ•°ç»„ç±»å‹ æœ€åä¸€è¡Œè¡¨ç°çš„æ˜¯signatuerçš„æ ¼å¼ æŒ‰ç…§ä»¥ä¸Šè§„åˆ™ä¸¾ä¸ªä¾‹å­ 123456å‡½æ•°ï¼šlong f (int n, String s, int[] arr); å¯¹åº”ç­¾å(ILjava/lang/String;[I)J æ³¨æ„ [ åªæœ‰å•è¾¹ã€‚å‚æ•°ä¹‹é—´ä¸é—´éš”ï¼Œåªæœ‰å…·ä½“ç±»å‹æ‰ç”¨ï¼›æ”¶å°¾ æ‰€ä»¥å†å¯¹åº”åˆ°ä¸€å¼€å§‹æåˆ°çš„é—®é¢˜ï¼Œtypeè¯¥æ€ä¹ˆå¡«å†™ 12code å¯¹åº” StatusMessage ä¸­çš„ int ç±»å‹ã€‚æ‰€ä»¥å†™ &quot;I&quot;message å¯¹åº” StatusMessage ä¸­çš„ String ç±»å‹ã€‚æ‰€ä»¥å†™ä½œ &quot;Ljava/lang/String;&quot; å†ç»™å‡ºä¸€ä¸ªoracleçš„æ–‡ç« ï¼Œå®ƒæ›´å¥½ï¼Œæ›´å…¨é¢ã€‚æ— è®ºæ˜¯å†™rustè¿˜æ˜¯å†™c/cppçš„æ¥å£éƒ½å‚è€ƒå®ƒã€‚ https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html#wp9502 å…¨æ–‡å®Œã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"jni","slug":"jni","permalink":"https://imzy.vip/tags/jni/"},{"name":"ç¬¦å·å¯¹ç…§","slug":"ç¬¦å·å¯¹ç…§","permalink":"https://imzy.vip/tags/%E7%AC%A6%E5%8F%B7%E5%AF%B9%E7%85%A7/"}]},{"title":"æ¯”ç‰¹å¸æ˜¯ä¸æ˜¯è´§å¸ï¼Ÿ","slug":"æ¯”ç‰¹å¸æ˜¯ä¸æ˜¯è´§å¸ï¼Ÿ","date":"2020-05-18T23:30:22.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/182/","link":"","permalink":"https://imzy.vip/posts/182/","excerpt":"æ¯”ç‰¹å¸æ˜¯ä¸æ˜¯è´§å¸ä»Šå¤©æ™šä¸Šå’ŒäººèŠå¤©çš„æ—¶å€™ï¼Œæåˆ°çš„äº†è¿™ä¸ªè¯é¢˜ã€‚æˆ‘å¼€å§‹ä»äº‹æ¯”ç‰¹å¸ç›¸å…³å¼€å‘ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œç»å¸¸æœ‰äººä¼šæåˆ°è¿™ä¸ªè¯é¢˜ã€‚è¿™ä¸ªè¯é¢˜æ¯”â€æ¯”ç‰¹å¸æ˜¯ä»€ä¹ˆ?â€æ›´åŠ å…·ä½“ï¼Œæˆ‘ä¹Ÿè¢«é—®åˆ°è¿‡å¤šæ¬¡ã€‚æœ¬ç€ä¸é‡å¤åŠ³åŠ¨çš„åˆå¿ƒï¼Œç‰¹æ„å†™è¿™ç¯‡å°æ–‡ç« æ¥è¯´è¯´æˆ‘çš„ç†è§£ã€‚","text":"æ¯”ç‰¹å¸æ˜¯ä¸æ˜¯è´§å¸ä»Šå¤©æ™šä¸Šå’ŒäººèŠå¤©çš„æ—¶å€™ï¼Œæåˆ°çš„äº†è¿™ä¸ªè¯é¢˜ã€‚æˆ‘å¼€å§‹ä»äº‹æ¯”ç‰¹å¸ç›¸å…³å¼€å‘ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œç»å¸¸æœ‰äººä¼šæåˆ°è¿™ä¸ªè¯é¢˜ã€‚è¿™ä¸ªè¯é¢˜æ¯”â€æ¯”ç‰¹å¸æ˜¯ä»€ä¹ˆ?â€æ›´åŠ å…·ä½“ï¼Œæˆ‘ä¹Ÿè¢«é—®åˆ°è¿‡å¤šæ¬¡ã€‚æœ¬ç€ä¸é‡å¤åŠ³åŠ¨çš„åˆå¿ƒï¼Œç‰¹æ„å†™è¿™ç¯‡å°æ–‡ç« æ¥è¯´è¯´æˆ‘çš„ç†è§£ã€‚ å›ç­”æ˜¯å¦å®šçš„ï¼Œæ¯”ç‰¹å¸å¹¶éè´§å¸ã€‚ ä¸¥æ ¼çš„æ¥è®²ï¼Œæ¯”ç‰¹å¸æ˜¯ä¸€ç§æ•°å­—é€šè¯ã€‚æˆ–è€…ä»æŠ€æœ¯è§’åº¦æ¥è®²æˆ‘ä»¬æŠŠè¿™ç±»ä¸œè¥¿éƒ½ç»Ÿç§°ä¸ºTokenã€‚ æŒ‰ç…§è´§å¸å­¦åŸºæœ¬åŸç†ï¼Œè´§å¸æ˜¯å¯ä»¥è¶…å‘çš„ã€‚å› ä¸ºè´§å¸çš„ä¸€ä¸ªé‡è¦åŸºæœ¬åŠŸèƒ½æ˜¯ä»·å€¼çš„å°ºåº¦ã€‚æˆ‘ä»¬è®²ä¸€éƒ¨æ‰‹æœºä»·å€¼3000å…ƒã€‚è¿™é‡Œçš„ä¸‰åƒå…ƒå°±ç­‰äºä»·å€¼çš„å°ºåº¦ã€‚å®ƒæ˜¯ç”¨æ¥è¡¡é‡ç¤¾ä¼šè´¢å¯Œçš„æ ‡å°ºã€‚ ä½•ä¸ºè¶…å‘å‘¢ï¼Œè¶…å‘å°±æ˜¯ç®€å•æ¥è®²å¯ä»¥å¾—åˆ°æ›´å¤šã€‚æ¯”å¦‚æ”¿åºœå¯ä»¥æ ¹æ®ç»æµæƒ…å†µå°æ›´å¤šçš„è´§å¸ã€‚æ¢å¥è¯æ¥è¯´ï¼Œè´§å¸æ˜¯å¯ä»¥å˜å¤šçš„ã€‚ä½†æ˜¯æ¯”ç‰¹å¸æ˜¯ä¸å¯ä»¥å˜å¤šçš„ï¼Œå®ƒçš„æ€»é‡æ˜¯å›ºå®šçš„ã€‚ å»¶ä¼¸çš„è¯é¢˜å°±æ˜¯ï¼Œä¸ºä»€ä¹ˆè´§å¸å¿…é¡»è¦è¶…å‘?å› ä¸ºæˆ‘ä»¬ç¤¾ä¼šè´¢å¯Œçš„å¢é•¿æ˜¯å¿…ç„¶çš„è¶‹åŠ¿ã€‚éšç€ç”Ÿäº§åŠ›ä¼šè¿›æ­¥ï¼Œé‚£ä¹ˆå¿…ç„¶ä¼šæœ‰äº§å‡ºæ›´å¤šè´¢å¯Œã€‚æˆ‘ä»¬å°±éœ€è¦æ›´å¤šçš„è´§å¸æ¥è¡¡é‡ä»·å€¼ã€‚å‡å…¥æˆ‘ä»¬ä¸€å…±åªæœ‰ä¸€åƒäººæ°‘å¸ï¼Œæˆ‘ä»¬ç”Ÿäº§äº†ä¸€éƒ¨æ‰‹æœºï¼Œæ‰‹æœºå®šä»·ä¸ºä¸€åƒå…ƒã€‚é‚£æˆ‘ä»¬å°±ç”¨ä¸€åƒæ¥è¡¡é‡æ‰‹æœºçš„ä»·å€¼ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬ç”Ÿäº§å‡ºä¸¤éƒ¨æ‰‹æœºï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯åªæœ‰ä¸€åƒå…ƒï¼Œä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿé‚£å°±æ˜¯è¿™ä¸€åƒå…ƒå¯ä»¥ä¹°ä¸¤éƒ¨æ‰‹æœºã€‚åˆ›é€ äº†æ›´å¤šè´¢å¯Œï¼Œä½†æ˜¯æ‰‹æœºçš„å•ä»·åè€Œé™ä½äº†ã€‚è¿™å°±æ˜¯å¯¹ç”Ÿäº§ç§¯ææ€§çš„ç ´åï¼Œå› ä¸ºä¸å¤šç”Ÿäº§ç¬¬äºŒéƒ¨æ‰‹æœºï¼Œæ‰‹æœºçš„ä»·å€¼æ›´é«˜ã€‚æˆäº†ä¸€ç§â€å¥–æ‡’ç½šå‹¤â€çš„å¥‡æ€ªå±€é¢ã€‚ä»åé¢æ¥è®²ï¼Œé’±å˜çš„æ›´å€¼é’±äº†ã€‚è¿™ç§æƒ…å†µä¸‹æ²¡æœ‰äººä¼šå»èŠ±è¿™ä¸€åƒå…ƒï¼Œå› ä¸ºå‚»å­éƒ½çŸ¥é“ï¼šæˆ‘æŠŠè¿™ä¸€åƒå…ƒæ‹¿åœ¨æ‰‹é‡Œï¼Œå°†æ¥å¯ä»¥ä¹°è¶Šæ¥è¶Šå¤šçš„ä¸œè¥¿ã€‚ ç°åœ¨æ¯”ç‰¹å¸å°±é¢ä¸´è¿™ç§å±€é¢ã€‚æ¯”ç‰¹å¸å› ä¸ºå›ºå®šäº§å‡ºï¼ˆæ¯”ç‰¹å¸é¢å®šäº§é‡ä¸¤åƒä¸€ç™¾ä¸‡æšï¼‰ï¼Œå’Œè´§å¸çš„åŸºæœ¬å±æ€§æ˜¯ç›¸æ‚–çš„ã€‚ä»…ä»…ä»è¿™ä¸€ç‚¹å¯ä»¥å¾—å‡ºçš„ç»“è®ºï¼šâ€æ¯”ç‰¹å¸å¹¶éè´§å¸â€œã€‚ å½“ç„¶ï¼Œæœ‰å¾ˆå¤šè§’åº¦å»å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘çš„è§‚ç‚¹ä¹Ÿå¹¶éå®Œç¾ã€‚ä½†ä¸Šé¢çš„è¯å·²ç»è¶³å¤Ÿå›ç­”æœ¬æ–‡çš„é—®é¢˜ã€‚å¯¹äºæŠ€æœ¯äººå‘˜ï¼Œæˆ‘ä»¬å¯èƒ½æ›´å…³å¿ƒçš„æ˜¯æ¯”ç‰¹å¸çš„æŠ€æœ¯ï¼Œæ¯”ç‰¹å¸å¸¦æ¥çš„å˜é©ï¼Œè€Œä¸æ˜¯å…³å¿ƒå®ƒæ˜¯ä¸æ˜¯è´§å¸ã€‚å¦‚æœæ˜¯éæŠ€æœ¯äººå‘˜ï¼Œå¯ä»¥ç†è§£ä¸ºå®ƒæ˜¯ä¸€ç§é‡‘èäº§å“ï¼Œå’Œè‚¡ç¥¨åŸºé‡‘ç±»ä¼¼ã€‚ psï¼šæœ¬æ–‡ç”±Github Actionsè‡ªåŠ¨æ„å»ºã€‚è¿™æ˜¯æœ¬åšå®¢é¦–æ¬¡ä¾èµ–CI/CDè‡ªåŠ¨æ„å»ºï¼ŒåŒæ—¶ä¹Ÿé¦–æ¬¡ä½¿ç”¨shè¿›è¡Œè‡ªåŠ¨ä¸Šä¼ ã€‚ç‰¹åˆ«æŒ‡å‡ºï¼Œä½œä¸ºçºªå¿µã€‚","categories":[{"name":"ç§‘æ™®","slug":"ç§‘æ™®","permalink":"https://imzy.vip/categories/%E7%A7%91%E6%99%AE/"}],"tags":[{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"}]},{"title":"ä½¿ç”¨çŠ¶æ€ç åŠ æ¶ˆæ¯ä¼ é€’åº“çŠ¶æ€","slug":"ä½¿ç”¨çŠ¶æ€ç åŠ æ¶ˆæ¯ä¼ é€’åº“çŠ¶æ€","date":"2020-05-09T20:09:08.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/19624/","link":"","permalink":"https://imzy.vip/posts/19624/","excerpt":"è¿™ç¯‡æ–‡ç« æ˜¯ä¸Šä¸€ç¯‡ä½¿ç”¨rustå†™å®‰å“åº“çš„ç»­ç¯‡ï¼Œæœ¬èº«æŒ‰ç…§ä¸Šä¸€ç¯‡æ–‡ç« çš„ä»‹ç»å·²ç»å®Œå…¨åŸºæœ¬è®²æ¸…æ¥šäº†ä½¿ç”¨rustç»™å®‰å“å†™åº“çš„åŸºæœ¬æ–¹é¢ï¼Œè¿™ç¯‡æ–‡ç« ç»§ç»­åœ¨ä¹‹å‰çš„çŠ¶æ€ä¸Šè¡¥å……ï¼ŒåŠ›æ±‚æ–‡ç« å®Œå¤‡ã€‚","text":"è¿™ç¯‡æ–‡ç« æ˜¯ä¸Šä¸€ç¯‡ä½¿ç”¨rustå†™å®‰å“åº“çš„ç»­ç¯‡ï¼Œæœ¬èº«æŒ‰ç…§ä¸Šä¸€ç¯‡æ–‡ç« çš„ä»‹ç»å·²ç»å®Œå…¨åŸºæœ¬è®²æ¸…æ¥šäº†ä½¿ç”¨rustç»™å®‰å“å†™åº“çš„åŸºæœ¬æ–¹é¢ï¼Œè¿™ç¯‡æ–‡ç« ç»§ç»­åœ¨ä¹‹å‰çš„çŠ¶æ€ä¸Šè¡¥å……ï¼ŒåŠ›æ±‚æ–‡ç« å®Œå¤‡ã€‚ æœ¬æ–‡è¦è§£å†³çš„åœºæ™¯å¦‚ä¸‹ å½“æˆ‘ä»¬å¤–éƒ¨è°ƒç”¨ruståº“æ—¶éš¾å…å‡ºç°åº“æœ¬èº«çŠ¶æ€å‡ºç°é—®é¢˜ï¼Œæ¯”å¦‚å†…éƒ¨é”™è¯¯ï¼Œæ¯”å¦‚å‚æ•°é”™è¯¯ã€‚å‡å¦‚æˆ‘ä»¬åœ¨åªä½¿ç”¨åŒä¸€ç§è¯­è¨€ï¼Œè¿™ç§é—®é¢˜å¾ˆå¥½å¤„ç†ï¼Œå–„ç”¨è¯­è¨€é”™è¯¯å¤„ç†æœºåˆ¶å³å¯ã€‚ç„¶è€Œæˆ‘ä»¬è·¨è¯­è¨€å°±å‡ºç°äº†é—®é¢˜ï¼Œå¦‚åœ¨ä¹‹å‰æ–‡ç« è®¾å®šçš„åœºæ™¯ï¼šjavaç«¯çš„é”™è¯¯æ˜¯Exceptionï¼Œrustç«¯çš„é”™è¯¯æ˜¯Resultå’ŒOptionã€‚ æ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨çŠ¶æ€ç æ¥ä¼ é€’é”™è¯¯ä¿¡æ¯ã€‚ç€é‡äºä¼ é€’é”™è¯¯ä¿¡æ¯ã€‚æˆ‘ä»¬æŠŠæƒ³ä¼ é€’çš„æ¶ˆæ¯ç»™è°ƒç”¨ç«¯å³å¯ã€‚æ¯•ç«Ÿä½œä¸ºåº“çš„ä½¿ç”¨è€…ï¼Œå¹¶ä¸çŸ¥é“åº“å†…éƒ¨çš„å…·ä½“ä¿¡æ¯ï¼Œåªéœ€è¦çŸ¥é“æˆ‘ä½œä¸ºä¼ é€’ä¿¡æ¯è€…æœ‰ä»€ä¹ˆé—®é¢˜å°±å¥½äº†ã€‚åº“çš„é—®é¢˜ç”±åº“æ¥è§£å†³ã€‚ åœ¨è®¾å®šä»¥ä¸Šåœºæ™¯ä¹‹åï¼Œæˆ‘ä»¬çš„é—®é¢˜å°±å¾ˆå®¹æ˜“è§£å†³ã€‚é™¤å»é”™è¯¯å¤„ç†è¿™ä¸ªæ‚è´¨ï¼Œè¿›ä¸€æ­¥ç®€åŒ–é—®é¢˜ä¸ºå¦‚ä¸‹ è°ƒç”¨ç«¯ä¼ é€’ä¿¡æ¯è¿›åº“ï¼Œåº“è¿”å›çŠ¶æ€ï¼ˆå¯¹è±¡ï¼‰ç»™çš„è°ƒç”¨è€…ã€‚ å”¯ä¸€çš„é—®é¢˜å°±æ˜¯è·¨è¯­è¨€ã€‚ï¼ˆè¿™ä¸ªå±äºå…·ä½“ä½¿ç”¨rust-jniåº“çš„ç»†èŠ‚ï¼Œå¦‚æœè¦å†™ä¸€ä¸ªè·¨è¯­è¨€çš„åº“ï¼Œå¤§ä½“æ˜¯è¿™ç§å¤„ç†æ–¹æ¡ˆï¼‰ ç„¶åæˆ‘ä»¬æ¥å†™ä»£ç ï¼ˆè®¾å®šåœºæ™¯ï¼Œjavaè°ƒç”¨ruståº“ã€‚ï¼‰ é¦–å…ˆåœ¨javaç«¯å®šä¹‰é”™è¯¯æœ¬èº« 1234567891011121314151617181920 class JniApi &#123; public class StatusMessage &#123; public int code; public String message; &#125; private static native StatusMessage send_message(String mnemonic_str); static &#123; System.loadLibrary(&quot;murmel&quot;); &#125; // The rest is just regular ol&#x27; Java! public static void main(String[] args) &#123; StatusMessage message1 = JniApi.sned_message(&quot;Yes&quot;); System.out.println(&quot;------------------------------&quot;); System.out.println(message1.message); &#125;&#125; æ³¨æ„ï¼Œä»¥ä¸Šçš„ä»£ç å¹¶ä¸ç¬¦åˆjavaè§„èŒƒã€‚åªæ˜¯å¯ç”¨ã€‚å¦‚æœè§„èŒƒï¼Œè¯·ç»™StatusMessageå®ç°toString()æ–¹æ³•ã€‚æœ¬æ–‡ä¸ºäº†ç®€åŒ–ï¼Œæ²¡æœ‰å†™ã€‚ StatusMessageå®šä¹‰äº†æ¶ˆæ¯æœ¬èº«ï¼Œå®ƒå¾ˆç®€å•ï¼Œä¸€ä¸ªçŠ¶æ€ç å’Œä¸€ä¸ªçŠ¶æ€æ¶ˆæ¯ã€‚å®šä¹‰é™æ€æ–¹æ³•ï¼Œè¿”å›StatusMessageæœ¬èº«ã€‚ç„¶ååœ¨mainä¸­è°ƒç”¨é™æ€æ–¹æ³•ã€‚æœ€åæ‰“å°è¿”å›çš„StatusMessageå¯¹è±¡ã€‚ æ¥ä¸‹æ¥åœ¨rustç«¯å®ç°send_messageæ–¹æ³•æœ¬èº« 12345678910111213#[no_mangle]pub extern &quot;system&quot; fn Java_JniApi_send_message(env: JNIEnv, _: JClass, str: JString) -&gt; jobject &#123; let str = env.get_string(mnemonic_str).unwrap(); let message_class = env.find_class(&quot;JniApi$StatusMessage&quot;).expect(&quot;can&#x27;t find class JniApi$StatusCode&quot;); let message_obj = env.alloc_object(message_class).expect(&quot;create message instance error&quot;); env.set_field(message_obj, &quot;code&quot;, &quot;I&quot;, JValue::Int(200)).expect(&quot;set code error&quot;); env.set_field(message_obj, &quot;message&quot;, &quot;Ljava/lang/String;&quot;, JValue::Object(JObject::from(env.new_string(&quot;Rust&quot;.to_string()).unwrap()))).expect(&quot;set error msg value is error!&quot;); message_obj.into_inner()&#125; å¯¹ä¸Šé¢ä»£ç åšç®€å•è¯´æ˜ã€‚ é¦–å…ˆï¼Œrustæ–¹æ³•çš„å‘½åæ¥è‡ªäºå¯¹javaæ–‡ä»¶å¾—åˆ°javac -h æ“ä½œã€‚è¿™ä¸ªä¸Šä¸€ç¯‡æ–‡ç« æåˆ°è¿‡ã€‚JNIEnvå’ŒJClassè¿™ä¸¤ä¸ªæ˜¯å›ºå®šçš„å‚æ•°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯JStringå¯¹åº”ï¼Œé™æ€æ–¹æ³•ä¸­ä¼ å…¥çš„å­—ç¬¦ä¸²å‹å‚æ•°ã€‚ ä»£ç å¾—åˆ°æ­£æ–‡æ˜¯è·å–è¾“å…¥å‚æ•°ï¼Œä»–çš„ä½¿ç”¨æ–¹æ³•æ˜¯å›ºå®šçš„ï¼Œä½¿ç”¨envå‚æ•°è·å– æ¥ä¸‹æ¥æˆ‘ä»¬å¡«å……éœ€è¦è¿”å›çš„StatusMessageï¼Œæ‰€æœ‰çš„java classåœ¨rustç«¯éƒ½è¢«jni-rsæŠ½è±¡ä¸ºjobjectã€‚ ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯»æ‰¾classã€‚æˆ‘ä»¬ä½¿ç”¨env.fin_class()æ–¹æ³•å®Œæˆè¿™ä¸€ç‚¹ã€‚å…¶ä¸­çš„å‚æ•°ä»£è¡¨ç±»çš„åå­—ã€‚å¦‚æœç†Ÿæ‚‰javaï¼Œæˆ‘ä»¬çŸ¥é“JniApi$StatusMessageï¼Œè¿™ç§å†™æ³•ä»£è¡¨å†…éƒ¨ç±»ã€‚åœ¨javac -hç”Ÿæˆçš„æ–‡ä»¶ä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥å‘ç°è¿™ä¸€ç‚¹ã€‚ ç¬¬äºŒæ­¥ï¼Œåˆ†é…å†…å­˜ã€‚æˆ‘ä»¬ä½¿ç”¨env.alloc_object()æ¥å®ç° ç¬¬ä¸‰æ­¥ï¼Œå¡«å……fieldã€‚å› ä¸ºåœ¨javaï¼Œæˆ‘ä»¬æŠŠclassæŒæœ‰çš„æ•°æ®ç§°ä¸ºfiledã€‚å…·ä½“å‚æ•°è¯·æŸ¥çœ‹jni-rsçš„æ–‡æ¡£ã€‚å•ç‹¬æå‡ºæ¥ä¸¤ç‚¹ï¼Œå¯¹äºintï¼Œæˆ‘ä»¬ç†è§£ä¸ºJValue::Intï¼Œå¯¹äºçš„å¯¹è±¡ç±»å‹ï¼ˆjavaç«¯çš„Stringï¼‰æˆ‘ä»¬ä½¿ç”¨äº†JValue::Objectã€‚ä»–ä»¬å±äºjni-rsä½¿ç”¨çš„ç»†èŠ‚ã€‚ æœ€åè¿”å›jobjectå¯¹è±¡å³å¯ æœ€ååœ¨æ€»ç»“æˆå››ä¸ªæ­¥éª¤ å®šä½class åˆ†é…å†…å­˜ å¡«å……field è¿”å›jobject ä»¥ä¸Šå·²ç»å®Œå…¨è¯´æ¸…æ¥šå¦‚ä½•è¿”å›ç»™ä½¿ç”¨ç«¯ä¸€ä¸ªjavaå¯ä»¥ç†è§£çš„â€å¯¹è±¡â€œã€‚æ›´å¤æ‚çš„æƒ…å†µä¹Ÿæ˜¯ä»¥ä¸Šå››æ­¥å¤§è±¡è£…è¿›å†°ç®±æ³•ã€‚å½“ç„¶å…¶å®è¿™äº›éƒ½å±äºjni-rsçš„ä½¿ç”¨ç»†èŠ‚ï¼Œæˆ‘åªæ˜¯å•ç‹¬æŠŠå®ƒæ‹¿å‡ºæ¥è®²ã€‚ å¸Œæœ›é€šè¿‡è¿™ä¸¤ç¯‡æ–‡ç« æŠŠå¦‚ä½•ä½¿ç”¨rustç»™å®‰å“å†™åŠ¨æ€åº“çš„é—®é¢˜è®²æ¸…æ¥šã€‚å‰ä¸€ç¯‡ç§é…ç½®å’ŒåŸºæœ¬æ€è·¯ï¼Œè¿™ç¯‡è®²å…·ä½“ç»†èŠ‚ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"rust","slug":"rust","permalink":"https://imzy.vip/tags/rust/"},{"name":"å®‰å“","slug":"å®‰å“","permalink":"https://imzy.vip/tags/%E5%AE%89%E5%8D%93/"}]},{"title":"ä½¿ç”¨rustå†™å®‰å“åº“","slug":"ä½¿ç”¨rustå†™å®‰å“åº“","date":"2020-03-31T16:33:36.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/27183/","link":"","permalink":"https://imzy.vip/posts/27183/","excerpt":"ä½¿ç”¨rustå†™å®‰å“åº“rustå†™å®‰å“åº“ä¹Ÿæ˜¯rustçš„ä¸€ä¸ªé‡è¦åº”ç”¨æ–¹å‘ï¼Œä¹‹å‰ç”¨æ¥å†™å®‰å“çš„åº“çš„è¯­è¨€å¤§å¤šæ•°éƒ½æ˜¯c/c++ã€‚æœ¬æ–‡ä¸è®¨è®ºä¸¤ç§ï¼ˆæˆ–è€…å«ä¸¤ç±»ï¼‰è¯­è¨€çš„ä¼˜åŠ£ï¼Œåªè¯´æ˜å¦‚ä½•æ­å»ºä¸€ä¸ªrust-androidç›¸äº’äº¤äº’çš„ç¯å¢ƒã€‚","text":"ä½¿ç”¨rustå†™å®‰å“åº“rustå†™å®‰å“åº“ä¹Ÿæ˜¯rustçš„ä¸€ä¸ªé‡è¦åº”ç”¨æ–¹å‘ï¼Œä¹‹å‰ç”¨æ¥å†™å®‰å“çš„åº“çš„è¯­è¨€å¤§å¤šæ•°éƒ½æ˜¯c/c++ã€‚æœ¬æ–‡ä¸è®¨è®ºä¸¤ç§ï¼ˆæˆ–è€…å«ä¸¤ç±»ï¼‰è¯­è¨€çš„ä¼˜åŠ£ï¼Œåªè¯´æ˜å¦‚ä½•æ­å»ºä¸€ä¸ªrust-androidç›¸äº’äº¤äº’çš„ç¯å¢ƒã€‚ Androidä½¿ç”¨Javaè¯­è¨€ï¼Œjavaä¸c/c++äº¤äº’ä½¿ç”¨jniæŠ€æœ¯ã€‚Androidä¸rustäº¤äº’ä¹Ÿä½¿ç”¨jniã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨jni-rsåº“ã€‚åœ¨ä½¿ç”¨rustå†™å®‰å“åº“ä¹‹å‰æˆ‘ä»¬å…ˆç®€åŒ–ä¸€ä¸‹é—®é¢˜ã€‚å…ˆç”¨jni-rsç¼–å†™ä¸€ä¸ªå¯ä»¥è¢«javaè°ƒç”¨çš„åº“ã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥å‚è€ƒjni-rsçš„ä»£ç è¯´æ˜ã€‚ä½†æˆ‘è‡ªå·±ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ç¨å¾®å¯¹æ–‡æ¡£è¿›è¡Œäº†è¯´æ˜ã€‚ ä½¿ç”¨jni-rsåº“æ—¢ç„¶rustä½œä¸ºåº“ï¼Œé‚£javaç«¯å°±æ˜¯ä½¿ç”¨è€…ã€‚æ‰€ä»¥ä¸€åˆ‡ä½¿ç”¨ä»¥javaç«¯å‡ºå‘ã€‚å…ˆç¼–å†™ä¸€ä¸ªHelloWorld.javaæ–‡ä»¶å¦‚ä¸‹ 1234567891011121314class HelloWorld &#123; private static native String hello(String input); static &#123; System.loadLibrary(&quot;mylib&quot;); &#125; // The rest is just regular ol&#x27; Java! public static void main(String[] args) &#123; String output = HelloWorld.hello(&quot;TigerInYourDream&quot;); System.out.println(output); &#125;&#125; ä»£ç çš„ç¬¬ä¸€è¡Œæ˜¯å°†æ¥ruståº“éœ€è¦æä¾›çš„æ–¹æ³•ï¼Œè¿™é‡Œç›¸å½“äºæä¾›ä¸€ä¸ªæ¥å£ï¼Œå®šä¹‰äº†å‡½æ•°åï¼Œå‚æ•°å’Œè¿”å›å€¼ã€‚é™æ€ä»£ç å—æ˜¯åŠ è½½åº“ç”¨çš„ï¼Œéœ€è¦åœ¨å®é™…è°ƒç”¨ä¹‹å‰åŠ è½½ã€‚åŠ¨æ€åº“çš„åç§°ä¸º â€mylibâ€œã€‚ç°åœ¨æ˜¯æ²¡æœ‰çš„ã€‚ä¹‹åå°±æ˜¯å¸¸è§„çš„è°ƒç”¨ã€‚è¿™é‡Œçš„è°ƒç”¨æ˜¯é™æ€è°ƒç”¨ã€‚ ç°åœ¨è¿™æ®µjavaä»£ç æ— æ³•è¿è¡Œï¼Œå› ä¸ºæˆ‘ä»¬å¹¶æ²¡æœ‰â€mylibâ€œè¿™ä¸ªåº“ã€‚hello methonä¹Ÿéœ€è¦åœ¨rustä¸­å®ç°ã€‚æˆ‘ä»¬æš‚æ—¶ä¸ç€æ€¥åˆ›å»ºrust libã€‚æˆ‘ä»¬åœ¨ç›®å½•ä¸‹ä½¿ç”¨javac -hå‘½ä»¤ 1javac -h . HelloWorld.java æ³¨æ„è¦ä½¿ç”¨ .java åç¼€ï¼Œä»¥å…æ— æ³•è¯†åˆ«ã€‚ æ¥ä¸‹æ¥ä¼šåœ¨ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª .h æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶å¦‚ä¸‹ 123456789101112131415161718192021/* DO NOT EDIT THIS FILE - it is machine generated */#include &lt;jni.h&gt;/* Header for class HelloWorld */#ifndef _Included_HelloWorld#define _Included_HelloWorld#ifdef __cplusplusextern &quot;C&quot; &#123;#endif/* * Class: HelloWorld * Method: hello * Signature: (Ljava/lang/String;)Ljava/lang/String; */JNIEXPORT jstring JNICALL Java_HelloWorld_hello (JNIEnv *, jclass, jstring);#ifdef __cplusplus&#125;#endif#endif ä¸è¦ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ã€‚æˆ‘ä»¬çœ‹å…¶ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å®šä¹‰rustæ–¹æ³•å°±è¦æŒ‰ç…§ .h æ–‡ä»¶ä¸­çš„è¦æ±‚æ¥ã€‚æ–¹æ³•åå¿…é¡»ä¸º JNICALL Java_HelloWorld_helloã€‚çŸ¥é“è¿™ä¸€ç‚¹åå¼€å§‹å†™rust libã€‚ ç›´æ¥åˆ›å»ºcargoé¡¹ç›® mylibã€‚ 1cargo new mylib --lib åœ¨é¡¹ç›®çš„cargo.tomlæ·»åŠ å¦‚ä¸‹ 12345[dependencies]jni &#x3D; &quot;0.16.0&quot;[lib]crate_type &#x3D; [&quot;cdylib&quot;] è¿™æ ·é…ç½®ä¹‹åå¦‚æœä½ è¿è¡Œcargo buildã€‚åœ¨linuxä¸‹ä¼šå¾—åˆ°libmylib.soã€‚åœ¨macä¸‹ä¼šå¾—åˆ°libmylib.dylibã€‚ ç¼–å†™lib.rs 1234567891011121314151617181920212223242526272829use jni::JNIEnv;use jni::objects::&#123;JClass, JString&#125;;use jni::sys::jstring;// This keeps Rust from &quot;mangling&quot; the name and making it unique for this// crate.#[no_mangle]pub extern &quot;system&quot; fn Java_HelloWorld_hello(env: JNIEnv,// This is the class that owns our static method. It&#x27;s not going to be used,// but still must be present to match the expected signature of a static// native method. class: JClass, input: JString) -&gt; jstring &#123; // First, we have to get the string out of Java. Check out the `strings` // module for more info on how this works. let input: String = env.get_string(input).expect(&quot;Couldn&#x27;t get java string!&quot;).into(); // Then we have to create a new Java string to return. Again, more info // in the `strings` module. let output = env.new_string(format!(&quot;Hello, &#123;&#125;!&quot;, input)) .expect(&quot;Couldn&#x27;t create java string!&quot;); // Finally, extract the raw pointer to return. output.into_inner()&#125; Jni-rsåº“æ˜¯ä¸€ä¸ªbundleã€‚å‡½æ•°çš„å®ç°åŸºæœ¬ä¸Šæ˜¯ffiçš„æ ‡å‡†å†™æ³•ã€‚ç±»å‹è¦å’Œjniä¸­çš„å¯¹åº”ã€‚jstringå°±ç›¸å½“äºJavaä¸­çš„Stringã€‚è¿™é‡Œå‡½æ•°ä¸€å®šè¦å’Œ .h æ–‡ä»¶ä¸­çš„ä¸€æ ·ã€‚ä»£ç å¾ˆç®€å•ï¼Œè·å–å‚æ•°input.ç„¶åå’ŒHello æ‹¼æ¥ã€‚æœ€åè¾“å‡ºã€‚ æ¥ä¸‹æ¥è¿›è¡Œç¼–è¯‘å³å¯ã€‚æ‹¿åˆ°åº“æ–‡ä»¶ï¼Œæ”¾å€’javaé¡¹ç›®ä¸‹å³å¯è¿è¡Œã€‚æ›´è¯¦ç»†çš„ä¸œè¥¿å¯ä»¥è‡ªå·±å»jni-rsä¸‹é¢çœ‹exampleã€‚ é‡ç‚¹å…³æ³¨çš„æ˜¯ï¼Œjava -hå‘½ä»¤å’Œrustä¸­çš„å‡½æ•°å¦‚ä½•ç¼–å†™ã€‚ å†æ›´æ–° å¾ˆå¤šäººè¯´è¿™æ ·åšä¼šæ‰¾ä¸åˆ°åº“çš„ä½ç½®ï¼Œä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ Exception in thread â€œmainâ€ java.lang.UnsatisfiedLinkError: no mylib in java.library.path å’Œä¹‹å‰æ²¡æœ‰è¿™ä¸ªåº“çš„æŠ¥å‘Šçš„é”™è¯¯æ˜¯ä¸€æ ·çš„ã€‚è¿™æ˜¯å› ä¸ºå®šä½ä¸åˆ°åº“ï¼Œä»£ç ä¸çŸ¥é“å¦‚ä½•å»å®šä½â€mylib.soâ€ï¼ˆlinuxï¼‰æˆ–è€…â€mylib.dylibâ€ï¼ˆmacï¼‰ã€‚å‡å¦‚ä½¿ç”¨IDEAï¼Œè¯·Edit Configurations(å°±æ˜¯è¿è¡ŒæŒ‰é’®) åœ¨VM Optionsæ ç›®æ·»åŠ ä¸Šå¦‚ä¸‹ -Djava.library.path=/path/to/your/lib/target/debug å³æŒ‡å®šä½ libåº“çš„åœ°å€å³å¯ã€‚æ³¨æ„ä½ å®é™…çš„soæ–‡ä»¶å«åšlibxxxxx.soï¼Œä½†æ˜¯ä½ åœ¨javaä¸­loadLibraryæ—¶å€™ä¾ç„¶åŠ è½½çš„æ˜¯ xxxxx(ä½ é¡¹ç›®çš„åå­—)ã€‚ ä»¥ä¸Šå³å¯æ­£å¸¸è¿è¡Œã€‚ä½†æ˜¯å¦‚æœè¦è€ƒè™‘è‡ªåŠ¨åŒ–ï¼Œè¯·ä½¿ç”¨åˆ«çš„æˆå¥—æ„å»ºå·¥å…·ã€‚ä½†æ˜¯ä»å†™åº“çš„è§’åº¦ï¼Œè¿™æ ·ç›´æ¥å†™èµ·æ¥æµ‹è¯•å³å¯ã€‚æ¯•ç«Ÿäº¤ä»˜çš„æ˜¯soæ–‡ä»¶ã€‚ è¿›ä¸€æ­¥ä½¿ç”¨äº¤å‰ç¼–è¯‘ä¸Šä¸€èŠ‚çš„å†…å®¹å¹¶ä¸æ¶‰åŠäº¤å‰ç¼–è¯‘ï¼Œåªæ˜¯ç®€å•è®²è§£äº†å¦‚ä½•ä½¿ç”¨jni-rsåº“ï¼Œä»¥åŠæˆ‘ä»¬å†™jniæ—¶çš„ä¸»è¦æ€è·¯ï¼šä»ä½¿ç”¨ç«¯å»å®šä¹‰æ¥å£ï¼Œç„¶ååœ¨rustç«¯å®ç°ä»£ç ã€‚è¿™ä¸€éƒ¨åˆ†å¼€å§‹è¿›å…¥æ­£é¢˜ï¼Œå¦‚ä½•ä½¿ç”¨rustå†™å®‰å“çš„åº“ã€‚ åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦å…ˆå®‰è£…rustç¯å¢ƒï¼Œé»˜è®¤è¯»è€…éƒ½è£…äº†ã€‚ ç„¶åå®‰è£…Androidç¯å¢ƒã€‚æˆ‘ä»¬ç›´æ¥ä½¿ç”¨AndroidStudioå³å¯ã€‚å®‰è£…å¥½ä¹‹åï¼Œç›´æ¥åœ¨ä¸Šé¢çš„èœå•æ æ‰¾åˆ°Toolsâ€“&gt;SDK managerâ€“&gt;SDK Toolsã€‚ åœ¨ä¸‹é¢å®‰è£…å¦‚ä¸‹å››ä¸ª 1234* Android SDK Tools* NDK* CMake* LLDB è¿™å››ä¸ªä¸€ä¸ªéƒ½ä¸èƒ½å°‘ã€‚æˆ‘çš„ç¯å¢ƒæ˜¯MACã€‚CMakeå’ŒLLDBä¹‹å‰ä¹Ÿè£…çš„æœ‰ï¼Œä½†æ˜¯ä¸ºäº†å’ŒNDKé…å¥—åœ¨è¿™é‡Œåˆè£…ä¸€æ¬¡ã€‚ä¹‹å‰æ²¡è£…çš„çŠ¶å†µä¸‹ï¼Œæœ€ç»ˆäº¤å‰ç¼–è¯‘å¤±è´¥ã€‚NDKä¹Ÿå¯ä»¥è‡ªè¡Œä¸‹è½½å®‰è£…ï¼Œä½†æ˜¯æˆ‘å»ºè®®ç”¨AndroidStudioå®‰è£…ï¼Œæ¯”è¾ƒæ–¹ä¾¿ä¹Ÿå¾ˆé…å¥—ï¼Œä¼šçœå»å¾ˆå¤šéº»çƒ¦ã€‚ è¿˜éœ€è¦æ³¨æ„çš„äº‹æƒ…çœ‹æ¸…æ¥šä¸Šé¢çš„Android SDK Locationï¼Œä¸‹å¥½ä¹‹åéœ€è¦é…ç½®è¿™ä¸ªè·¯å¾„ã€‚ ä¸‹è½½å¥½ä¹‹åå…ˆexport NDKè·¯å¾„ã€‚æˆ‘ä½¿ç”¨zshï¼Œä¿®æ”¹.zshrcæ–‡ä»¶ï¼ŒåŠ å…¥å¦‚ä¸‹ä»£ç  12export ANDROID_HOME&#x3D;&#x2F;Users&#x2F;$USER&#x2F;Library&#x2F;Android&#x2F;sdkexport NDK_HOME&#x3D;$ANDROID_HOME&#x2F;ndk&#x2F;21.0.6113669 zshè¯­æ³•ä¸å†è¯´æ˜ï¼Œå…¶å®å°±æ˜¯åŠ è½½ndkç¯å¢ƒå˜é‡ã€‚21.0.61xxxxæ˜¯æˆ‘ç›®å‰ä¸‹è½½çš„ndkçš„ç‰ˆæœ¬æ–‡ä»¶åï¼Œè¯»è€…å¦‚æœæ˜¯åˆ«çš„è·¯å¾„æˆ–è€…å«åˆ«çš„æ–‡ä»¶å æ¯”å¦‚ï¼šndk-r21ä¹‹ç±»çš„è‡ªè¡Œä¿®æ”¹å³å¯ã€‚fish bash ç”¨æˆ·è‡ªå·±é…Œæƒ…ä¿®æ”¹ã€‚ æ¥ä¸‹æ¥åˆ›å»ºä¸€ä¸ªç›®å½• greeting 1mkdir greeting è¿™ä¸ªæ–‡ä»¶å¤¹æ˜¯æ”¾åé¢çš„NDKæ–‡ä»¶çš„ï¼Œæˆ‘å»ºè®®æŠŠNDKæ–‡ä»¶ï¼Œrust project ç”šè‡³å°†æ¥çš„Android Projectæ”¾åœ¨ä¸€èµ·ï¼Œæ–¹æ¡ˆç®¡ç†ã€‚ ä¹‹å 12cd greetingmkdir NDK ç„¶åæ‰§è¡Œ 123$&#123;NDK_HOME&#125;&#x2F;build&#x2F;tools&#x2F;make_standalone_toolchain.py --api 26 --arch arm64 --install-dir NDK&#x2F;arm64$&#123;NDK_HOME&#125;&#x2F;build&#x2F;tools&#x2F;make_standalone_toolchain.py --api 26 --arch arm --install-dir NDK&#x2F;arm$&#123;NDK_HOME&#125;&#x2F;build&#x2F;tools&#x2F;make_standalone_toolchain.py --api 26 --arch x86 --install-dir NDK&#x2F;x86 æ‰§è¡Œä¸Šé¢ä¸‰ä¸ªå‘½ä»¤è¡Œï¼Œå¤§å®¶åº”è¯¥çœ‹å‡ºæ¥äº†ï¼Œå°±æ˜¯ä¸ºäº†æ‰§è¡Œndk toolsä¸­çš„make_standalone_toolchain.pyè„šæœ¬ï¼Œç„¶åä¸œè¥¿æ”¾åˆ°NDKæ–‡ä»¶å¤¹ä¸‹ã€‚æ‰§è¡Œå‘½ä»¤ä¼šå‡ºç°warn! æ—¢ç„¶ä¸æŠ¥é”™ï¼Œå‡è£…æ²¡çœ‹åˆ°ã€‚å¦‚æœä¸å–œæ¬¢æˆ‘è¿™ç§æ–‡ä»¶ç»„ç»‡å½¢å¼ï¼ŒæŒ‰ç…§è¿™ä¸ªæ€è·¯è‡ªå·±æ¢è·¯å¾„å³å¯ã€‚ æ‰“å¼€NDKæ–‡ä»¶å¤¹æˆ‘ä»¬åº”è¯¥å¯ä»¥çœ‹åˆ°arm64 arm x86è¿™ä¸‰ä¸ªæ–‡ä»¶å¤¹äº†ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨åˆ›å»ºä¸€ä¸ªcargo-config.tomlã€‚touchåº”è¯¥ä¸ç”¨æˆ‘è¯´ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å†™å…¥ 1234567891011[target.aarch64-linux-android]ar &#x3D; &quot;&lt;project path&gt;&#x2F;greetings&#x2F;NDK&#x2F;arm64&#x2F;bin&#x2F;aarch64-linux-android-ar&quot;linker &#x3D; &quot;&lt;project path&gt;&#x2F;greetings&#x2F;NDK&#x2F;arm64&#x2F;bin&#x2F;aarch64-linux-android-clang&quot;[target.armv7-linux-androideabi]ar &#x3D; &quot;&lt;project path&gt;&#x2F;greetings&#x2F;NDK&#x2F;arm&#x2F;bin&#x2F;arm-linux-androideabi-ar&quot;linker &#x3D; &quot;&lt;project path&gt;&#x2F;greetings&#x2F;NDK&#x2F;arm&#x2F;bin&#x2F;arm-linux-androideabi-clang&quot;[target.i686-linux-android]ar &#x3D; &quot;&lt;project path&gt;&#x2F;greetings&#x2F;NDK&#x2F;x86&#x2F;bin&#x2F;i686-linux-android-ar&quot;linker &#x3D; &quot;&lt;project path&gt;&#x2F;greetings&#x2F;NDK&#x2F;x86&#x2F;bin&#x2F;i686-linux-android-clang&quot; è¿™é‡Œçš„å°±æ˜¯é¡¹ç›®æœ‰è·¯å¾„ï¼Œå…·ä½“ç‚¹å°±æ˜¯/Users/xxx è¿™ç§ã€‚è¯»è€…è‡ªå·±å†™å…¥è‡ªå·±çš„å…·ä½“è·¯å¾„å°±å¯ä»¥ã€‚ ç„¶åæŠŠè¿™ä¸ªæ–‡ä»¶æ‹·å…¥.cargo æ–‡ä»¶å¤¹ä¸‹çš„configæ–‡ä»¶ä¸­ 1cp cargo-config.toml ~&#x2F;.cargo&#x2F;config å¯ä»¥è‡ªå·±å» .cargoæ–‡ä»¶å¤¹ä¸‹çœ‹è¿™ä¸ªæ–‡ä»¶ã€‚éœ€è¦ä¿è¯ar å’Œ linkerè·¯å¾„æ­£ç¡®ã€‚æ¥ä¸‹æ¥è¿è¡Œ 1rustup target add aarch64-linux-android armv7-linux-androideabi i686-linux-android åŠ å…¥è¿™ä¸‰ä¸ªtargetã€‚ æˆ‘ä»¬è¿˜æ˜¯åœ¨greetingæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºè‡ªå·±çš„rust lib 12cargo new cargo --libmkdir android rusté¡¹ç›®å«cargoä¼¼ä¹ä¸å¤ªå¥½ï¼Œä½†æš‚æ—¶è¿™æ ·ã€‚åé¢çš„androidæ–‡ä»¶å¤¹æ˜¯æ”¾åé¢çš„anroidé¡¹ç›®çš„ã€‚è¿™é‡Œå†æ¬¡å»ºè®®ï¼šNDKï¼Œrustï¼ŒAndroidè¿™ä¸‰ä¸ªé¡¹ç›®æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ–¹ä¾¿ç®¡ç†ã€‚æœ¬ä¾‹ä¸­å°±æ˜¯æ”¾åœ¨greetingæ–‡ä»¶å¤¹ä¸‹ã€‚ ç„¶ååœ¨cargo/src/lib.rsä¸­éšä¾¿å†™ç‚¹ä»£ç  12345678910111213use std::os::raw::&#123;c_char&#125;;use std::ffi::&#123;CString, CStr&#125;;#[no_mangle]pub extern fn rust_greeting(to: *const c_char) -&gt; *mut c_char &#123; let c_str = unsafe &#123; CStr::from_ptr(to) &#125;; let recipient = match c_str.to_str() &#123; Err(_) =&gt; &quot;there&quot;, Ok(string) =&gt; string, &#125;; CString::new(&quot;Hello &quot;.to_owned() + recipient).unwrap().into_raw()&#125; æ— ä¼¤å¤§é›…ï¼Œéšä¾¿å†™ç‚¹ã€‚è¿™æ˜¯ä¸€æ®µå¯ä»¥å’Œcäº¤äº’çš„ä»£ç ã€‚ ç„¶åå¼€å§‹åœ¨androidç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå®‰å“é¡¹ç›®ï¼Œå…·ä½“è¿‡ç¨‹éæœ¬æ–‡é‡ç‚¹ï¼Œä¸å±•ç¤ºã€‚ æˆ‘ä»¬åœ¨GreetingsActivityåŒçº§çš„æ–‡ä»¶ä¸­å»ºç«‹ä¸€ä¸ªå«åšRustGreetings.javaçš„ç±»ã€‚å†™ä¸Šå¦‚ä¸‹ä»£ç  12345678public class RustGreetings &#123; private static native String greeting(final String pattern); public String sayHello(String to) &#123; return greeting(to); &#125;&#125; è¿™ä¸ªä¾‹å­å’Œç¬¬ä¸€èŠ‚ä¸­çš„javaä»£ç ä½œç”¨æ˜¯ç±»ä¼¼çš„ã€‚å®šä¹‰éœ€è¦çš„nativeæ–¹æ³• greetingã€‚ä¸‹é¢ä¸€æ®µæ˜¯éœ€è¦ç”¨çš„greeting methonçš„sayHello methodã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å›å»å†™rustä»£ç  cargo/src/lib.rs 1234567891011121314151617181920212223/// Expose the JNI interface for android below#[cfg(target_os=&quot;android&quot;)]#[allow(non_snake_case)]pub mod android &#123; extern crate jni; use super::*; use self::jni::JNIEnv; use self::jni::objects::&#123;JClass, JString&#125;; use self::jni::sys::&#123;jstring&#125;; #[no_mangle] pub unsafe extern fn Java_com_mozilla_greetings_RustGreetings_greeting(env: JNIEnv, _: JClass, java_pattern: JString) -&gt; jstring &#123; // Our Java companion code might pass-in &quot;world&quot; as a string, hence the name. let world = rust_greeting(env.get_string(java_pattern).expect(&quot;invalid pattern string&quot;).as_ptr()); // Retake pointer so that we can use it below and allow memory to be freed when it goes out of scope. let world_ptr = CString::from_raw(world); let output = env.new_string(world_ptr.to_str().unwrap()).expect(&quot;Couldn&#x27;t create java string!&quot;); output.into_inner() &#125;&#125; è¿™æ‰æ˜¯éœ€è¦çš„rustä»£ç ã€‚è‡³äºä¸ºä»€ä¹ˆçš„çš„æ–¹æ³•æ˜¯com mozillaã€‚å› ä¸ºæˆ‘åœ¨åˆ›å»ºAndroidé¡¹ç›®æ—¶å€™ç”¨domainç”¨äº†mozilla.comã€‚æ€»ä½“æ¥è¯´è¿™ä¸ªæ–¹æ³•åä½“ç°çš„å°±æ˜¯è·¯å¾„+æ¥å£æ–¹æ³•åï¼Œå’Œç¬¬ä¸€èŠ‚ä½“ç°å‡ºçš„å‘½åè§„åˆ™æ˜¯ä¸€è‡´çš„ã€‚å¦‚æœä¸ç†Ÿæ‚‰ å»ºè®®ç”¨java -h ã€‚ä»å¤´æ–‡ä»¶ä¸­æŠŠæ–‡ä»¶åcopyè¿‡æ¥ã€‚ #[cfg(target_os=â€androidâ€)]ä»£è¡¨çš„æ˜¯æ¡ä»¶ç¼–è¯‘ã€‚ç»†å¿ƒçš„äººå·²ç»çœ‹åˆ°æˆ‘ä»¬ç”¨extern crate jniã€‚æ‰€ä»¥æˆ‘ä»¬å»cargo.tomlåŠ ä¸Šã€‚ Cargo.tomaléœ€è¦å¦‚ä¸‹ 1234[target.&#x27;cfg(target_os=&quot;android&quot;)&#x27;.dependencies]jni = &#123; version = &quot;0.16&quot;, default-features = false &#125;[lib]crate-type = [&quot;dylib&quot;] è¿™å’Œå‰ä¸€èŠ‚çš„ç¤ºä¾‹æ˜¯ä¸€æ ·çš„ã€‚cfgé€‰é¡¹ä¾ç„¶å¯¹åº”æ¡ä»¶ç¼–è¯‘ã€‚é…ç½®å¥½ä¹‹åæˆ‘ä»¬å¯ä»¥å¼€å§‹ç¼–è¯‘äº† 1234567891011121314cargo build --target aarch64-linux-android --releasecargo build --target armv7-linux-androideabi --releasecargo build --target i686-linux-android --releasecd ..&#x2F;android&#x2F;Greetings&#x2F;app&#x2F;src&#x2F;mainmkdir jniLibsmkdir jniLibs&#x2F;arm64mkdir jniLibs&#x2F;armeabimkdir jniLibs&#x2F;x86ln -s &lt;project_path&gt;&#x2F;greetings&#x2F;cargo&#x2F;target&#x2F;aarch64-linux-android&#x2F;release&#x2F;libgreetings.so jniLibs&#x2F;arm64&#x2F;libgreetings.soln -s &lt;project_path&gt;&#x2F;greetings&#x2F;cargo&#x2F;target&#x2F;armv7-linux-androideabi&#x2F;release&#x2F;libgreetings.so jniLibs&#x2F;armeabi&#x2F;libgreetings.soln -s &lt;project_path&gt;&#x2F;greetings&#x2F;cargo&#x2F;target&#x2F;i686-linux-android&#x2F;release&#x2F;libgreetings.so jniLibs&#x2F;x86&#x2F;libgreetings.so è¿™ä¸€æ®µå¹²äº†ä¸‰ä»¶äº‹æƒ… ç¼–è¯‘åˆ°ä¸‰ç§ä¸åŒsoæ–‡ä»¶ã€‚ç°åœ¨å·¥å…·ä¸å¤Ÿå¥½ï¼Œå¾—ä¸€ä¸ªä¸€ä¸ªç¼–è¯‘. åœ¨æˆ‘ä»¬çš„androidç›®å½•ä¸‹å»ºç«‹jniLibsæ–‡ä»¶ï¼Œç†Ÿæ‚‰å®‰å“çš„è¯çŸ¥é“ï¼Œè¿™æ˜¯ä¸ºäº†æ”¾ç¼–è¯‘å¥½çš„soæ–‡ä»¶çš„ è½¯è¿æ¥ï¼ŒæŠŠlibä¸‹é¢çš„soæ–‡ä»¶è½¯è¿æ¥åˆ°ç¬¬äºŒæ­¥å»ºç«‹å¥½çš„jniLibsæ–‡ä»¶ç›®å½•ä¸‹ã€‚å½“ç„¶ä½ ç›´æ¥æ‹·è´è¿‡å»ç”¨ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚çœ‹æˆ‘è¿™ä¸ªå®ä¾‹ä½ åº”è¯¥æ˜ç™½ï¼Œä½ è¦ç”¨ç»å¯¹è·¯å¾„åšsymlinksã€‚ä¸å¯ä»¥ç”¨ç›¸å¯¹è·¯å¾„ï¼Œä¸ç„¶æ‰¾ä¸åˆ°ã€‚ ç„¶åæˆ‘ä»¬åœ¨GreetingsActivity ï¼ˆä¸»Activityï¼‰é‡Œé¢åŠ ä¸Šå¦‚ä¸‹ä»£ç  123static &#123; System.loadLibrary(&quot;greetings&quot;); &#125; å¼ºè°ƒä¸‹å¿…é¡»åœ¨ onCreate method ä¹‹å‰å°±åŠ ã€‚ æ¥ä¸‹æ¥å»å¯¹åº”çš„activity-greetings.xmlä¸­éšä¾¿å†™ç‚¹ç•Œé¢ï¼Œåæ­£èƒ½ç”¨åˆ°åˆšæ‰å®šä¹‰çš„æ–¹æ³•å³å¯ã€‚ ç„¶åæˆ‘ä»¬å†æ‰“å¼€GreetingsActivityå†™ä¸Šè¿™ä¸ª 123456789@Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_greetings); RustGreetings g = new RustGreetings(); String r = g.sayHello(&quot;world&quot;); ((TextView)findViewById(R.id.greetingField)).setText(r); &#125; å°±å‡å®šåˆšæ‰çš„ç”¨çš„æ§ä»¶idä¸ºgreetingFieldã€‚ç„¶åè¿è¡ŒAppå³å¯ã€‚æ³¨æ„ä»–æ˜¯å®‰å“Appï¼Œç”¨æ¨¡æ‹Ÿå™¨æˆ–è€…çœŸæœºã€‚ å¥½äº†ï¼Œä½ å·²ç»å¼€å§‹Hello Worldäº†! æ–‡ç« å¯ä»¥ç»“æŸäº†","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"rust","slug":"rust","permalink":"https://imzy.vip/tags/rust/"},{"name":"Android","slug":"Android","permalink":"https://imzy.vip/tags/Android/"},{"name":"äº¤å‰ç¼–è¯‘","slug":"äº¤å‰ç¼–è¯‘","permalink":"https://imzy.vip/tags/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"}]},{"title":"ä»é›¶æ„å»ºä¸€ä¸ªSPVé’±åŒ…å…¶ä¸€","slug":"ä»é›¶æ„å»ºä¸€ä¸ªSPVé’±åŒ…å…¶ä¸€","date":"2020-03-03T00:20:49.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/56817/","link":"","permalink":"https://imzy.vip/posts/56817/","excerpt":"ä»é›¶æ„å»ºä¸€ä¸ªSPVé’±åŒ…å…¶ä¸€å¼€ç¯‡è¿™æ˜¯å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªSPVé’±åŒ…çš„å¼€ç¯‡æ–‡ç« çš„ç¬¬ä¸€ç¯‡ï¼ŒæŒ‰ç…§è¡Œæ–‡ä¹ æƒ¯ï¼Œå…ˆåˆ—å‡ºç³»åˆ—æ–‡ç« çš„ç›®çš„ï¼š","text":"ä»é›¶æ„å»ºä¸€ä¸ªSPVé’±åŒ…å…¶ä¸€å¼€ç¯‡è¿™æ˜¯å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªSPVé’±åŒ…çš„å¼€ç¯‡æ–‡ç« çš„ç¬¬ä¸€ç¯‡ï¼ŒæŒ‰ç…§è¡Œæ–‡ä¹ æƒ¯ï¼Œå…ˆåˆ—å‡ºç³»åˆ—æ–‡ç« çš„ç›®çš„ï¼š æ„å»ºä¸€ä¸ªSPVé’±åŒ…ï¼Œç¡®åˆ‡çš„è¯´æ˜¯ä¸€ä¸ªBTCçš„SPVé’±åŒ… åœ¨åŒºå—é“¾ä¸–ç•Œä¸­ï¼Œå»ä¸­å¿ƒåŒ–ä¸€ç›´æ˜¯æ ¸å¿ƒè¯é¢˜ï¼Œå®é™…ä¸Šå¸‚é¢ä¸Šå¾ˆå¤šé’±åŒ…æ˜¯æœ‰åç«¯çš„ï¼Œæˆ–è€…è¯´æœ‰åç«¯æ”¯æ´ã€‚å‡ºäºç§ç§ç›®çš„ï¼Œä»–ä»¬çš„é’±åŒ…å¹¶éå®Œå…¨å»ä¸­å¿ƒåŒ–ã€‚ä½†æ˜¯BIP37ç»™æ¯”ç‰¹å¸æä¾›äº†ä¸€ä¸ªå»ä¸­å¿ƒçš„ææ¡ˆã€‚æœ¬æ–‡çš„å…¨éƒ¨æ–¹æ¡ˆå‡èµ·æºäºBIP37 https://github.com/bitcoin/bips/blob/master/bip-0037.mediawiki BIP37æ˜¯ä¸€åˆ‡çš„èµ·ç‚¹ï¼Œæ‰€ä»¥é˜…è¯»æœ¬ç‰‡æ–‡ç« çš„å¼€ç«¯å¿…ç„¶éœ€è¦é˜…è¯»BIP37ã€‚ å‡†å¤‡åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œè¿˜éœ€è¦é¢„å…ˆçš„å‡†å¤‡çŸ¥è¯†ã€‚å› ä¸ºä¸æ˜¯çŸ¥è¯†æ™®åŠå‹çš„æ–‡ç« ï¼Œæ‰€ä»¥ä¸å‡†å¤‡ä»‹ç»åŸºæœ¬æ¦‚å¿µã€‚ä½†æ˜¯éœ€è¦æä¾›çš„åŸºæœ¬çš„çŸ¥è¯†ä¼šæåˆ° é¦–å…ˆä¼šæ­å»ºBTCèŠ‚ç‚¹å…³äºå¦‚ä½•æ­å»ºbtcèŠ‚ç‚¹çš„æ–‡ç« å¾ˆå¤šï¼Œä¸åˆ—å‡ºã€‚æœ¬æ–‡ä¸­ä½¿ç”¨è¿‡çš„èŠ‚ç‚¹ç‰ˆæœ¬ä¸ºv0.18ï¼Œå…¶ä»–ç¨³å®šç‰ˆæœ¬å‡å¯ã€‚ä½¿ç”¨ç¯å¢ƒä¸ºä¹Œç­å›¾ã€‚ä¸€åˆ‡ä»¥å¯ä»¥ç¨³å®šè¿è¡Œæ¯”ç‰¹å¸èŠ‚ç‚¹ä¸ºä¸»ã€‚å®ƒå±äºåŸºç¡€å‡†å¤‡çŸ¥è¯†ï¼Œå¹¶éé‡ç‚¹ã€‚å…³äºå¦‚ä½•é…ç½®èŠ‚ç‚¹ï¼Œå¯å‚è€ƒæˆ‘çš„åšæ–‡ æ¯”ç‰¹å¸å®¢æˆ·ç«¯è®¾ç½® æ¯”ç‰¹å¸èŠ‚ç‚¹è¿œç¨‹è®¿é—® æ­å»ºèŠ‚ç‚¹ä¹‹åï¼Œå†æŒ‰ç…§ä»¥ä¸Šæ–‡ç« çš„å†…å®¹ï¼Œè¾¾åˆ°çš„çš„ç›®æ ‡æ˜¯é…ç½®çš„æ¯”ç‰¹å¸èŠ‚ç‚¹å¯ä»¥åœ¨è¿œç«¯è®¿é—®ã€‚å½“ç„¶è¿™å¹¶ä¸æ˜¯å¼ºåˆ¶ç›®çš„ï¼Œæˆ‘åªæ˜¯å¸Œæœ›å¼€å‘å’Œè¿è¡Œæ¯”ç‰¹å¸èŠ‚ç‚¹ä¸æ˜¯åœ¨ä¸€å°æœºå™¨ä¸Šã€‚åªè¦æ­å»ºçš„æ¯”ç‰¹å¸èŠ‚ç‚¹å¯ä»¥æ”¯æŒrpcè®¿é—®å³å¯ã€‚ ç†è§£æ¯”ç‰¹å¸å¦‚ä½•äº¤æ˜“äº¤æ˜“æ˜¯åŒºå—é“¾ç³»ç»Ÿçš„æ ¸å¿ƒã€‚åœ¨æ­å»ºä¸€ä¸ªæ¯”ç‰¹å¸èŠ‚ç‚¹å°±æ˜¯ä¸ºäº†å¯ä»¥åœ¨è¿™ä¸ªèŠ‚ç‚¹ä¸Šåˆ©ç”¨rpcå‘èµ·äº¤æ˜“ï¼Œè®©è¯»è€…ç†è§£æ¯”ç‰¹å¸äº¤æ˜“çš„å…·ä½“å½¢å¼ï¼ˆç¡®åˆ‡çš„è¯´æ˜¯æ„å»ºè£¸äº¤æ˜“çš„å…·ä½“å½¢å¼ï¼‰ã€‚å…³äºå¦‚ä½•æ„å»ºäº¤æ˜“å¯ä»¥å‚è€ƒæˆ‘çš„åšæ–‡ æ¯”ç‰¹å¸äº¤æ˜“çš„åŸºæœ¬é—®é¢˜ ä½¿ç”¨æ¯”ç‰¹å¸èŠ‚ç‚¹è¿›è¡Œäº¤æ˜“ è¯»äº†ä»¥ä¸Šä¸¤ç¯‡åšæ–‡ä¹‹åï¼ŒåŸºæœ¬å¯ä»¥ç†è§£å¦‚ä½•è¿›è¡Œæ¯”ç‰¹å¸è£¸äº¤æ˜“çš„æ„å»ºï¼Œåœ¨ä»¥ä¸‹è¿˜æ˜¯ç‰¹æ„åˆ—å‡ºæ ¸å¿ƒæ­¥éª¤ æå–UTXO å‘èµ·äº¤æ˜“ å¯¹äº¤æ˜“è¿›è¡Œç­¾å å…¨ç½‘å¹¿æ’­ ç†è§£æ¯”ç‰¹å¸å¦‚ä½•äº¤æ˜“ä¹‹åï¼Œå°±çŸ¥é“äº†å¦‚ä½•å‘èµ·ä¸€ä¸ªåŸºæœ¬çš„äº¤æ˜“ã€‚åŸºæœ¬äº¤æ˜“çš„æ–¹å¼å°±æ˜¯æŒ‰ç…§ä»¥ä¸Šçš„æ­¥éª¤è¿›è¡Œï¼ˆç‰¹æŒ‡ä½¿ç”¨æœ¬èº«æä¾›çš„cliæœåŠ¡æˆ–è€…curlè¿›è¡Œè®¿é—®ï¼‰ï¼Œå¦‚æœè¿˜éœ€è¦è¿›ä¸€æ­¥ï¼ˆå®šä¹‰è¿›ä¸€æ­¥ä¸ºä½¿ç”¨è‡ªå·±çš„rpcä»£ç è¿›è¡Œäº¤äº’å®Œæˆäº¤æ˜“ï¼‰ï¼Œæˆ‘è‡ªå·±æœ¬èº«ä¹Ÿå†™äº†ä¸€ä¸ªrpcæœåŠ¡çš„ä»£ç ï¼ŒæŒ‚åœ¨æˆ‘çš„githuä¸Šã€‚å¾ˆç®€é™‹ï¼Œä½†æ˜¯å¯ä»¥ç”¨ã€‚ å‡†å¤‡çš„åŸå› æœ‰ä»¥ä¸Šä¸¤æ–¹é¢çš„å‡†å¤‡å¤„äºè¿™ä¸ªç›®çš„ã€‚å…¶ä¸€ï¼Œå’Œæ¯”ç‰¹å¸æœ‰å…³çš„ä¸œè¥¿éƒ½éœ€è¦ä»æ­å»ºèŠ‚ç‚¹å¼€å§‹ï¼Œè™½ç„¶æœ€åçš„ä»£ç ä¸­æ— éœ€ä½¿ç”¨æˆ‘ä»¬æœ¬åœ°æ­å»ºçš„èŠ‚ç‚¹ï¼Œä»¥DNSæ¢æµ‹ä¸ºä¸»ï¼Œä½†è¿™æ˜¯åŸºç¡€ä¸­çš„åŸºç¡€ã€‚å…¶äºŒï¼Œä½¿ç”¨SPVé’±åŒ…æœ€ç»ˆä¹Ÿæ˜¯è¦è¿›è¡Œäº¤æ˜“ã€‚æˆ‘ä»¬åœ¨æœ€å¼€å§‹çš„åœ°æ–¹å°±ç¡®å®šæœ€ç»ˆçš„ç›®æ ‡ï¼Œé˜²æ­¢åœ¨å¤æ‚çš„åŒºå—é“¾é’±åŒ…æŠ€æœ¯ç»†èŠ‚ä¸­è¿·å¤±è‡ªå·±ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸¤ä¸ªç›®çš„ï¼Œæˆ‘æåˆ°çš„æ–‡ç« å»ºè®®é˜…è¯»ï¼Œå¦‚æœ‰å…¶ä»–ç–‘æƒ‘ä¹Ÿå¯ä»¥å‚è€ƒã€Šç²¾é€šæ¯”ç‰¹å¸ã€‹ä¸€ä¹¦ã€‚æˆ‘å¾ˆå¤šå¯¹æ¯”ç‰¹å¸æœ€åˆçš„ç–‘æƒ‘éƒ½åœ¨è¿™æœ¬ä¹¦ä¸­å¾—åˆ°äº†è§£ç­”ã€‚ ç†è§£åŸºçŸ³è¿›è¡Œä»¥åçš„æ­¥éª¤ä¹‹åï¼Œæ˜¯éœ€è¦æ˜ç™½æ„å»ºSPVé’±åŒ…çš„åŸºçŸ³æˆ‘ä»¬å®ç°äº¤æ˜“çš„å½¢å¼ æ­å»ºå…¨èŠ‚ç‚¹ï¼Œåˆ©ç”¨å…¨èŠ‚ç‚¹æä¾›çš„rpcæœåŠ¡è¿›è¡Œäº¤æ˜“ã€‚ä¹Ÿå°±æ˜¯å‡†å¤‡ç« èŠ‚çš„ç¬¬äºŒéƒ¨åˆ†æ‰€æåˆ°çš„æ–¹æ³• åˆ©ç”¨SPVèŠ‚ç‚¹ï¼Œå€ŸåŠ©SPVèŠ‚ç‚¹ï¼Œåˆ©ç”¨æ¯”ç‰¹å¸åè®®è¿›è¡Œäº¤äº’è¾¾åˆ°äº¤æ˜“çš„ç›®çš„ã€‚ Rome was not built in a dayç†è§£ç¬¬ä¸€ç‚¹ï¼Œæ›´æœ‰åŠ©äºç†è§£ç¬¬äºŒç‚¹ã€‚ä¸ºæ­¤æˆ‘ä¸“é—¨ç»˜åˆ¶äº†å¦‚ä¸‹çš„å›¾ ä»¥ä¸Šçš„å›¾ä½“ç°äº†SPVä½“ç³»çš„åŸºæœ¬å…³ç³»ï¼Œå¯¹è¿™å¼ å›¾æå‡ºä¸€ä¸ªç®€è¦çš„è¯´æ˜ ç¬¬ä¸€éƒ¨åˆ†æ˜¯å…¨èŠ‚ç‚¹çš„äº¤æ˜“æ–¹å¼ï¼Œå…¨èŠ‚ç‚¹ä¿å­˜å…¨éƒ¨çš„äº¤æ˜“æ•°æ®ï¼Œäº’ç›¸å…³è”ä¸”æ‹¥æœ‰å…¨éƒ¨æ•°æ®ã€‚æ˜¯åŸºæœ¬çš„æ¯”ç‰¹å¸ç½‘ç»œå’ŒåŸºæœ¬äº¤æ˜“å½¢å¼ ç¬¬äºŒéƒ¨åˆ†æ˜¯æˆ‘ä»¬éœ€è¦å…³æ³¨çš„ï¼ŒSPVèŠ‚ç‚¹éœ€è¦å¦‚ä½•æ„å»ºäº¤æ˜“ã€‚ä¸ºäº†æ¸…æ¥šçš„è¯´æ˜é—®é¢˜ï¼Œç‰¹åœ°æŠŠwalletå’Œspvä¸”åˆ†å¼€ï¼Œå…¶å®æˆ‘ä»¬è¦å¼€å‘çš„é’±åŒ…ä¸ºäº†è¾¾åˆ°å»ä¸­å¿ƒåŒ–äº¤æ˜“çš„ç›®çš„ï¼Œè¿™ä¸¤ä¸ªéƒ¨åˆ†æ˜¯ä¸å¯åˆ†å‰²çš„ã€‚walleté“¾æ¥ä¸€ä¸ªSPVèŠ‚ç‚¹ï¼ŒSPVèŠ‚ç‚¹ä¹Ÿé€šè¿‡p2pç½‘ç»œæ¥å…¥æ¯”ç‰¹å¸ç½‘ç»œã€‚ç‰¹åˆ«å¼ºè°ƒï¼šSPVèŠ‚ç‚¹ä¹Ÿéœ€è¦å’Œå…¨èŠ‚ç‚¹ç›¸äº’é“¾æ¥æ‰å¯ä»¥å‘æŒ¥æ­£å¸¸çš„åŠŸèƒ½ï¼Œå¦åˆ™spvèŠ‚ç‚¹æ•°æ®ç¼ºå¤±ä¸è¶³ä»¥å®Œæˆæ­£å¸¸åŠŸèƒ½ã€‚SPVèŠ‚ç‚¹å‘é€loadfilteræ¶ˆæ¯ç»™fullNodeã€‚fullNodeè®¾ç½®è¿‡æ»¤å™¨ååŠ è½½è¿‡æ»¤åçš„æ•°æ®ç»™SPVèŠ‚ç‚¹ã€‚å…¶ä¸­ç”¨åˆ°çš„è¿‡æ»¤å™¨æˆ‘å¸ƒéš†è¿‡æ»¤å™¨ã€‚ä»–ä»¬ä¹‹é—´çš„æ¶ˆæ¯è§„èŒƒéµå¾ªæ¯”ç‰¹å¸ç½‘ç»œåè®®ã€‚æ­¤å¤–SPVèŠ‚ç‚¹ä¹Ÿéœ€è¦å­˜å‚¨å®Œæ•´çš„blockheaderç”¨äºæ¶ˆæ¯çš„éªŒè¯ã€‚ æ¯”ç‰¹å¸ç½‘ç»œåè®®è¯·å‚è€ƒå¦‚ä¸‹ https://en.bitcoin.it/wiki/Protocol_documentation è¯·åŠ¡å¿…ä»”ç»†ç ”è¯»ï¼Œå®ƒå¯¹äºåç»­çš„å·¥ä½œæ„ä¹‰éå‡¡ã€‚ä¹Ÿéœ€è¦åå¤å‚é˜…ï¼ åŸºç¡€ç†è®ºçš„å‡†å¤‡å·¥ä½œå…ˆå†™åˆ°è¿™é‡Œï¼Œåç»­çš„ç»†èŠ‚ä¼šæˆä¸ºä¸€ä¸ªç³»åˆ—æ–‡ç« ã€‚æœ¬æ–‡ä¹Ÿä¼šåœ¨åç»­æœ‰è¾ƒå¤§å¹…åº¦çš„æ”¹åŠ¨ã€‚ å¾…ç»­â€¦","categories":[{"name":"æŠ€æœ¯æ–‡ç« ","slug":"æŠ€æœ¯æ–‡ç« ","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/"}],"tags":[{"name":"SPVé’±åŒ…","slug":"SPVé’±åŒ…","permalink":"https://imzy.vip/tags/SPV%E9%92%B1%E5%8C%85/"},{"name":"ç³»åˆ—æ–‡ç« ","slug":"ç³»åˆ—æ–‡ç« ","permalink":"https://imzy.vip/tags/%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0/"},{"name":"äº¤æ˜“","slug":"äº¤æ˜“","permalink":"https://imzy.vip/tags/%E4%BA%A4%E6%98%93/"}]},{"title":"rustå·¥ç¨‹å®è·µ","slug":"rustå·¥ç¨‹å®è·µ","date":"2020-02-16T21:22:27.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/10047/","link":"","permalink":"https://imzy.vip/posts/10047/","excerpt":"rustå·¥ç¨‹å®è·µæœ¬æ–‡æ˜¯rustçš„å®è·µè®°å½•ï¼Œä¸»è¦ç”¨æ¥è®°å½•rustå†™å·¥ç¨‹ä»£ç ï¼Œå’Œåœ¨tikvçš„talent-planä¸­å­¦ä¹ åˆ°çš„ä»£ç å¸¸è¯†ã€‚è¿™é‡Œåˆ—å‡ºçš„æ˜¯æ¯”è¾ƒé‡è¦ï¼Œä½†æ˜¯ä¸è¶³ä»¥å†™ä¸€ç¯‡æ–‡ç« æ¥è®¨è®ºçš„ã€‚é•¿æœŸæ›´æ–°ã€‚ä»¥åè€ƒè™‘åŠ ä¸ªç›®å½•æ–¹ä¾¿æŸ¥è¯¢ã€‚","text":"rustå·¥ç¨‹å®è·µæœ¬æ–‡æ˜¯rustçš„å®è·µè®°å½•ï¼Œä¸»è¦ç”¨æ¥è®°å½•rustå†™å·¥ç¨‹ä»£ç ï¼Œå’Œåœ¨tikvçš„talent-planä¸­å­¦ä¹ åˆ°çš„ä»£ç å¸¸è¯†ã€‚è¿™é‡Œåˆ—å‡ºçš„æ˜¯æ¯”è¾ƒé‡è¦ï¼Œä½†æ˜¯ä¸è¶³ä»¥å†™ä¸€ç¯‡æ–‡ç« æ¥è®¨è®ºçš„ã€‚é•¿æœŸæ›´æ–°ã€‚ä»¥åè€ƒè™‘åŠ ä¸ªç›®å½•æ–¹ä¾¿æŸ¥è¯¢ã€‚ åœ¨å†™libçš„æ—¶å€™ï¼Œç›´æ¥å»ºç«‹ï¼ˆåœ¨srcä¸‹ï¼‰binæ–‡ä»¶å¤¹ï¼Œbinæ–‡ä»¶ä¸‹çš„ä¸œè¥¿æ— éœ€åœ¨lib.rsä¸­å£°æ˜å°±å¯ä»¥ä½¿ç”¨ã€‚ä¸”binæ–‡ä»¶å¤¹ä¸‹çš„rustæ–‡ä»¶æ— è®ºæ€æ ·å‘½åï¼Œåœ¨æ–‡ä»¶ä¸­åªè¦æœ‰fn main()å°±å¯ä»¥ç›´æ¥è¿è¡Œã€‚ä¹Ÿæ— éœ€åœ¨Cargo.tomlæ–‡ä»¶ä¸­è¿›è¡Œç‰¹æ®Šå£°æ˜ã€‚åœ¨murmelå’Œtalent-planä¸­å·²ç»è¯æ˜è¿™ä¸€ç‚¹ã€‚ æƒ³è¦è¿›è¡Œæµ‹è¯•ï¼Œè¯·åœ¨srcçš„åŒçº§ç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ªtestsæ–‡ä»¶å¤¹ï¼ˆæ³¨æ„æ‹¼å†™ï¼Œå¿…é¡»æ˜¯testsï¼‰ã€‚ç„¶åå°±å¯ä»¥ä½¿ç”¨cargo testå‘½ä»¤ã€‚ [dev-dependencies] é€‚ç”¨äºtests example benchmarksã€‚æ­£å¼æ„å»ºçš„æ—¶å€™ä¸ä¼šç”¨åˆ°è¿™ä¸ª æ³¨é‡æµ‹è¯•ï¼Œå› ä¸ºæµ‹è¯•å®šä¹‰äº†ä»€ä¹ˆæ˜¯æ­£ç¡®è¡Œä¸ºã€‚æ‰€ä»¥é˜…è¯»æºç ä¹Ÿè¦çœ‹æµ‹è¯• Re-exportæŠ€å·§ã€‚å‡å®šæˆ‘ä»¬æœ‰ä¸€ä¸ªlib kvsã€‚ç›®å½•ä¸ºkvs/src/lib.rs åœ¨libä¸­å®šä¹‰äº†mod kvã€‚å¦æœ‰æ–‡ä»¶å¤¹kvs/src/kv.rsã€‚ï¼ˆè¯¥æ–‡ä»¶ä¸­å®šä¹‰KvStore structï¼‰å¦‚ä½•å®ç°ä½¿ç”¨kvs::KvStoreå³å¯æ­£ç¡®å®šä½ã€‚ï¼ˆä¸åšç‰¹æ®Šå¤„ç†ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨kvs::kv::KvStoreï¼‰ã€‚æ­£ç¡®åšæ³•æ˜¯åœ¨libä¸­ä½¿ç”¨pub use KvStoreã€‚è¿™ç§æŠ€å·§å«åšRe-exportã€‚å¯¼å…¥ä¸Šä¸€çº§å³å¯ã€‚ï¼ˆå„ç§æ— æ³•æ­£ç¡®å¼•å…¥ï¼Œæˆ–è€…éœ€è¦ç®€åŒ–è·¯å¾„çš„ï¼Œå…¨éƒ¨è€ƒè™‘è¿™ä¸ªæ–¹æ³•ï¼‰ã€‚ç†è®ºåŸºç¡€å¯å‚é˜…ã€Šæ·±å…¥æµ…å‡ºrustã€‹çš„ä½¿ç”¨è®¾æ–½/æ¨¡å—ç®¡ç†ç« èŠ‚ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"rust","slug":"rust","permalink":"https://imzy.vip/tags/rust/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://imzy.vip/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"è®°å½•ä¸€æ¬¡çƒ¦äººçš„ç¼–è¯‘å‡ºé”™é—®é¢˜","slug":"è®°å½•ä¸€æ¬¡çƒ¦äººçš„ç¼–è¯‘å‡ºé”™é—®é¢˜","date":"2019-12-23T18:08:35.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/21279/","link":"","permalink":"https://imzy.vip/posts/21279/","excerpt":"è®°å½•ä¸€æ¬¡çƒ¦äººçš„ç¼–è¯‘é—®é¢˜ï¼Œå› ä¸ºè¿™ä¸ªè¿‡ç¨‹å¯ä»¥èƒ½å¯èƒ½ä¼šå¯¹ä»¥åè§£å†³ç±»ä¼¼é—®é¢˜æœ‰ä¸€å®šçš„å‚è€ƒæ€§ï¼Œç‰¹åœ°åšä¸ªè®°å½•ã€‚","text":"è®°å½•ä¸€æ¬¡çƒ¦äººçš„ç¼–è¯‘é—®é¢˜ï¼Œå› ä¸ºè¿™ä¸ªè¿‡ç¨‹å¯ä»¥èƒ½å¯èƒ½ä¼šå¯¹ä»¥åè§£å†³ç±»ä¼¼é—®é¢˜æœ‰ä¸€å®šçš„å‚è€ƒæ€§ï¼Œç‰¹åœ°åšä¸ªè®°å½•ã€‚ æˆ‘æƒ³åšä»€ä¹ˆæˆ‘ä¹‹æ‰€ä»¥è¦åšè¿™ä¸ªï¼Œæ˜¯å› ä¸ºæˆ‘æƒ³å€Ÿç”¨murmelåº“ï¼Œåœ¨murmelåŸºç¡€ä¸Šæ‹“å±•åŠŸèƒ½ã€‚å…¶ä¸­murmelçš„æ¶ˆæ¯ç±»å‹å®šä¹‰åœ¨rust-bitcoinåº“ä¸­ã€‚ä¸ºäº†æ‹“å±•åŠŸèƒ½ï¼Œæˆ‘å‡†å¤‡å…ˆfork rust-bitcoiné­”æ”¹rust-bitcoinï¼ŒåŠ æˆ‘æƒ³è¦çš„æ¶ˆæ¯ã€‚ç„¶åfork murmelï¼Œé­”æ”¹murmelå¤–å¸¦è®©murmelä¾èµ–æˆ‘ä¿®æ”¹è¿‡çš„rust-bitcoinã€‚ å¬èµ·æ¥æœ‰ç‚¹åƒæŠŠå¤§è±¡æ”¾å†°ç®±éœ€è¦å‡ æ­¥ã€‚æ˜¯çš„ï¼Œæˆ‘å…ˆæ”¹rust-bitcoin(è¿™ä¸ªåº“æ˜¯åºåˆ—åŒ–æ¯”ç‰¹å¸æ¶ˆæ¯çš„)ï¼Œç„¶åæˆ‘ä¿®æ”¹murmelï¼Œè®©ä»–ä¾èµ–æ”¹è¿‡çš„rust-bitcoinã€‚æœ€åæˆ‘å¾—åˆ°ä¸€ä¸ªå¯ä»¥ç”¨çš„SPVèŠ‚ç‚¹ã€‚å®Œå·¥ï¼ æˆ‘é‡åˆ°äº†ä»€ä¹ˆé—®é¢˜å…ˆé­”æ”¹rust-bitcoinã€‚è¿™ä¸ªå¾ˆé¡ºåˆ©ã€‚ç„¶åforkäº†murmelï¼Œç„¶åç¼–è¯‘ä¸è¿‡ã€‚æ­¤å¤„åº”è¯¥æœ‰ç¼–è¯‘é”™è¯¯ï¼ˆä½†æˆ‘ä¸æƒ³åˆ—å‡ºæ¥ï¼‰ï¼Œæ€»ä½“æ„æ€æ˜¯è¯´æœ‰çš„ç±»å‹ Hash æ²¡æœ‰å®ç°serdeçš„éƒ¨åˆ†traitã€‚ æˆ‘çš„æŠ˜è…¾è¿‡ç¨‹è¿™ä¸ªé—®é¢˜å¾ˆå¥‡æ€ªï¼Œæˆ‘ä¹‹å‰git cloneçš„ç‰ˆæœ¬æ˜¯å¯ä»¥ç¼–è¯‘çš„ï¼Œè€Œä¸”çœ‹æäº¤è®°å½•è¿™ä¸ªé¡¹ç›®è¿™å‡ ä¸ªæœˆå¹¶æ²¡æœ‰æ›´æ–°ã€‚ç„¶åç¼–è¯‘ä¹‹å‰å¤‡ä»½çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ç¼–è¯‘ã€‚cloneçš„æ–°ç‰ˆæœ¬ç¼–è¯‘ï¼Œåˆå¤±è´¥ã€‚é‚£å…ˆå¯¹æ¯”ä¸‹Cargo.lockæ–‡ä»¶ã€‚ä½¿ç”¨Beyond Compareå¯¹æ¯”ã€‚å‘ç°ä¸¤ä»½æ–‡ä»¶çš„çœŸçš„ä¸ä¸€æ ·ã€‚é—®é¢˜æ¥äº†ï¼Œä»£ç ä¸€æ ·ï¼Œä¸€ä¸ªå¯ä»¥ç¼–è¯‘ä¸€ä¸ªä¸å¯ä»¥ã€‚æ‰€ä»¥å…ˆæ›¿æ¢äº†lockï¼Œå‘ç°äº†ä¸€ä¸ªäº‹å®ï¼šç”¨ä¹‹å‰å¯ä»¥ç¼–è¯‘ç‰ˆæœ¬çš„lockæ–‡ä»¶å°±å¯ä»¥æ­£å¸¸ç¼–è¯‘ï¼Œå¦‚æœåˆ å‡ºlockæ–‡ä»¶ä¹‹åè‡ªåŠ¨ç”Ÿæˆåˆ™æ— æ³•ç¼–è¯‘ã€‚ ç„¶åå¼€å§‹å›é€€ç‰ˆæœ¬ï¼Œå› ä¸ºä¹‹å‰å¯ä»¥ç¼–è¯‘ã€‚çŒœæƒ³æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œä½¿ç”¨git log æŸ¥çœ‹ç‰ˆæœ¬ã€‚ç¥å¥‡çš„æƒ…å†µå‡ºç°äº†ï¼Œä¸€ä¸ªä¸€ä¸ªrevå›é€€ä¹‹åç«Ÿç„¶éƒ½ä¸å¯ä»¥ç¼–è¯‘ã€‚ä¸€èˆ¬æ¥è¯´å›é€€ç‰ˆæœ¬ä¹‹ååŸºæœ¬æ˜¯å¯ä»¥æ‰¾åˆ°å¯ä»¥ç¼–è¯‘ç‰ˆæœ¬çš„ã€‚ç„¶åæŸ¥çœ‹Tagï¼Œå‘ç°åªæœ‰ä¸¤ä¸ªTagï¼Œç›´æ¥åˆ‡æ¢åˆ°å¯¹åº”çš„Tagä¸Šç«Ÿç„¶ä¹Ÿä¸å¯ä»¥ç¼–è¯‘ã€‚ç®—äº†ï¼Œé‚£ç›´æ¥å»ä¸‹è½½githubä¸Šçš„releaseç‰ˆæœ¬ã€‚å‘ç°è¿˜æ˜¯ä¸å¯ä»¥ç¼–è¯‘â€¦ ç»è¿‡ä¹‹å‰çš„æŠ˜è…¾ï¼Œå®Œå…¨ä¸çŸ¥æ‰€æªã€‚æœ¬æ¥æƒ³çš„æ˜¯ä¸€ä¸ªç‰ˆæœ¬ä¸€ä¸ªç‰ˆæœ¬çš„å›é€€ï¼Œæ‰¾åˆ°ä¸€ä¸ªå¯ä»¥ç¼–è¯‘çš„ç‰ˆæœ¬ï¼Œç„¶åæŸ¥çœ‹ä»–ä¾èµ–çš„å“ªä¸ªç‰ˆæœ¬çš„rust-bitcoinï¼Œç„¶åæŠŠè¿™ä¸ªrust-bitcoinæ”¹æˆæœ¬åœ°ä¾èµ–ã€‚ç°åœ¨å‘ç°éƒ½ä¸å¯ä»¥ç¼–è¯‘â€¦æ²¡åŠæ³•éœ€è¦é˜…è¯»ã€ŠCargo Bookã€‹çœ‹çœ‹æœ‰æ²¡æœ‰è§£å†³åŠæ³•ã€‚æ¯•ç«Ÿä»–ä¹‹å‰æ˜¯å¯ä»¥ç¼–è¯‘çš„ã€‚çœ‹äº†ä¸€å¤œã€ŠCargo Bookã€‹ä¹‹åå‘ç°äº‹å®ï¼š Cargo.tomlæ–‡ä»¶ä¸­versionçš„ä¾èµ–æ–¹å¼æ˜¯ä¾æ‰˜äºcartes.ioçš„ï¼Œå¹¶ä¸æ˜¯ä¾èµ–githubã€‚ ä¸Šä¼ åˆ°crates.ioçš„åŒ…ä¸€å®šæ˜¯å¯ä»¥ç¼–è¯‘çš„ã€‚ åŸºäºä»¥ä¸Šä¸¤ç‚¹ï¼Œé‚£å¯ä»¥è€ƒè™‘ä»crates.ioä¸Šcloneä¸€ä¸ªåŒ…ä¸‹æ¥è¿›è¡Œç¼–è¯‘ã€‚éœ€è¦å®‰è£…ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…cargo cloneã€‚ä½¿ç”¨cargo cloneæ‹‰ä¸€ä¸ªmurmelã€‚å‘ç°å¯ä»¥ç¼–è¯‘ã€‚OKï¼Œç°åœ¨é—®é¢˜è§£å†³ä¸€å¤§åŠäº†ã€‚crates.ioä¸Šçš„ç‰ˆæœ¬æ˜¯ä¸€å®šå¯ä»¥ç¼–è¯‘çš„ã€‚ç„¶åå†ä½¿ç”¨å¦ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„åŒ…cargo treeå»åˆ†æä¸‹å¯ä»¥ç¼–è¯‘ç‰ˆæœ¬çš„murmelçš„ä¾èµ–å…³ç³»ã€‚æ³¨æ„ï¼šè¿™ä¸ªcargo treeæ˜¯ä¾èµ–lockæ–‡ä»¶åˆ†æä¾èµ–å…³ç³»çš„ï¼Œå¿…é¡»åœ¨ä¸€ä¸ªçœŸæ­£çš„é¡¹ç›®ä¸‹ä¸‹å»è¿è¡Œï¼ŒåŠ å…¥åœ¨work-spaceçš„ç›®å½•ä¸‹æ˜¯æ— æ³•åˆ†æçš„ã€‚å¯ä»¥çœ‹åˆ°å‡ºå¯¹åº”çš„rust-bitcoinç‰ˆæœ¬ã€‚æ¥ä¸‹æ¥ç›´æ¥ä½¿ç”¨cargo cloneå»æ‹‰å¯ä»¥ç¼–è¯‘ç‰ˆæœ¬çš„rust-bitcoinã€‚ä¸‹è½½ä¸‹æ¥ä¹‹åå°è¯•ä¸‹æ˜¯å¦å¯ä»¥ç›´æ¥ç¼–è¯‘ã€‚å‘ç°rust-bitcoinç›´æ¥ç¼–è¯‘æ²¡æœ‰é—®é¢˜ã€‚ç„¶åæŠŠmurmelä¸­çš„ä¾èµ–æŒ‡å‘æˆ‘ä»¬å¯ä»¥ç¼–è¯‘çš„rust-bitcoinã€‚æ³¨æ„ï¼šmurmelå’Œrust-bitcoinå¿…é¡»åœ¨åŒä¸€ä¸ªå¤§çš„cargoé¡¹ç›®ä¸‹ã€‚å¦åˆ™ç¼–è¯‘murmelçš„æ—¶å€™æ‰¾ä¸åˆ°rust-bitcoinã€‚å¯ä»¥ä½¿ç”¨work-spaceçš„æ–¹å¼å»ç»„ç»‡é¡¹ç›®ã€‚é—æ†¾çš„æ˜¯è¿™ä¹ˆåšç«Ÿç„¶è¿˜ä¸è¡Œã€‚ emmmï¼Œåˆ°è¿™é‡Œå¿«æ”¾å¼ƒäº†ã€‚ä¸è¿‡åˆ«æ…Œï¼Œå†çœ‹çœ‹ã€ŠCargo Bookã€‹ã€‚è¿˜å¥½ï¼Œcargo book ä¸Šè¿˜æœ‰ä¸€ä¸ªè§£å†³åŠæ³•é‚£å°±æ˜¯ä½¿ç”¨Cargo.Patchã€‚ https://doc.rust-lang.org/edition-guide/rust-2018/cargo-and-crates-io/replacing-dependencies-with-patch.html https://learnku.com/docs/cargo-book/2018/specifying-dependencies/4773 ä¸¤ä»½èµ„æ–™ä¸€èµ·çœ‹ã€‚æˆ‘ä»¬ç›´æ¥ä½¿ç”¨patchã€‚ç„¶ååˆå‡ºç°é—®é¢˜äº†â€¦â€¦åŸæ¥æˆ‘ä»¬çš„é¡¹ç›®æ˜¯ä¸€ä¸ªworkspaceä¸‹é¢æœ‰ä¸¤ä¸ªå¹³è¡Œçš„é¡¹ç›®murmel å’Œ rust-bitcoinã€‚patchä¸èƒ½è¿™ä¹ˆåšã€‚oké‚£è°ƒæ•´æ–‡ä»¶ç»“æ„ã€‚æŠŠrust-bitcoinè°ƒæ•´åˆ°murmelæ–‡ä»¶å¤¹ä¸­ï¼Œå’Œmurmelçš„Cargo.tomlä¸€çº§ã€‚ç„¶ååœ¨Cargo.tomlåœ¨ä½¿ç”¨å¦‚ä¸‹ 123456[dependencies.bitcoin]version &#x3D; &quot;0.21&quot;features &#x3D; [&quot;serde&quot;][patch.crates-io]bitcoin &#x3D; &#123; path &#x3D; &quot;bitcoin&quot; &#125; patchè¿™ä¸€è¡Œæ˜¯æ–°æ·»åŠ çš„ã€‚pathä»£è¡¨è·¯å¾„ï¼Œä»crates.ioä¸Šä¸‹ä¸‹æ¥çš„rust-bitcoinæ–‡ä»¶å¤¹åç§°ä¸ºâ€œbitcoinâ€ã€‚ ç¼–è¯‘é€šè¿‡ã€‚ ç„¶åmurmelå’Œrust-bitcoinéƒ½åœ¨æœ¬åœ°äº†ã€‚æƒ³æ”¹å“ªä¸ªè¯¥å“ªä¸ªã€‚å®Œå·¥ã€‚ æœ€åï¼Œè¿˜æœ‰æ”¹è¿›ä½™åœ°ã€‚æŠŠä¿®æ”¹è¿‡rust-bitcoinä¸Šä¼ åˆ°githubï¼Œç„¶ååœ¨patchä¸­ä¾èµ–{git=â€xxxxx.gitâ€ï¼Œrev = â€œxxxxxâ€}ã€‚æ›´é€‚åˆä»£ç ç®¡ç†ï¼Œä¸ç”¨ä¾èµ–æœ¬åœ°äº†ã€‚æˆ‘å› ä¸ºè¦é¢‘ç¹ä¿®æ”¹ä»£ç ï¼Œæ‰€ä»¥å…ˆä¸ä¾èµ–githubä¸Šçš„ç‰ˆæœ¬ã€‚ æ€»ç»“çŸ¥è¯†ç‚¹ Cargoä¸­ä¾èµ–æ–¹å¼æœ‰ä¸‰ç§ ä¾èµ–æœ¬åœ° ä¾èµ–git {git = â€œxxxâ€, rev = â€œxxxxâ€} ä¾èµ–crates.ioä¸Šçš„åŒ…ã€‚ æœ€ç»ˆè§£å†³çš„åŠæ³•æ˜¯ å®‰è£…Cargo tree å’Œ Cargo Clone ä»cratesä¸Šcloneä¸€ä¸ªå¯ä»¥ç¼–è¯‘çš„murmel ä½¿ç”¨cargo treeçœ‹ä¾èµ–å…³ç³»ã€‚ï¼ˆå…¶å®ç›´æ¥çœ‹Cargo.tomlä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œé—®é¢˜åœ¨äºçœ‹èµ·æ¥éƒ½æ²¡å·®åˆ«ä½†æ˜¯å°±æ˜¯ç¼–è¯‘ä¸è¿‡ï¼Œä»¥å‰çš„å¤‡ä»½åˆç¡®å®å¯ä»¥ç¼–è¯‘è¿‡ï¼‰ ä½¿ç”¨cargo cloneæå–èƒ½ç¼–è¯‘ç‰ˆæœ¬çš„rust-bitcoin æŠŠmurmelä¾èµ–çš„èƒ½ç¼–è¯‘çš„ç‰ˆæœ¬çš„rust-bitcoinæ”¾å€’murmelç›®å½•ä¸‹ ä½¿ç”¨cargo patchæ‰“è¡¥ä¸ï¼Œä½¿murmelä¾èµ–çš„rust-bitcoinæŒ‡å‘æœ¬åœ°ã€‚ ç¼–è¯‘é€šè¿‡äº†ï¼Œç°åœ¨murmelå’Œrust-bitcoinéƒ½åœ¨æœ¬åœ°ï¼Œå¯ä»¥è‡ªç”±æ›´æ”¹äº†ã€‚ å¯ä»¥æŠŠè‡ªå·±æ”¹è¿‡çš„rust-bitcoinä¸Šä¼ åˆ°githubã€‚PatchæŒ‡å‘githubä»ç‰ˆæœ¬ç®¡ç†è§’åº¦æ›´å¥½ç‚¹ã€‚ ç©·ä¸¾æ³•è§£å†³é—®é¢˜ã€‚è¦æ˜¯è¿˜ä¸è¡Œï¼Œé‚£æˆ‘çœŸæ²¡åŠæ³•äº†ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"rust","slug":"rust","permalink":"https://imzy.vip/tags/rust/"},{"name":"é—®é¢˜ç»éªŒ","slug":"é—®é¢˜ç»éªŒ","permalink":"https://imzy.vip/tags/%E9%97%AE%E9%A2%98%E7%BB%8F%E9%AA%8C/"}]},{"title":"SPVèŠ‚ç‚¹è·å–merkerblockæ•°æ®","slug":"SPVèŠ‚ç‚¹è·å–merkerblockæ•°æ®","date":"2019-12-10T14:54:22.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/2926/","link":"","permalink":"https://imzy.vip/posts/2926/","excerpt":"åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­æåˆ°äº†SPVèŠ‚ç‚¹ï¼Œä¸€ç›´è¯´è¦å†™æ–‡ç« è¯´æ˜æ˜¯ä»€ä¹ˆæ˜¯æ¯”ç‰¹å¸SPVèŠ‚ç‚¹ã€‚ç½‘ä¸Šæœ‰å¾ˆå¤šæ–‡ç« æ¥æè¿°è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹‹å‰ä¹Ÿå†™è¿‡ç›¸å…³çš„æ–‡ç« ï¼Œæœ‰å…´è¶£çš„è¯å¯ä»¥å›å»æŸ¥é˜…ç›¸å…³é—®é¢˜ã€‚ç®€å•æ¥è¯´ï¼ŒSPVèŠ‚ç‚¹æœ€ä¸»è¦çš„ç‰¹ç‚¹å°±æ˜¯ï¼šåªå­˜å‚¨å¤´ä¿¡æ¯ï¼ˆBlockHeaderï¼‰ã€‚æ‰€ä»¥ä»–åšåˆ°äº†å­˜å‚¨æ•°æ®è§„æ¨¡å¤§å¹…å‡å°‘ï¼Œåªæœ‰å®Œæ•´æ•°æ®çš„åƒåˆ†ä¹‹ä¸€çš„æ°´å¹³ã€‚æ‰€ä»¥SPVèŠ‚ç‚¹é€‚åˆåœ¨å­˜å‚¨æœ‰é™çš„è®¾å¤‡ä¸Šè¿è¡Œï¼Œæ¯”å¦‚æ‰‹æœºå®¢æˆ·ç«¯ã€‚ä½†æ˜¯æœ¬æ–‡çš„é‡ç‚¹ä¸æ˜¯é‡å¤è®²è¿°SPVèŠ‚ç‚¹çš„æ¦‚å¿µçš„ï¼Œè€Œæ˜¯æ¢ä¸€ä¸ªè§’åº¦ï¼Œä»æ¯”ç‰¹å¸ç½‘ç»œåè®®å…¥æ‰‹ï¼Œæè¿°å¦‚ä½•ä»å…¨èŠ‚ç‚¹ä¸‹è½½SPVæ‰€éœ€çš„æ•°æ®åˆ°èŠ‚ç‚¹ä¸Šï¼ˆSPVèŠ‚ç‚¹ä¸Šï¼‰ã€‚è¿™ä¸ªæ‰€éœ€çš„çš„ä¿¡æ¯ï¼Œå°±æ˜¯merkerblockã€‚","text":"åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­æåˆ°äº†SPVèŠ‚ç‚¹ï¼Œä¸€ç›´è¯´è¦å†™æ–‡ç« è¯´æ˜æ˜¯ä»€ä¹ˆæ˜¯æ¯”ç‰¹å¸SPVèŠ‚ç‚¹ã€‚ç½‘ä¸Šæœ‰å¾ˆå¤šæ–‡ç« æ¥æè¿°è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹‹å‰ä¹Ÿå†™è¿‡ç›¸å…³çš„æ–‡ç« ï¼Œæœ‰å…´è¶£çš„è¯å¯ä»¥å›å»æŸ¥é˜…ç›¸å…³é—®é¢˜ã€‚ç®€å•æ¥è¯´ï¼ŒSPVèŠ‚ç‚¹æœ€ä¸»è¦çš„ç‰¹ç‚¹å°±æ˜¯ï¼šåªå­˜å‚¨å¤´ä¿¡æ¯ï¼ˆBlockHeaderï¼‰ã€‚æ‰€ä»¥ä»–åšåˆ°äº†å­˜å‚¨æ•°æ®è§„æ¨¡å¤§å¹…å‡å°‘ï¼Œåªæœ‰å®Œæ•´æ•°æ®çš„åƒåˆ†ä¹‹ä¸€çš„æ°´å¹³ã€‚æ‰€ä»¥SPVèŠ‚ç‚¹é€‚åˆåœ¨å­˜å‚¨æœ‰é™çš„è®¾å¤‡ä¸Šè¿è¡Œï¼Œæ¯”å¦‚æ‰‹æœºå®¢æˆ·ç«¯ã€‚ä½†æ˜¯æœ¬æ–‡çš„é‡ç‚¹ä¸æ˜¯é‡å¤è®²è¿°SPVèŠ‚ç‚¹çš„æ¦‚å¿µçš„ï¼Œè€Œæ˜¯æ¢ä¸€ä¸ªè§’åº¦ï¼Œä»æ¯”ç‰¹å¸ç½‘ç»œåè®®å…¥æ‰‹ï¼Œæè¿°å¦‚ä½•ä»å…¨èŠ‚ç‚¹ä¸‹è½½SPVæ‰€éœ€çš„æ•°æ®åˆ°èŠ‚ç‚¹ä¸Šï¼ˆSPVèŠ‚ç‚¹ä¸Šï¼‰ã€‚è¿™ä¸ªæ‰€éœ€çš„çš„ä¿¡æ¯ï¼Œå°±æ˜¯merkerblockã€‚ æœ¬æ–‡çš„å…³é”®å­—æ˜¯ï¼šâ€SPVèŠ‚ç‚¹â€ï¼Œâ€æ¯”ç‰¹å¸ç½‘ç»œåè®®â€ï¼Œâ€BIP47â€ äº¤æ˜“çš„åŸºæœ¬é—®é¢˜åœ¨æ¢è®¨å¦‚ä½•å’Œæ¯”ç‰¹å¸ç½‘ç»œè¿›è¡Œä¿¡æ¯äº¤äº’ä¹‹å‰å…ˆè§£é‡Šä¸€ä¸ªåŸºæœ¬é—®é¢˜ å®ç°æ¯”ç‰¹å¸äº¤æ˜“çš„å½¢å¼æœ‰å“ªäº›ï¼Ÿ è™½ç„¶å¦‚æ­¤æè¿°è¿™ä¸ªé—®é¢˜å¹¶ä¸å‡†ç¡®ï¼Œä½†æˆ‘è¿˜æ˜¯æŒ‰ç…§è‡ªå·±çš„ç†è§£å»è§£ç­”è¿™ä¸ªé—®é¢˜ï¼ŒåŒæ—¶å‚ç…§ä»¥ä¸Šçš„å›¾ç‰‡æ¥è¾…åŠ©è¯´æ˜ã€‚å®ç°äº¤æ˜“çš„å½¢å¼æœ‰ä¸¤ç±» å€ŸåŠ©äºæ¯”ç‰¹å¸å…¨èŠ‚ç‚¹ å€ŸåŠ©äºæ¯”ç‰¹å¸çš„SPVèŠ‚ç‚¹ å¯¹äº1ï¼Œå¾ˆæ˜ç¡®ã€‚æ¯”ç‰¹å…¨èŠ‚ç‚¹æœ‰åŒºå—é“¾å®Œæ•´çš„ä¿¡æ¯ã€‚è·å–ä»»ä½•äº¤æ˜“ä¿¡æ¯ï¼Œå‘èµ·äº¤æ˜“å’Œå¹¿æ’­ä¸åœ¨è¯ä¸‹ã€‚ é‡ç‚¹éœ€è¦è§£é‡Šçš„æ˜¯2ã€‚å€ŸåŠ©äºæ¯”ç‰¹å¸çš„SPVèŠ‚ç‚¹ã€‚ä¹‹å‰çš„æ–‡ç« æåˆ°è¿‡ï¼ŒSPVèŠ‚ç‚¹éœ€è¦æ ¹æ®merkel rootæ¥éªŒè¯äº¤æ˜“çš„å­˜åœ¨ï¼ˆæ³¨æ„ç”¨è¯ï¼Œæ˜¯éªŒè¯äº¤æ˜“çš„å­˜åœ¨ï¼Œåä¹‹æ˜¯ä¸è¡Œçš„ï¼‰ã€‚é‚£æŠŠè¿™ä¸ªé—®é¢˜æå‰ä¸€æ­¥ï¼Œå˜æˆSPVèŠ‚ç‚¹å¦‚ä½•è·å–è‡ªå·±æ‰€éœ€çš„merkle rootæ•°æ®ï¼Œè¿™ä¸ªå›¾å°±æ˜¯æ¥æè¿°è¿™ä¸ªé—®é¢˜çš„ ä¸€ä¸ªSPVçš„ä½“ç³»å¦‚å›¾æ‰€ç¤ºï¼Œwalletè¿æ¥ä¸€ä¸ªSPVçš„èŠ‚ç‚¹ï¼Œå› ä¸ºSPVèŠ‚ç‚¹ä¸å­˜åœ¨å®Œæ•´çš„æ•°æ®ï¼Œæ‰€ä»¥SPVå¿…ç„¶è¿æ¥å…¶ä»–çš„å®Œæ•´çš„èŠ‚ç‚¹ä»¥è·å–è‡ªå·±æ‰€éœ€è¦çš„æ•°æ®ã€‚èŠ‚ç‚¹Peers æŒ‡ä»£çš„å°±æ˜¯å…¶ä»–çš„Full Nodeã€‚ å®é™…æƒ…å†µä¸­ï¼Œå¦‚æœè¦å®ç°ä¸€ä¸ªç”¨æˆ·æ„ä¹‰ä¸Šçš„é’±åŒ…ï¼ˆè¿™ä¸ªæ„ä¹‰æŒ‡ï¼šç”¨æˆ·ç”¨è¿™æ ·ä¸€ä¸ªAppå°±å¯ä»¥å®ç°æ¯”ç‰¹å¸äº¤æ˜“ï¼‰wallet å’Œ SPVèŠ‚ç‚¹å¿…ç„¶ç´§å¯†ç›¸è¿ã€‚è¿™é‡Œä¸ºäº†è¯´æ˜æƒ…å†µï¼Œæ‰€ä»¥ç‰¹æ„åˆ†å¼€ã€‚SPVèŠ‚ç‚¹å’Œå…¶ä»–çš„Full Nodeä¹‹é—´æ˜¯å»ºç«‹P2Pç½‘ç»œçš„ï¼Œä»–ä»¬ç›´æ¥äº¤äº’å°±éœ€è¦å€ŸåŠ©æ¯”ç‰¹å¸ç½‘ç»œåè®®ã€‚ æœ¬æ–‡å‡å®šSPV Nodeå·²ç»å‘ç°åˆ°äº†å…¶ä»–çš„Full Node(æŒ‡å·²ç»çŸ¥é“äº†å…¶ä»–èŠ‚ç‚¹çš„IP)ï¼ŒèŠ‚ç‚¹å‘ç°å’Œå»ºç«‹è¿æ¥ä¹Ÿæ˜¯æ¯”ç‰¹å¸ç½‘ç»œåè®®ä¸­çš„ä¸“é—¨è¯é¢˜ï¼Œæœ¬æ–‡ä¸ºäº†ç®€åŒ–ï¼Œæš‚ä¸å¯¹å…¶è¿›è¡Œæ¢è®¨ã€‚ä»¥åæœ‰æœºä¼šå†å‡ºä¸€ç¯‡æ–‡ç« ã€‚å½“èŠ‚ç‚¹å»ºç«‹è¿æ¥ä¹‹åï¼ŒSPVèŠ‚ç‚¹å°†å‘èŠ‚ç‚¹å‘é€LoadFilter æ¶ˆæ¯ï¼Œè¿™æ¡æ¶ˆæ¯ä¼šè®¾ç½®å’Œå¸ƒéš†è¿‡æ»¤å™¨æœ‰å…³çš„å‚æ•°ï¼Œæ¯”å¦‚filterï¼Œéœ€è¦çš„çš„Hash Functionä¸ªæ•°ç­‰ã€‚Full Nodeä¼šæ ¹æ®è®¾ç½®è°ƒæ•´è‡ªå·±çš„å¸ƒéš†è¿‡æ»¤å™¨ã€‚æ¥ä¸‹æ¥ï¼ŒSPVèŠ‚ç‚¹å‘é€getdataæ¶ˆæ¯ç»™Full Nodeã€‚å› ä¸ºç¬¬ä¸€æ¬¡è®¾ç½®äº†å¸ƒéš†è¿‡æ»¤å™¨ï¼Œæ‰€ä»¥å…¨èŠ‚ç‚¹ä¼šåˆ©ç”¨å¸ƒéš†è¿‡æ»¤å™¨è¿‡æ»¤æ‰æ— å…³ä¿¡æ¯ï¼ŒæŠŠSPVæ„Ÿå…´è¶£çš„ä¿¡æ¯å‘é€å›æ¥ã€‚è¿™æ ·å°±å½¢æˆäº†ä¸€æ¬¡å®Œæ•´çš„ä¿¡æ¯äº¤äº’ã€‚ ä»¥ä¸Šçš„æè¿°ä¸­ï¼Œéœ€è¦æ˜ç¡®ä¸€ä¸ªå°çš„é—®é¢˜ Bloom Filtteråœ¨å“ªé‡Œï¼Ÿ Bloom Filtteråœ¨å…¨èŠ‚ç‚¹ä¸Šã€‚ä¸€ä¸ªæ”¯æŒå¸ƒéš†è¿‡æ»¤å™¨çš„èŠ‚ç‚¹ï¼Œéœ€è¦è‡ªå·±å®ç°å’ŒBloom Filtter æœ‰å…³çš„æ–¹æ³•ã€‚è¿™æ ·å®ƒå°±å¯ä»¥æ ¹æ®å…¶ä»–èŠ‚ç‚¹å›ä¼ å›æ¥çš„loadfiltter æ¶ˆæ¯æ¥è®¾ç½®ã€‚ç­‰åˆ°SPVèŠ‚ç‚¹éœ€è¦getdataçš„æ—¶åˆ»ï¼Œåˆ©ç”¨ä¹‹å‰å·²ç»è®¾ç½®å¥½çš„Bloom filtteræ¥è¿‡æ»¤ä¿¡æ¯ã€‚å‘é€merker rootå›å»ã€‚ ä»¥ä¸Šçš„å†…å®¹ï¼Œå¸Œæœ›å‚è€ƒbip47çš„æ–‡æ¡£æ¥ç†è§£ å¦‚ä½•ä»æ¯”ç‰¹å¸P2Pç½‘ç»œä¸­è·å–éœ€è¦çš„æ•°æ®ä»¥ä¸Šçš„å†…å®¹ä»‹ç»è¿‡ä¹‹åï¼Œå…¶å®å…¶å®å¦‚ä½•ä»æ¯”ç‰¹å¸P2Pç½‘ç»œä¸­è·å–ä¿¡æ¯å°±å·²ç»è¯´æ˜äº†ï¼Œä¸è¿‡ä¸ºäº†æ–‡ç« çš„å®Œæ•´æ€§ï¼ŒæŒ‰ç…§ä¹‹å‰çš„æƒ¯ä¾‹åˆ—å‡ºæ­¥éª¤ã€‚ä»¥ä¸‹æ­¥éª¤å‡å®šå·²ç»ç¡®å®šå¯¹ç­‰èŠ‚ç‚¹çš„ipï¼Œä¸”æˆ‘ä»¬éœ€è¦çš„æ•°æ®ä¸º merkerblock SPVèŠ‚ç‚¹å‘Full Nodeå‘é€ version æ¶ˆæ¯ ç­‰å¾…å¯¹ç­‰èŠ‚ç‚¹å‘é€ verack æ¶ˆæ¯ä¹‹åï¼ŒSPVèŠ‚ç‚¹å‘Full Nodeå‘é€ verack æ¶ˆæ¯ SPVèŠ‚ç‚¹å‘é€ loadfilter æ¶ˆæ¯ç»™Full Node SPVèŠ‚ç‚¹å‘é€ getdata æ¶ˆæ¯ç»™Full Node Full Node å›ä¼  merkerblock æ¶ˆæ¯ç»™SPVèŠ‚ç‚¹ å…¶ä¸­å‰ä¸¤ä¸ªèŠ‚ç‚¹ä¸ºæ¡æ‰‹çš„è¿‡ç¨‹ï¼Œå¿…é¡»æœ‰å‰ä¸¤ä¸ªæ­¥éª¤æ‰å¯ä»¥æ­£å¸¸çš„å‘é€æ¶ˆæ¯ã€‚æ¯”ç‰¹å¸ç½‘ç»œä¿¡æ¯çš„äº¤äº’å…¨éƒ¨ä¾èµ–è¿™ç§Messageçš„ä¼ é€’ã€‚è‡³äºæ¶ˆæ¯å…·ä½“è¯¥æ€ä¹ˆæ ·è¯·å‚è€ƒæ¯”ç‰¹å¸ç½‘ç»œåè®®çš„å®˜æ–¹wikiå’Œbitcoin-refrenceã€‚å› ä¸ºå®é™…å‘é€çš„æ•°æ®å’Œæ¯”ç‰¹å¸ç½‘ç»œåè®®wikiæ•°æ®æœ‰å‡ºå…¥ï¼Œæ‰€ä»¥è¿™ä¸¤ä»½ææ–™è¦å¯¹ç…§è¿›è¡Œã€‚å¦å¤–æ¯”ç‰¹å¸èŠ‚ç‚¹ä¹‹é—´å»ºç«‹çš„æ˜¯TCPé“¾æ¥ã€‚å¦‚æœéœ€è¦è‡ªå·±å†™ä»£ç çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨tokiosè¿™æ ·çš„åº“ï¼ˆparity-bitcoinä¹Ÿå€ŸåŠ©è¿™ä¸ªåº“ï¼‰ã€‚å› ä¸ºrustå†™èµ·æ¥ç›¸å¯¹éº»çƒ¦ï¼Œä¸‹é¢ç»™å‡ºä¸€ä¸ªpythonçš„å®ä¾‹ï¼Œä½“ç°è¿™ä¸ªè¿‡ç¨‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061from time import sleepfrom hashlib import sha256import structimport sysnetwork_string = &quot;f9beb4d9&quot;.decode(&quot;hex&quot;) # Mainnetdef send(msg,payload): ## Command is ASCII text, null padded to 12 bytes command = msg + ( ( 12 - len(msg) ) * &quot;\\00&quot; ) ## Payload length is a uint32_t payload_raw = payload.decode(&quot;hex&quot;) payload_len = struct.pack(&quot;I&quot;, len(payload_raw)) ## Checksum is first 4 bytes of SHA256(SHA256(&lt;payload&gt;)) checksum = sha256(sha256(payload_raw).digest()).digest()[:4] sys.stdout.write( network_string + command + payload_len + checksum + payload_raw ) sys.stdout.flush()## Create a version messagesend(&quot;version&quot;, &quot;71110100&quot; # ........................ Protocol Version: 70001 + &quot;0000000000000000&quot; # ................ Services: Headers Only (SPV) + &quot;c6925e5400000000&quot; # ................ Time: 1415484102 + &quot;00000000000000000000000000000000&quot; + &quot;0000ffff7f000001208d&quot; # ............ Receiver IP Address/Port + &quot;00000000000000000000000000000000&quot; + &quot;0000ffff7f000001208d&quot; # ............ Sender IP Address/Port + &quot;0000000000000000&quot; # ................ Nonce (not used here) + &quot;1b&quot; # .............................. Bytes in version string + &quot;2f426974636f696e2e6f726720457861&quot; + &quot;6d706c653a302e392e332f&quot; # .......... Version string + &quot;93050500&quot; # ........................ Starting block height: 329107 + &quot;00&quot; # .............................. Relay transactions: false)sleep(1)send(&quot;verack&quot;, &quot;&quot;)send(&quot;filterload&quot;, &quot;02&quot; # ........ Filter bytes: 2 + &quot;b50f&quot; # ....... Filter: 1010 1101 1111 0000 + &quot;0b000000&quot; # ... nHashFuncs: 11 + &quot;00000000&quot; # ... nTweak: 0/none + &quot;00&quot; # ......... nFlags: BLOOM_UPDATE_NONE)send(&quot;getdata&quot;, &quot;01&quot; # ................................. Number of inventories: 1 + &quot;03000000&quot; # ........................... Inventory type: filtered block + &quot;a4deb66c0d726b0aefb03ed51be407fb&quot; + &quot;ad7331c6e8f9eef231b7000000000000&quot; # ... Block header hash) ç®€å•è¯´æ˜ï¼Œç½‘ç»œçš„åè®®ä¸­çš„æ•°æ®ä¸ºhexå°ç«¯ç¼–ç ã€‚æ¶ˆæ¯éµå¾ªçš„å½¢å¼ä¸ºmessageHeader+payloadã€‚å…¶ä¸­payloadä¸ºå…·ä½“æ¶ˆæ¯çš„å½¢å¼ã€‚æ¯”ç‰¹å¸ç½‘ç»œåè®®ä¸­çš„ä»»ä½•æ¶ˆæ¯éƒ½éµå¾ªè¿™ä¸ªæ ¼å¼ã€‚ 1python get-merkle.py | nc localhost 8333 | hd æŒ‰ä»¥ä¸Šæ ¼å¼è¿è¡Œå³å¯ã€‚ï¼ˆå‡å®šèŠ‚ç‚¹æ­å»ºåœ¨æœ¬åœ°ï¼Œé‡‡ç”¨é»˜è®¤ç«¯å£ï¼‰ã€‚ncä¸ºnetcatï¼Œhdä¸ºhexdumpå·¥å…·ã€‚ ç»™å‡ºå‚è€ƒçš„èµ„æ–™ https://en.bitcoin.it/wiki/Protocol_documentation#filterload.2C_filteradd.2C_filterclear.2C_merkleblock https://bitcoin.org/en/developer-reference#message-headers","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"},{"name":"SPVèŠ‚ç‚¹","slug":"SPVèŠ‚ç‚¹","permalink":"https://imzy.vip/tags/SPV%E8%8A%82%E7%82%B9/"},{"name":"æ¯”ç‰¹å¸ç½‘ç»œåè®®","slug":"æ¯”ç‰¹å¸ç½‘ç»œåè®®","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/"}]},{"title":"å¦‚ä½•ç»™è¿‡é•¿æ•°ç»„å®ç°Debug","slug":"å¦‚ä½•ç»™è¿‡é•¿æ•°ç»„å®ç°Debug","date":"2019-11-26T18:34:18.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/64038/","link":"","permalink":"https://imzy.vip/posts/64038/","excerpt":"æ›´æ–°:ruståœ¨2021å¹´å®ç°äº†const genericsã€‚ä»¥ä¸‹çš„é—®é¢˜ä¸ä¼šå­˜åœ¨äº†ã€‚ åœ¨rustä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨Deriveç»™ç»“æ„ä½“å®ç°Debugå®ï¼ˆæ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨å®ç°çš„ï¼‰ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ç»™æ•°ç»„å®ç°çš„Debugåªæœ‰é•¿åº¦åœ¨32ä»¥ä¸‹çš„ï¼Œè¦æ˜¯è¶…è¿‡32ä½å°±å¾—è‡ªå·±å®ç°äº†ã€‚æ‰€ä»¥å‡ºç°äº†æœ¬æ–‡çš„é—®é¢˜","text":"æ›´æ–°:ruståœ¨2021å¹´å®ç°äº†const genericsã€‚ä»¥ä¸‹çš„é—®é¢˜ä¸ä¼šå­˜åœ¨äº†ã€‚ åœ¨rustä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨Deriveç»™ç»“æ„ä½“å®ç°Debugå®ï¼ˆæ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨å®ç°çš„ï¼‰ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ç»™æ•°ç»„å®ç°çš„Debugåªæœ‰é•¿åº¦åœ¨32ä»¥ä¸‹çš„ï¼Œè¦æ˜¯è¶…è¿‡32ä½å°±å¾—è‡ªå·±å®ç°äº†ã€‚æ‰€ä»¥å‡ºç°äº†æœ¬æ–‡çš„é—®é¢˜ å¦‚ä½•ç»™è¿‡é•¿æ•°ç»„æ‰‹åŠ¨å®ç°Debug Traitã€‚ä¸€ç•ªå°è¯•ä¹‹åï¼Œå‘ç°å¯ä»¥è¿™æ · 1234567891011121314151617use std::fmt;struct Array&lt;T&gt; &#123; data: [T; 1024]&#125;impl&lt;T: fmt::Debug&gt; fmt::Debug for Array&lt;T&gt; &#123; fn fmt(&amp;self, formatter: &amp;mut fmt::Formatter) -&gt; fmt::Result &#123; self.data[..].fmt(formatter) &#125;&#125;fn main() &#123; let array = Array &#123; data: [0u8; 1024] &#125;; println!(&quot;&#123;:?&#125;&quot;, array);&#125; æ³¨æ„ï¼šå¦‚æœç›´æ¥è€ƒè™‘ç»™[T; 1024]å®ç°Debugæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºè¿åäº†å­¤å„¿è§„åˆ™ã€‚Debug Taritå’Œ[T;1204]éƒ½æ²¡æœ‰åœ¨æœ¬crateä¸­å®šä¹‰ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"rust","slug":"rust","permalink":"https://imzy.vip/tags/rust/"}]},{"title":"å‘¨æŠ¥ï¼Œè½¯ä»¶æ„å»ºå’ŒèŒä¸šå‘å±•","slug":"å‘¨æŠ¥ï¼Œè½¯ä»¶æ„å»ºå’ŒèŒä¸šå‘å±•","date":"2019-11-18T16:40:50.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/51833/","link":"","permalink":"https://imzy.vip/posts/51833/","excerpt":"å¾æ—¥ä¸‰çœå¾èº« â€‹ â€”â€”ã€Šè®ºè¯­Â·å­¦è€Œã€‹ è·ç¦»ä¸Šæ¬¡é¢‘ç¹å‘å¸ƒæ–‡ç« ï¼Œå·²ç»è¿‡å»ä¸€ä¸ªå¤šæœˆäº†ã€‚è¿™ä¸€ä¸ªå¤šæœˆä»¥æ¥ï¼Œæˆ‘éå¸¸è®¤çœŸçš„ç ”ç©¶å…³äºå–æ¬¾é“¾äº¤æ˜“å’ŒSPVèŠ‚ç‚¹ç›¸å…³çš„é—®é¢˜ã€‚ä»Šæ—¥åˆå¬é—»leaderå…³äºè‡ªå·±è½¯ä»¶ç”Ÿæ¶¯çš„åæ€å’Œæ€»ç»“ã€‚leaderå¼€å‘ç”Ÿæ¶¯æ¼«é•¿ï¼Œåæ€äº¦æœ‰é‡å¤§ä»·å€¼ï¼Œæ•…ä½œæ–‡ã€‚","text":"å¾æ—¥ä¸‰çœå¾èº« â€‹ â€”â€”ã€Šè®ºè¯­Â·å­¦è€Œã€‹ è·ç¦»ä¸Šæ¬¡é¢‘ç¹å‘å¸ƒæ–‡ç« ï¼Œå·²ç»è¿‡å»ä¸€ä¸ªå¤šæœˆäº†ã€‚è¿™ä¸€ä¸ªå¤šæœˆä»¥æ¥ï¼Œæˆ‘éå¸¸è®¤çœŸçš„ç ”ç©¶å…³äºå–æ¬¾é“¾äº¤æ˜“å’ŒSPVèŠ‚ç‚¹ç›¸å…³çš„é—®é¢˜ã€‚ä»Šæ—¥åˆå¬é—»leaderå…³äºè‡ªå·±è½¯ä»¶ç”Ÿæ¶¯çš„åæ€å’Œæ€»ç»“ã€‚leaderå¼€å‘ç”Ÿæ¶¯æ¼«é•¿ï¼Œåæ€äº¦æœ‰é‡å¤§ä»·å€¼ï¼Œæ•…ä½œæ–‡ã€‚ åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‡ ä¹æ¯å®¶å…¬å¸éƒ½æœ‰å†™å‘¨æŠ¥çš„è¦æ±‚ï¼Œç®¡ç†ç²’åº¦æ›´ç»†åŒ–çš„å…¬å¸è¿˜è¦è¦æ±‚æ—¥æŠ¥ã€‚è¦æ±‚è¯¦ç»†å›æŠ¥æ¯æ—¥ã€æ¯å‘¨çš„å·¥ä½œæƒ…å†µã€‚å‘¨æŠ¥ä»å…¬å¸å’Œé¡¹ç›®leaderçš„è§’åº¦æ¥è¯´ï¼Œä»–å¯ä»¥ç›‘æ§å¼€å‘äººå‘˜çš„å¼€å‘æƒ…å†µï¼Œå¯¹äºKPIç®¡ç†ä¹Ÿæœ‰è¾ƒå¤§ä½œç”¨ã€‚ä½†æ˜¯å¤šæ•°æ—¶å€™æˆ‘ä»¬æ˜¯æ€ä¹ˆå¯¹å¾…å‘¨æŠ¥çš„å‘¢ï¼šè§‰å¾—å‘¨æŠ¥æ˜¯å¯¹å…¬å¸çš„äº¤ä»£ï¼Œå¯¹é¢†å¯¼äº¤ä»£ï¼Ÿæ¯å‘¨çš„å‘¨æŠ¥åœ¨å‘¨æœ«å¿«ä¸‹ç­çš„æ—¶å€™è‰è‰äº†äº‹ï¼Ÿæˆ‘æƒ³è¿™æ˜¯æ™®éç°è±¡ã€‚ å…¶å®å‘¨æŠ¥æœ€å¤§çš„æ„ä¹‰æ˜¯å…³ä¹æˆ‘ä»¬è‡ªèº«çš„ã€‚å‘¨æŠ¥çš„æœ€å¤§æ„ä¹‰æ˜¯å¯¹äºæˆ‘ä»¬å·¥ä½œçš„æ€»ç»“å’Œé¢„ä¼°ã€‚ä¸çŸ¥é“è¯»è€…è¯»è¿‡æŸ³æ¯”æ­‡å¤«é‚£æœ¬ã€Šå¥‡ç‰¹çš„ä¸€ç”Ÿã€‹å—ï¼Ÿé‚£æœ¬çš„ä¹¦æ‰€å®£æ‰¬çš„æ€æƒ³å¹¶ä¸å¤æ‚ï¼Œå°±æ˜¯ç²¾ç¡®åœ°ç»Ÿè®¡è‡ªå·±æ¯æ—¥å·¥ä½œæ—¶é—´ã€‚ç„¶åæ¯æ—¥æ€»ç»“ï¼Œçœ‹è‡ªå·±é‚£äº›æ—¶é—´æ˜¯ä½æ•ˆæµªè´¹çš„ï¼ŒåŠ ä»¥æ”¹è¿›ã€‚æ—¶é—´ç»Ÿè®¡æ³•æœ€å¤§çš„åŸåˆ™å°±æ˜¯è¯šå®ã€‚åƒé¥­å–æ°´ï¼Œå“ªæ€•æ˜¯å·¥ä½œæ—¶é—´åˆ’æ°´ä¹Ÿè¦å¦‚å®è®°å½•ã€‚Timelogå’Œå‘¨æŠ¥çš„åŒºåˆ«å°±æ˜¯ï¼ŒTimelogå®Œå…¨æ˜¯å¯¹è‡ªå·±è´Ÿè´£ï¼Œå†™å‘¨æŠ¥çš„æ—¶å€™å¤§éƒ¨åˆ†éƒ½æƒ³è‰è‰äº†äº‹ã€‚è¯šå®çš„å¯¹å¾…è‡ªå·±ï¼Œæ‰æœ‰ä¿®æ­£çš„ä½™åœ°ã€‚é€šè¿‡æ—¥å¤ä¸€æ—¥çš„ç²¾ç¡®ç»Ÿè®¡å’Œåæ€ï¼ŒæŸ³æ¯”æ­‡å¤«çˆ†å‘äº†æƒŠäººçš„å·¥ä½œæ•ˆç‡ã€‚å¦‚æœå‘¨æŠ¥èƒ½çœŸè¯šé¢å¯¹è‡ªå·±ï¼Œå¯¹è‡ªå·±è´Ÿè´£ï¼Œä¹Ÿæ¯”æƒ³ç€å¯¹å…¬å¸è´Ÿè´£æ‹¥æœ‰æ›´å¤§çš„æ„ä¹‰ã€‚å®é™…ä¸Šï¼Œæ¯æ—¥æŠ¥å‘Šæ›´é«˜çº§çš„å½¢å¼æ˜¯å…ˆåšè§„åˆ’ï¼Œä¸€æ—¥ç»“æŸä¹‹åå†å¯¹è‡ªå·±è¿›è¡Œæ€»ç»“ã€‚æ‰€è°“å¾æ—¥ä¸‰çœå¾èº«ï¼Œè¿™å°±æ˜¯å¯¹æˆ‘ä»¬è½¯ä»¶å¼€å‘çš„åçœã€‚ å¯ä»¥é¢„è§ï¼Œè¿™ç§å½¢å¼çš„å¼€å¤´ï¼Œå¿…ç„¶æ˜¯ç—›è‹¦çš„ã€‚å› ä¸ºæˆ‘ä»¬æ¯æ—¥å¼€å¤´åšçš„è®¡åˆ’ï¼Œå†æ¯æ—¥ç»“æŸçš„æ—¶å€™æ˜¯å¾ˆéš¾å®Œæˆçš„ã€‚æ¯•ç«Ÿå¯¹äºé¢„è§æ€§è®¡åˆ’ï¼Œå¼€å§‹çš„æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯æ–°æ‰‹ï¼Œç²¾å‡†è§„åˆ’å¿…ç„¶æ˜¯ç²¾è‹±çš„æŠ€èƒ½ï¼Œæ˜¯åå¤ç»ƒä¹ çš„ç»“æœã€‚æ–°æ‰‹é˜¶æ®µæ¯æ—¥åçœæ—¶åˆ»ï¼Œå¦‚æœè®¡åˆ’æ²¡æœ‰å®Œæˆå¿…ç„¶ç—›è‹¦ã€‚å› ä¸ºæˆ‘ä»¬çœ‹ä¸åˆ°ç»“æœï¼Œåœ¨çŸ­æœŸä¸­ä¹Ÿæ„Ÿå—ä¸åˆ°è¿›æ­¥ã€‚ä¸è¿‡æˆ‘å§‹ç»ˆè®¤ä¸ºï¼Œæ‰€æœ‰å¯¹æˆ‘ä»¬æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œå¼€å¤´å¿…ç„¶æ˜¯ç—›è‹¦çš„ã€‚å…¶å®åœ¨è¿‡å»ä¸€å¹´çš„rustå­¦ä¹ ä¸­ï¼Œæˆ‘ä¹Ÿåœ¨é€‚å½“çš„å¼•å¯¼ä¸‹å°è¯•è¿™ä¸ªæ–¹æ³•ï¼Œæ¯å‘¨åˆ—å‡ºè‡ªå·±å­¦ä¹ è®¡åˆ’ï¼Œç„¶åæ¯æ—¥å­¦ä¹ ï¼Œå­¦ä¹ ä¹‹åè¿›è¡Œåæ€ã€‚å†å‘¨æœ«çš„æ—¶å€™å†è¿›è¡Œä¸€æ¬¡å¤§åæ€ï¼Œæ ¹æ®å°åæ€å’Œå¤§åæ€å»æ”¹è¿›ä¸‹ä¸€å‘¨çš„è®¡åˆ’ã€‚äº§ç”Ÿçš„ç»“æœå°±æ˜¯ï¼Œç»è¿‡æ•°ä¸ªæœˆçš„å­¦ä¹ ï¼Œæˆ‘çš„ruståŸºæœ¬è¾¾åˆ°äº†å¯ç”¨çš„åœ°æ­¥ã€‚ ç¬¬ä¸‰ä¸ªè§‚ç‚¹æ˜¯ï¼šæ‰€æœ‰çœ‹ä¼¼è½»æ¾åœ°è¿‡ç¨‹ï¼Œå¿…ç„¶æœ‰åå¤çš„æ¯ç‡¥ç»ƒä¹ ã€‚ä»¥ä¸Šçš„å‘¨æŠ¥ä¹¦å†™è¿‡ç¨‹ï¼ŒæŒ‰ç…§å‘¨leaderçš„è¯´æ³•ï¼Œå¦‚æœæˆ‘ä»¬èƒ½æ¯æ—¥åšæŒã€‚å¿…ç„¶åœ¨è½¯ä»¶æ„å»ºå’ŒèŒä¸šå‘å±•ä¸Šæœ‰å·¨å¤§è¿›æ­¥ã€‚å› ä¸ºäººçš„ä¸€èˆ¬è®¤çŸ¥é™å®šäº†ï¼Œæˆ‘ä»¬å¾ˆéš¾æœ‰é¢„ä¼°æœªæ¥çš„èƒ½åŠ›ï¼Œé™¤éåå¤ç»ƒä¹ ï¼Œæ¯æ—¥åšæŒã€‚leaderæåˆ°ï¼Œå¦‚æœæˆ‘ä»¬åå¤ç»ƒä¹ è¿™ç§ï¼Œé¢„ä¼°ï¼Œå®è·µï¼Œåæ€çš„ä¸‰æ­¥èµ°æ¨¡å¼å°±èƒ½åœ¨æ›´é•¿çš„æ—¶é—´å•ä½ä¸­åšåˆ°æ›´å¥½çš„é¢„ä¼°ã€‚åšåˆ°ä»»ä½•äº‹æƒ…ï¼ˆä¸»è¦æ˜¯å†™ä»£ç ï¼‰éƒ½èƒ½åšåˆ°å¿ƒä¸­æœ‰è“å›¾ï¼Œæˆ‘ä»¬å°±èƒ½å®Œæˆè§„æ¨¡æ›´å¤§ï¼Œå¤æ‚åº¦æ›´é«˜çš„ä»»åŠ¡ã€‚è¯•æƒ³å¦‚æœå›¢é˜Ÿä¸­çš„æ¯ä¸ªäººéƒ½æœ‰è¿™ç§è§‰æ‚Ÿå’Œèƒ½åŠ›ï¼Œæˆ‘ä»¬å¿…ç„¶å·¥ä½œå¼€å¿ƒè€Œé«˜æ•ˆã€‚å› ä¸ºæˆ‘ä»¬çš„æ€è·¯ä¸æ–­æ¸…æ™°ï¼Œæˆ‘ä»¬æ¸…æ™°çš„ä¹‹åè‡ªå·±å¹²è¿‡ä»€ä¹ˆï¼Œæˆ‘ä»¬å°†è¦åšä»€ä¹ˆã€‚å¼€å‘ä¸­çš„è¿·é›¾å°†åœ¨æˆ‘ä»¬çš„æ¢ç´¢ä¸­ä¸æ–­æ¶ˆæ•£ï¼Œç›´è‡³æˆåŠŸã€‚ å…±å‹‰","categories":[{"name":"æ„Ÿæ‚Ÿ","slug":"æ„Ÿæ‚Ÿ","permalink":"https://imzy.vip/categories/%E6%84%9F%E6%82%9F/"}],"tags":[{"name":"æ€è€ƒ","slug":"æ€è€ƒ","permalink":"https://imzy.vip/tags/%E6%80%9D%E8%80%83/"}]},{"title":"Rustå…³äºæ•°æ®æº¢å‡ºå®‰å…¨","slug":"Rustå…³äºæ•°æ®æº¢å‡ºå®‰å…¨","date":"2019-11-18T15:44:09.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/36864/","link":"","permalink":"https://imzy.vip/posts/36864/","excerpt":"åœ¨4ä¸ªå¤šæœˆä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯19å¹´çš„7æœˆä»½ã€‚åœ¨å¤§ä½¬çš„æ¨èä¸‹ï¼Œæœ‰å¹¸æ‹¿åˆ°äº†ä»Šæ—¥å¤´æ¡çš„é¢è¯•æœºä¼šã€‚åœ¨æ¼«é•¿çš„é¢è¯•è¿‡ç¨‹ä¸­ï¼Œå¤´æ¡çš„é¢è¯•å®˜æ€åº¦çƒ­æƒ…ï¼Œé—®çš„é—®é¢˜å…¼å…·å¹¿åº¦å’Œæ·±åº¦ã€‚å†å¾ˆå¤šé—®é¢˜å›ç­”çš„ä¸€å¡Œç³Šæ¶‚çš„æ¡ä»¶ä¸‹ï¼Œä¹Ÿè®©æˆ‘é¢è¯•äº†é•¿è¾¾äº”å°æ—¶ã€‚ç‰¹åˆ«çš„æœ€åçš„é¢è¯•å®˜ï¼Œæ€åº¦å‹å¥½ä¸”è¯šæ³ï¼Œå¯¹æˆ‘çš„è¯¸å¤šä¸è¶³ä¹‹å¤„æå‡ºå§”å©‰çš„å»ºè®®ã€‚æœ‰è¿™æ ·çš„é¢è¯•ä½“éªŒæ˜¯éå¸¸æ£’è®©æˆ‘è·ç›Šè‰¯å¤šï¼Œåœ¨æ­¤è¡¨è¾¾æˆ‘çš„æ„Ÿè°¢ä¹‹æƒ…ã€‚ä¸è¿‡æœ¬ç¯‡æ–‡ç« ä¸æ˜¯è®²è¿°é¢è¯•ç»éªŒæˆ–è€…ä½“ä¼šçš„ï¼Œæ˜¯è®²é¢è¯•ä¸­è¢«åå¤æåˆ°çš„é—®é¢˜ï¼š","text":"åœ¨4ä¸ªå¤šæœˆä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯19å¹´çš„7æœˆä»½ã€‚åœ¨å¤§ä½¬çš„æ¨èä¸‹ï¼Œæœ‰å¹¸æ‹¿åˆ°äº†ä»Šæ—¥å¤´æ¡çš„é¢è¯•æœºä¼šã€‚åœ¨æ¼«é•¿çš„é¢è¯•è¿‡ç¨‹ä¸­ï¼Œå¤´æ¡çš„é¢è¯•å®˜æ€åº¦çƒ­æƒ…ï¼Œé—®çš„é—®é¢˜å…¼å…·å¹¿åº¦å’Œæ·±åº¦ã€‚å†å¾ˆå¤šé—®é¢˜å›ç­”çš„ä¸€å¡Œç³Šæ¶‚çš„æ¡ä»¶ä¸‹ï¼Œä¹Ÿè®©æˆ‘é¢è¯•äº†é•¿è¾¾äº”å°æ—¶ã€‚ç‰¹åˆ«çš„æœ€åçš„é¢è¯•å®˜ï¼Œæ€åº¦å‹å¥½ä¸”è¯šæ³ï¼Œå¯¹æˆ‘çš„è¯¸å¤šä¸è¶³ä¹‹å¤„æå‡ºå§”å©‰çš„å»ºè®®ã€‚æœ‰è¿™æ ·çš„é¢è¯•ä½“éªŒæ˜¯éå¸¸æ£’è®©æˆ‘è·ç›Šè‰¯å¤šï¼Œåœ¨æ­¤è¡¨è¾¾æˆ‘çš„æ„Ÿè°¢ä¹‹æƒ…ã€‚ä¸è¿‡æœ¬ç¯‡æ–‡ç« ä¸æ˜¯è®²è¿°é¢è¯•ç»éªŒæˆ–è€…ä½“ä¼šçš„ï¼Œæ˜¯è®²é¢è¯•ä¸­è¢«åå¤æåˆ°çš„é—®é¢˜ï¼š Rustæ•°æ®è®¡ç®—æº¢å‡ºæ€ä¹ˆåŠï¼Ÿ å› ä¸ºé¢è¯•çš„æ˜¯cpp/rustç›¸å…³çš„å²—ä½ï¼Œé¢è¯•å®˜æå‡ºè¿™ä¸ªé—®é¢˜ä¹‹åæˆ‘æ˜¯å¾ˆæ‡µçš„ã€‚ä»¥ä¸ºä¹‹å‰å®Œå…¨æ²¡è€ƒè™‘è¿‡è¿™ä¸ªé—®é¢˜ã€‚Rustå·ç§°å®‰å…¨ï¼Œé‚£ä¹ˆä»–æ˜¯å¦‚ä½•å¤„ç†è¿™ä¸ªé—®é¢˜çš„å‘¢ã€‚å½“æ—¶æˆ‘çš„å›ç­”æ˜¯ï¼šæ¢ç”¨æ›´å¤§çš„æ•°æ®ç±»å‹ã€‚å…¶å®å½“æ—¶è¿™ä¸ªå›ç­”è¯´å‡ºå£ï¼Œå°±è§‰å¾—å®Œå…¨ä¸å¯¹ï¼Œæ¯•ç«Ÿint32ä¹‹ä¸Šè¿˜æœ‰int64ï¼Œæ— è®ºç”¨å¤šå¤§çš„æ•°æ®ç±»å‹ï¼Œè®¡ç®—ä¾æ—§å¯èƒ½æº¢å‡ºã€‚ æˆ‘æƒ³ä»Šå¤©æˆ‘å¯ä»¥å¾ˆå¥½çš„å›ç­”è¿™ä¸ªé—®é¢˜ã€‚åœ¨cè¯­è¨€ä¸­ï¼Œæ— ç¬¦å·æ•´æ•°å®Œå…¨ä¸ä¼šæº¢å‡ºï¼ˆoverflowï¼‰,å› ä¸ºæ•°æ®ä¸€æ—¦è¶…è¿‡ä¸Šé™ï¼Œåˆ™è‡ªåŠ¨èˆå¼ƒé«˜ä½æ•°æ®ã€‚å¯¹äºæœ‰ç¬¦å·æ•°ï¼Œä¸€æ—¦è¶…è¿‡ä¸Šé™ï¼Œåˆ™æ ‡å‡†è¿™æ˜¯ubã€‚Rustå·ç§°å®‰å…¨ï¼Œä»è®¾è®¡ä¸Šå°±è¦å°½å¯èƒ½çš„é¿å…ubï¼Œå¯¹äºæ•°æ®æº¢å‡ºï¼Œä¹Ÿç®—æ˜¯è¯­è¨€å¿…é¡»é¢å¯¹çš„bugã€‚rustå¤„ç†è¿™ä¸ªbugåˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼ˆé»˜è®¤æƒ…å†µï¼Œå…ˆä¸è°ˆç¼–è¯‘å‚æ•°çš„è°ƒæ•´ï¼‰ debugæ¨¡å¼ä¸‹ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ’å…¥æº¢å‡ºæ£€æŸ¥ï¼Œä¸€æ—¦overflowåˆ™ç«‹å³panicã€‚ releaseæ¨¡å¼ä¸‹ï¼Œç¼–è¯‘å™¨ä¸è¿›è¡Œæº¢å‡ºæ£€æŸ¥ï¼Œä¸€æ—¦overflowåˆ™èˆå¼ƒé«˜ä½ å¦‚æœæˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶è°ƒæ•´ç¼–è¯‘å‚æ•° rustc -C overflow-checks=no overflow-checks=yes æˆ–è€… noï¼Œå¯ä»¥æ‰“å¼€æˆ–å…³é—­ç¼–è¯‘å™¨çš„æº¢å‡ºæ£€æŸ¥ã€‚è¿™æ ·çš„è¯ï¼Œæ— è®ºæ˜¯debugè¿˜æ˜¯releaseæ¨¡å¼éƒ½å¯ä»¥æœ‰ç»Ÿä¸€çš„æº¢å‡ºæ£€æŸ¥è®¾ç½®ã€‚ å½“ç„¶ï¼Œæˆ‘ä»¬éœ€è¦çš„ä¸ä»…ä»…æ˜¯è¿™ä¸ªï¼Œå¦‚æœéœ€è¦æ›´ç»†åŠ›åº¦çš„æº¢å‡ºå¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡½æ•° 123check_*saturating_*warpping_* æŸ¥é˜…APIæ–‡æ¡£å¯çŸ¥ check_*å‡½æ•°è¿”å›Optionï¼Œä¸€æ—¦å‘ç”Ÿæº¢å‡ºåˆ™è¿”å›None saturating_*ç³»åˆ—å‡½æ•°è¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œå¦‚æœæº¢å‡ºï¼Œåˆ™ç»™å‡ºè¯¥ç±»å‹å¯è¡¨ç¤ºèŒƒå›´çš„â€œæœ€å¤§/æœ€å°â€å€¼ wrapping_*ç³»åˆ—å‡½æ•°åˆ™æ˜¯ç›´æ¥æŠ›å¼ƒå·²ç»æº¢å‡ºçš„æœ€é«˜ä½ï¼Œå°†å‰©ä¸‹çš„éƒ¨åˆ†è¿”å› å¦‚æœä½ å†è¿›ä¸€æ­¥ä»”ç»†æŸ¥é˜…Rustæºç ï¼Œå‘ç°æºç ä¸­å¤§é‡çš„æ•°æ®è¿ç®—éƒ½é‡‡ç”¨è¿™ä¸‰ä¸ªå‡½æ•°ã€‚å½“ç„¶äº†ï¼Œå¦‚æœä½ ä¸ä½¿ç”¨è¿™ä¸‰ç±»å‡½æ•°ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨std::num::Warpingçš„ç±»å‹ï¼Œä»–é‡è½½äº†åŸºæœ¬è¿ç®—ç¬¦ã€‚æº¢å‡ºç›´æ¥æˆªæ–­ã€‚è¿™ç±»åŒ…è£¹çš„ç”¨æ³•ï¼Œä¸å—ç¼–è¯‘å™¨æº¢å‡ºå‚æ•°çš„å½±å“ï¼Œæ°¸è¿œç›´æ¥æˆªæ–­é«˜ä½ï¼Œä¸ä¼španic. ä»¥ä¸Šæ–¹æ³•å°±æ˜¯rustå¤„ç†æº¢å‡ºçš„æ‰€æœ‰æƒ…å†µã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Rust","slug":"Rust","permalink":"https://imzy.vip/tags/Rust/"},{"name":"æ•°æ®æº¢å‡º","slug":"æ•°æ®æº¢å‡º","permalink":"https://imzy.vip/tags/%E6%95%B0%E6%8D%AE%E6%BA%A2%E5%87%BA/"}]},{"title":"æ„å»ºç¦»çº¿äº¤æ˜“","slug":"æ„å»ºç¦»çº¿äº¤æ˜“","date":"2019-10-10T17:54:15.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/46484/","link":"","permalink":"https://imzy.vip/posts/46484/","excerpt":"æœ¬æ–‡æ˜¯åœ¨ä¹‹å‰çš„å¤æ‚äº¤æ˜“çš„åŸºç¡€ä¸Šè¿›è¡Œçš„ï¼Œç¦»çº¿ç­¾åä¸»è¦æ˜¯ä¸ºäº†æ»¡è¶³ä»¥ä¸‹åœºæ™¯","text":"æœ¬æ–‡æ˜¯åœ¨ä¹‹å‰çš„å¤æ‚äº¤æ˜“çš„åŸºç¡€ä¸Šè¿›è¡Œçš„ï¼Œç¦»çº¿ç­¾åä¸»è¦æ˜¯ä¸ºäº†æ»¡è¶³ä»¥ä¸‹åœºæ™¯ æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ­£å¸¸çš„äº¤æ˜“éœ€è¦ç¡®è®¤6æ¬¡ä»¥åæ‰å¯ä»¥è¢«è§†ä½œå¯ä¿¡ï¼ˆconfirmï¼‰äº¤æ˜“ã€‚å½“æˆ‘ä»¬éœ€è¦ä»Aåˆ°Bå†åˆ°Cè¿ç»­äº¤æ˜“æ—¶ï¼Œå¦‚æœç¦»çº¿ç­¾åä¸å­˜åœ¨ï¼Œåˆ™å¿…é¡»åœ¨Aåˆ°Bçš„äº¤æ˜“è¢«ç¡®è®¤åï¼Œå†å‘èµ·ä¸€æ¬¡Båˆ°Cçš„äº¤æ˜“ã€‚è€Œç¦»çº¿ç­¾åå¯ä»¥ä½¿æˆ‘ä»¬åšåˆ°Aåˆ°Bçš„äº¤æ˜“åœ¨å¹¿æ’­ä¹‹å‰å°±ç«‹åˆ»å‘èµ·ä¸€ä¸ªä¸‹ä¸€æ­¥äº¤æ˜“ï¼Œä¹‹åå†è¿›è¡Œå¹¿æ’­ã€‚ æŒ‰ç…§ä¹‹å‰æƒ¯ä¾‹ï¼Œåˆ—å‡ºç¦»çº¿ç­¾åçš„ä¸»å¹²æ­¥éª¤ å‘èµ·ç¬¬ä¸€æ­¥äº¤æ˜“ï¼Œå®Œæˆå¯¹äº¤æ˜“çš„ç­¾å åœ¨ç¬¬ä¸€æ­¥äº¤æ˜“æœªå¹¿æ’­ä¹‹å‰ï¼Œå‘èµ·ç¬¬äºŒç¬”äº¤æ˜“ ä¾æ¬¡å¹¿æ’­ç¬¬ä¸€æ¬¡äº¤æ˜“å’Œç¬¬äºŒäº¤æ˜“ï¼Œå®Œæˆæ•´ä¸ªäº¤æ˜“è¿‡ç¨‹ ä»¥ä¸Šçš„äº¤æ˜“ä¸­ï¼Œæå–UXTOï¼Œå‘èµ·äº¤æ˜“ï¼Œç­¾åçš„æ­¥éª¤å’Œä¹‹å‰åˆ—å‡ºçš„äº¤æ˜“ç±»å‹æ˜¯ä¸€è‡´çš„ï¼Œä¸å¯çœç•¥ã€‚ä¸‹é¢åˆ—å‡ºå‘èµ·ç¦»çº¿ç­¾åçš„æ­¥éª¤ï¼Œå…¶ä¸­18æ­¥ä¹‹å‰å’Œå‰æ–‡çš„æ„å»ºå¤æ‚äº¤æ˜“æ˜¯ä¸€è‡´çš„ï¼Œä¹‹åçš„æ­¥éª¤æ˜¯å‘èµ·ç¦»çº¿ç­¾åçš„è¿‡ç¨‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762771. å¯åŠ¨æµ‹è¯•é“¾bitcoind -printtoconsole -regtest2. æŸ¥è¯¢é“¾ä¿¡æ¯bitcoin-cli -regtest -getinfo3. ç”Ÿæˆåœ°å€ 2MvFP1Mf8Y7v3VsoUtPi4FqA39eNySyKhK9bitcoin-cli -regtest getnewaddress4. å¯¼å‡ºç§é’¥å¤‡ç”¨ cUBZgraadC4HdjCf5px1QT9cLENgF6RPGkXfqaS7TivpCtAUctMbbitcoin-cli -regtest dumpprivkey 2MvFP1Mf8Y7v3VsoUtPi4FqA39eNySyKhK95. ç»™è¿™ä¸ªåœ°å€æŒ–çŸ¿ 101å—bitcoin-cli -regtest generatetoaddress 101 2MvFP1Mf8Y7v3VsoUtPi4FqA39eNySyKhK96. ç”Ÿæˆç¬¬äºŒä¸ªåœ°å€ 2N8nqc8HxKaziqbJR3T9KotZkb5unYq7R5nbitcoin-cli -regtest getnewaddress7. å¯¼å‡ºç§é’¥ cQne7yVqswhrC43N3DushL6XzzejHBkBwzrEM8ydeRcR7MTBmPV9bitcoin-cli -regtest dumpprivkey 2N8nqc8HxKaziqbJR3T9KotZkb5unYq7R5n8. æŒ–çŸ¿ 102å—bitcoin-cli -regtest generatetoaddress 102 2N8nqc8HxKaziqbJR3T9KotZkb5unYq7R5n9. ç”Ÿæˆåœ°å€ä½œä¸ºè¾“å‡º 2NDkJxccs9Wd6cctvKSBtfk2Nza2EeavS1Ybitcoin-cli -regtest getnewaddress10. ç»§ç»­ç”Ÿæˆ 2MxXvWg5KqLUHWQfm4z8rZhGj16aAqPWF6ybitcoin-cli -regtest getnewaddress11. æå–UXTObitcoin-cli -regtest listunspent 6 9999999 &quot;[\\&quot;2MvFP1Mf8Y7v3VsoUtPi4FqA39eNySyKhK9\\&quot;]&quot;&#123; &quot;txid&quot;: &quot;eef9c597e33f507bc8fd8a9e883bfd5843986b5cc4fb56ff688735f44b2e8539&quot;, &quot;vout&quot;: 0, &quot;address&quot;: &quot;2MvFP1Mf8Y7v3VsoUtPi4FqA39eNySyKhK9&quot;, &quot;label&quot;: &quot;&quot;, &quot;redeemScript&quot;: &quot;001482d55d9dff1765974f91aa49ca8390bc3da3d761&quot;, &quot;scriptPubKey&quot;: &quot;a91420efe7d679e1ebfa932860265e6ae69ac0087b3987&quot;, &quot;amount&quot;: 50.00000000, &quot;confirmations&quot;: 182, &quot;spendable&quot;: true, &quot;solvable&quot;: true, &quot;desc&quot;: &quot;sh(wpkh([bec83093/0&#x27;/0&#x27;/29&#x27;]02c7a49c3f29e63cf274819490e6e0bdc115756397ca60a86091f822286f5e9a88))#x6wqjynz&quot;, &quot;safe&quot;: true &#125;, &#123; &quot;txid&quot;: &quot;33043fc71a74c6436f5672696e8bf0c4b809fd72f5d69d698bf406415a8d6f3b&quot;, &quot;vout&quot;: 0, &quot;address&quot;: &quot;2MvFP1Mf8Y7v3VsoUtPi4FqA39eNySyKhK9&quot;, &quot;label&quot;: &quot;&quot;, &quot;redeemScript&quot;: &quot;001482d55d9dff1765974f91aa49ca8390bc3da3d761&quot;, &quot;scriptPubKey&quot;: &quot;a91420efe7d679e1ebfa932860265e6ae69ac0087b3987&quot;, &quot;amount&quot;: 50.00000000, &quot;confirmations&quot;: 196, &quot;spendable&quot;: true, &quot;solvable&quot;: true, &quot;desc&quot;: &quot;sh(wpkh([bec83093/0&#x27;/0&#x27;/29&#x27;]02c7a49c3f29e63cf274819490e6e0bdc115756397ca60a86091f822286f5e9a88))#x6wqjynz&quot;, &quot;safe&quot;: true &#125;14. æå–UTXO åªåˆ—ä¸¾ä¸€å°éƒ¨åˆ†bitcoin-cli -regtest listunspent 6 9999999 &quot;[\\&quot;2N8nqc8HxKaziqbJR3T9KotZkb5unYq7R5n\\&quot;]&quot;[ &#123; &quot;txid&quot;: &quot;be12c06ce23a174d29a507b09a5bc86ef38fc0ad5467e2083c9d371f0928a5d5&quot;, &quot;vout&quot;: 0, &quot;address&quot;: &quot;2N8nqc8HxKaziqbJR3T9KotZkb5unYq7R5n&quot;, &quot;label&quot;: &quot;&quot;, &quot;redeemScript&quot;: &quot;0014044267290a1ed9e1b363bfdec43aac1df8f85bfb&quot;, &quot;scriptPubKey&quot;: &quot;a914aa848392f25d6672385271ef62b80fc03ced47d287&quot;, &quot;amount&quot;: 50.00000000, &quot;confirmations&quot;: 101, &quot;spendable&quot;: true, &quot;solvable&quot;: true, &quot;desc&quot;: &quot;sh(wpkh([bec83093/0&#x27;/0&#x27;/30&#x27;]030541bdfff7b3e4deb1e0addf5715cbbb13407e7b06a9793a1be36233b7d49fdc))#px0ff4zh&quot;, &quot;safe&quot;: true &#125;, &#123; &quot;txid&quot;: &quot;a3ef346a4f86ea82ac4b78c2b60f5be3b6c2b21ab0fbcecdfd87acc3b5c439e2&quot;, &quot;vout&quot;: 0, &quot;address&quot;: &quot;2N8nqc8HxKaziqbJR3T9KotZkb5unYq7R5n&quot;, &quot;label&quot;: &quot;&quot;, &quot;redeemScript&quot;: &quot;0014044267290a1ed9e1b363bfdec43aac1df8f85bfb&quot;, &quot;scriptPubKey&quot;: &quot;a914aa848392f25d6672385271ef62b80fc03ced47d287&quot;, &quot;amount&quot;: 50.00000000, &quot;confirmations&quot;: 102, &quot;spendable&quot;: true, &quot;solvable&quot;: true, &quot;desc&quot;: &quot;sh(wpkh([bec83093/0&#x27;/0&#x27;/30&#x27;]030541bdfff7b3e4deb1e0addf5715cbbb13407e7b06a9793a1be36233b7d49fdc))#px0ff4zh&quot;, &quot;safe&quot;: true &#125;] ç¬¬ä¸€ç»„ txid: eef9c597e33f507bc8fd8a9e883bfd5843986b5cc4fb56ff688735f44b2e8539 vout: 0 address: 2MvFP1Mf8Y7v3VsoUtPi4FqA39eNySyKhK9 privkey: cUBZgraadC4HdjCf5px1QT9cLENgF6RPGkXfqaS7TivpCtAUctMb ç¬¬äºŒç»„: txid: be12c06ce23a174d29a507b09a5bc86ef38fc0ad5467e2083c9d371f0928a5d5 vout: 0 address: 2N8nqc8HxKaziqbJR3T9KotZkb5unYq7R5n privkey: cQne7yVqswhrC43N3DushL6XzzejHBkBwzrEM8ydeRcR7MTBmPV9 ç›®æ ‡åœ°å€ 2NDkJxccs9Wd6cctvKSBtfk2Nza2EeavS1Y 2MxXvWg5KqLUHWQfm4z8rZhGj16aAqPWF6y15 æ„å»ºäº¤æ˜“ ç»™æ¯ä¸ªç›®æ ‡49.99\bä¸ªæ¯”ç‰¹å¸bitcoin-cli -regtest createrawtransaction &#x27;&#x27;&#x27; [ &#123; &quot;txid&quot;: &quot;eef9c597e33f507bc8fd8a9e883bfd5843986b5cc4fb56ff688735f44b2e8539&quot;, &quot;vout&quot;: 0 &#125;, &#123; &quot;txid&quot;: &quot;be12c06ce23a174d29a507b09a5bc86ef38fc0ad5467e2083c9d371f0928a5d5&quot;, &quot;vout&quot;: 0 &#125; ] &#x27;&#x27;&#x27; &#x27;&#x27;&#x27; &#123; &quot;2NDkJxccs9Wd6cctvKSBtfk2Nza2EeavS1Y&quot;: 49.99, &quot;2MxXvWg5KqLUHWQfm4z8rZhGj16aAqPWF6y&quot;: 49.99 &#125;&#x27;&#x27;&#x27;020000000239852e4bf4358768ff56fbc45c6b984358fd3b889e8afdc87b503fe397c5f9ee0000000000ffffffffd5a528091f379d3c08e26754adc08ff36ec85b9ab007a5294d173ae26cc012be0000000000ffffffff02c0aff6290100000017a914e0e2ba743a50d6c51176cf4006a73b07c29df3cf87c0aff6290100000017a9143a011cad3e72170448f61524c490ce1ec3c7e8a4870000000016. ç°åœ¨ä¸€æ¬¡è¿›è¡Œç­¾å è¿™é‡Œä½¿ç”¨ç§é’¥è¿›è¡Œç­¾åbitcoin-cli -regtest signrawtransactionwithkey &quot;020000000239852e4bf4358768ff56fbc45c6b984358fd3b889e8afdc87b503fe397c5f9ee0000000000ffffffffd5a528091f379d3c08e26754adc08ff36ec85b9ab007a5294d173ae26cc012be0000000000ffffffff02c0aff6290100000017a914e0e2ba743a50d6c51176cf4006a73b07c29df3cf87c0aff6290100000017a9143a011cad3e72170448f61524c490ce1ec3c7e8a48700000000&quot; &quot;[\\&quot;cUBZgraadC4HdjCf5px1QT9cLENgF6RPGkXfqaS7TivpCtAUctMb\\&quot;]&quot;&#123; &quot;hex&quot;: &quot;0200000000010239852e4bf4358768ff56fbc45c6b984358fd3b889e8afdc87b503fe397c5f9ee000000001716001482d55d9dff1765974f91aa49ca8390bc3da3d761ffffffffd5a528091f379d3c08e26754adc08ff36ec85b9ab007a5294d173ae26cc012be0000000000ffffffff02c0aff6290100000017a914e0e2ba743a50d6c51176cf4006a73b07c29df3cf87c0aff6290100000017a9143a011cad3e72170448f61524c490ce1ec3c7e8a48702473044022074136f51a9f5dfc5b27e4e0b2a5b576f895f3e872f16bb74441b921ed670f7dd0220276d9f4fc40a1c0349008ae82135651077932010b5e9077bf62f8bc0b9142c33012102c7a49c3f29e63cf274819490e6e0bdc115756397ca60a86091f822286f5e9a880000000000&quot;, &quot;complete&quot;: false, &quot;errors&quot;: [ &#123; &quot;txid&quot;: &quot;be12c06ce23a174d29a507b09a5bc86ef38fc0ad5467e2083c9d371f0928a5d5&quot;, &quot;vout&quot;: 0, &quot;witness&quot;: [ ], &quot;scriptSig&quot;: &quot;&quot;, &quot;sequence&quot;: 4294967295, &quot;error&quot;: &quot;Unable to sign input, invalid stack size (possibly missing key)&quot; &#125; ]&#125;17 2ç­¾bitcoin-cli -regtest signrawtransactionwithkey &quot;0200000000010239852e4bf4358768ff56fbc45c6b984358fd3b889e8afdc87b503fe397c5f9ee000000001716001482d55d9dff1765974f91aa49ca8390bc3da3d761ffffffffd5a528091f379d3c08e26754adc08ff36ec85b9ab007a5294d173ae26cc012be0000000000ffffffff02c0aff6290100000017a914e0e2ba743a50d6c51176cf4006a73b07c29df3cf87c0aff6290100000017a9143a011cad3e72170448f61524c490ce1ec3c7e8a48702473044022074136f51a9f5dfc5b27e4e0b2a5b576f895f3e872f16bb74441b921ed670f7dd0220276d9f4fc40a1c0349008ae82135651077932010b5e9077bf62f8bc0b9142c33012102c7a49c3f29e63cf274819490e6e0bdc115756397ca60a86091f822286f5e9a880000000000&quot; &quot;[\\&quot;cQne7yVqswhrC43N3DushL6XzzejHBkBwzrEM8ydeRcR7MTBmPV9\\&quot;]&quot;&#123; &quot;hex&quot;: &quot;0200000000010239852e4bf4358768ff56fbc45c6b984358fd3b889e8afdc87b503fe397c5f9ee000000001716001482d55d9dff1765974f91aa49ca8390bc3da3d761ffffffffd5a528091f379d3c08e26754adc08ff36ec85b9ab007a5294d173ae26cc012be0000000017160014044267290a1ed9e1b363bfdec43aac1df8f85bfbffffffff02c0aff6290100000017a914e0e2ba743a50d6c51176cf4006a73b07c29df3cf87c0aff6290100000017a9143a011cad3e72170448f61524c490ce1ec3c7e8a48702473044022074136f51a9f5dfc5b27e4e0b2a5b576f895f3e872f16bb74441b921ed670f7dd0220276d9f4fc40a1c0349008ae82135651077932010b5e9077bf62f8bc0b9142c33012102c7a49c3f29e63cf274819490e6e0bdc115756397ca60a86091f822286f5e9a8802473044022053aaaa8f122a8430342d274fdd57ea8dc746cce269e099d78ce2778656406c48022003e3788c5694ce17fcd842b6685f44afe6a7151dcfa214d4198d5503134d2d210121030541bdfff7b3e4deb1e0addf5715cbbb13407e7b06a9793a1be36233b7d49fdc00000000&quot;, &quot;complete&quot;: true&#125;18 æ¥ä¸‹æ¥è¿›è¡Œç¦»çº¿ç­¾ç½²1. decodebitcoin-cli -regtest decoderawtransaction 0200000000010239852e4bf4358768ff56fbc45c6b984358fd3b889e8afdc87b503fe397c5f9ee000000001716001482d55d9dff1765974f91aa49ca8390bc3da3d761ffffffffd5a528091f379d3c08e26754adc08ff36ec85b9ab007a5294d173ae26cc012be0000000017160014044267290a1ed9e1b363bfdec43aac1df8f85bfbffffffff02c0aff6290100000017a914e0e2ba743a50d6c51176cf4006a73b07c29df3cf87c0aff6290100000017a9143a011cad3e72170448f61524c490ce1ec3c7e8a48702473044022074136f51a9f5dfc5b27e4e0b2a5b576f895f3e872f16bb74441b921ed670f7dd0220276d9f4fc40a1c0349008ae82135651077932010b5e9077bf62f8bc0b9142c33012102c7a49c3f29e63cf274819490e6e0bdc115756397ca60a86091f822286f5e9a8802473044022053aaaa8f122a8430342d274fdd57ea8dc746cce269e099d78ce2778656406c48022003e3788c5694ce17fcd842b6685f44afe6a7151dcfa214d4198d5503134d2d210121030541bdfff7b3e4deb1e0addf5715cbbb13407e7b06a9793a1be36233b7d49fdc00000000&#123; &quot;txid&quot;: &quot;593bc8b6149fc64d31d70d58d365764fc362fd2aecf6adabb6c2be3964682389&quot;, &quot;hash&quot;: &quot;47d4757e05dffdd2a24ca98134ee4aa87d00521ac5237cdd8cbfbf475b6ef870&quot;, &quot;version&quot;: 2, &quot;size&quot;: 418, &quot;vsize&quot;: 256, &quot;weight&quot;: 1024, &quot;locktime&quot;: 0, &quot;vin&quot;: [ &#123; &quot;txid&quot;: &quot;eef9c597e33f507bc8fd8a9e883bfd5843986b5cc4fb56ff688735f44b2e8539&quot;, &quot;vout&quot;: 0, &quot;scriptSig&quot;: &#123; &quot;asm&quot;: &quot;001482d55d9dff1765974f91aa49ca8390bc3da3d761&quot;, &quot;hex&quot;: &quot;16001482d55d9dff1765974f91aa49ca8390bc3da3d761&quot; &#125;, &quot;txinwitness&quot;: [ &quot;3044022074136f51a9f5dfc5b27e4e0b2a5b576f895f3e872f16bb74441b921ed670f7dd0220276d9f4fc40a1c0349008ae82135651077932010b5e9077bf62f8bc0b9142c3301&quot;, &quot;02c7a49c3f29e63cf274819490e6e0bdc115756397ca60a86091f822286f5e9a88&quot; ], &quot;sequence&quot;: 4294967295 &#125;, &#123; &quot;txid&quot;: &quot;be12c06ce23a174d29a507b09a5bc86ef38fc0ad5467e2083c9d371f0928a5d5&quot;, &quot;vout&quot;: 0, &quot;scriptSig&quot;: &#123; &quot;asm&quot;: &quot;0014044267290a1ed9e1b363bfdec43aac1df8f85bfb&quot;, &quot;hex&quot;: &quot;160014044267290a1ed9e1b363bfdec43aac1df8f85bfb&quot; &#125;, &quot;txinwitness&quot;: [ &quot;3044022053aaaa8f122a8430342d274fdd57ea8dc746cce269e099d78ce2778656406c48022003e3788c5694ce17fcd842b6685f44afe6a7151dcfa214d4198d5503134d2d2101&quot;, &quot;030541bdfff7b3e4deb1e0addf5715cbbb13407e7b06a9793a1be36233b7d49fdc&quot; ], &quot;sequence&quot;: 4294967295 &#125; ], &quot;vout&quot;: [ &#123; &quot;value&quot;: 49.99000000, &quot;n&quot;: 0, &quot;scriptPubKey&quot;: &#123; &quot;asm&quot;: &quot;OP_HASH160 e0e2ba743a50d6c51176cf4006a73b07c29df3cf OP_EQUAL&quot;, &quot;hex&quot;: &quot;a914e0e2ba743a50d6c51176cf4006a73b07c29df3cf87&quot;, &quot;reqSigs&quot;: 1, &quot;type&quot;: &quot;scripthash&quot;, &quot;addresses&quot;: [ &quot;2NDkJxccs9Wd6cctvKSBtfk2Nza2EeavS1Y&quot; ] &#125; &#125;, &#123; &quot;value&quot;: 49.99000000, &quot;n&quot;: 1, &quot;scriptPubKey&quot;: &#123; &quot;asm&quot;: &quot;OP_HASH160 3a011cad3e72170448f61524c490ce1ec3c7e8a4 OP_EQUAL&quot;, &quot;hex&quot;: &quot;a9143a011cad3e72170448f61524c490ce1ec3c7e8a487&quot;, &quot;reqSigs&quot;: 1, &quot;type&quot;: &quot;scripthash&quot;, &quot;addresses&quot;: [ &quot;2MxXvWg5KqLUHWQfm4z8rZhGj16aAqPWF6y&quot; ] &#125; &#125; ]&#125;ä»ä»¥ä¸Šä¿¡æ¯ä¸­æå–ä¸€ç»„æœ‰æ•ˆä¿¡æ¯ ä»voutä¸­é€‰æ‹©ç¬¬äºŒç»„æ•°æ®UTXO_TXID = 593bc8b6149fc64d31d70d58d365764fc362fd2aecf6adabb6c2be3964682389UTXO_VOUT = 1UTXO_VALUE = 49.99000000UTXO_OUTPUT_SCRIPT = a9143a011cad3e72170448f61524c490ce1ec3c7e8a4872. ç”Ÿæˆä¸€ä¸ªæ–°çš„ç›®æ ‡åœ°å€ 2N7hMdx8XoKMyBJd4PLXZUvEa3szWLK7c4jbitcoin-cli -regtest getnewaddress3. ä»ä»¥ä¸Šçš„æœ‰æ•ˆä¿¡æ¯ä¸­æ„å»ºä¸€ç¬”äº¤æ˜“ç»™æ–°çš„åœ°å€49.98ä¸ªæ¯”ç‰¹å¸bitcoin-cli -regtest createrawtransaction &#x27;&#x27;&#x27; [ &#123; &quot;txid&quot;: &quot;593bc8b6149fc64d31d70d58d365764fc362fd2aecf6adabb6c2be3964682389&quot;, &quot;vout&quot;: &#x27;1&#x27; &#125; ] &#x27;&#x27;&#x27; &#x27;&#x27;&#x27; &#123; &quot;2N7hMdx8XoKMyBJd4PLXZUvEa3szWLK7c4j&quot;: 49.98 &#125;&#x27;&#x27;&#x27;02000000018923686439bec2b6abadf6ec2afd62c34f7665d3580dd7314dc69f14b6c83b590100000000ffffffff01806de7290100000017a9149e82f61edb11d83f62a60368868a7a16bcf55a8887000000004. ç¦»çº¿ç­¾åbitcoin-cli -regtest signrawtransactionwithwallet 02000000018923686439bec2b6abadf6ec2afd62c34f7665d3580dd7314dc69f14b6c83b590100000000ffffffff01806de7290100000017a9149e82f61edb11d83f62a60368868a7a16bcf55a888700000000 &#x27;&#x27;&#x27;&#123; &quot;hex&quot;: &quot;020000000001018923686439bec2b6abadf6ec2afd62c34f7665d3580dd7314dc69f14b6c83b59010000001716001490c66a16ddd8405227e11efc87f7b93fce151373ffffffff01806de7290100000017a9149e82f61edb11d83f62a60368868a7a16bcf55a88870247304402203665a815716ed7c99a627acf896806101e851a9122a05a9dd337a7c70792800d022070b1a1c1947bbb81aff11e966392a4b05e3d4b2785a8170f70b4d0250f960e72012103d678d4c116ea3bff2b18760a45d86fd19692c213b217f88a6815006387290cfc00000000&quot;, &quot;complete&quot;: true&#125;5. å¹¿æ’­ä¹‹å‰çš„äº¤æ˜“ 593bc8b6149fc64d31d70d58d365764fc362fd2aecf6adabb6c2be3964682389bitcoin-cli -regtest sendrawtransaction 0200000000010239852e4bf4358768ff56fbc45c6b984358fd3b889e8afdc87b503fe397c5f9ee000000001716001482d55d9dff1765974f91aa49ca8390bc3da3d761ffffffffd5a528091f379d3c08e26754adc08ff36ec85b9ab007a5294d173ae26cc012be0000000017160014044267290a1ed9e1b363bfdec43aac1df8f85bfbffffffff02c0aff6290100000017a914e0e2ba743a50d6c51176cf4006a73b07c29df3cf87c0aff6290100000017a9143a011cad3e72170448f61524c490ce1ec3c7e8a48702473044022074136f51a9f5dfc5b27e4e0b2a5b576f895f3e872f16bb74441b921ed670f7dd0220276d9f4fc40a1c0349008ae82135651077932010b5e9077bf62f8bc0b9142c33012102c7a49c3f29e63cf274819490e6e0bdc115756397ca60a86091f822286f5e9a8802473044022053aaaa8f122a8430342d274fdd57ea8dc746cce269e099d78ce2778656406c48022003e3788c5694ce17fcd842b6685f44afe6a7151dcfa214d4198d5503134d2d210121030541bdfff7b3e4deb1e0addf5715cbbb13407e7b06a9793a1be36233b7d49fdc000000006. å¹¿æ’­ç¦»çº¿ç­¾ååçš„äº¤æ˜“ 9447820947c7fa1198a6342bbd06c22459a94e663a11aa2933d89f76e8597a80bitcoin-cli -regtest sendrawtransaction 020000000001018923686439bec2b6abadf6ec2afd62c34f7665d3580dd7314dc69f14b6c83b59010000001716001490c66a16ddd8405227e11efc87f7b93fce151373ffffffff01806de7290100000017a9149e82f61edb11d83f62a60368868a7a16bcf55a88870247304402203665a815716ed7c99a627acf896806101e851a9122a05a9dd337a7c70792800d022070b1a1c1947bbb81aff11e966392a4b05e3d4b2785a8170f70b4d0250f960e72012103d678d4c116ea3bff2b18760a45d86fd19692c213b217f88a6815006387290cfc00000000 ä»¥ä¸Šçš„è¿‡ç¨‹å·²ç»éå¸¸è¯¦å°½äº†ï¼Œç°åœ¨å¯¹ä»¥ä¸Šçš„è¿‡ç¨‹è¿›ä¸€æ­¥è¯´æ˜ã€‚ æ–‡ç« åˆ—å‡ºçš„æ­¥éª¤æ˜¯æ»¡è¶³ä»¥ä¸‹åœºæ™¯çš„ï¼š æœ‰ä¸¤ç»„åœ°å€ï¼Œåˆ†åˆ«å±äºä¸åŒçš„ç§é’¥ï¼Œä»è¿™ä¸¤ç»„åœ°å€ä¸­æå–ä¸¤ä¸ªUTXOï¼Œè¾“å…¥åˆ°ä¸¤ä¸ªç›®æ ‡åœ°å€ä¸­ï¼Œç»™æ¯ä¸ªç›®æ ‡åœ°å€49.9ä¸ªæ¯”ç‰¹å¸ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºç¬¬ä¸€æ¬¡äº¤æ˜“ï¼Œåœ¨ç¬¬ä¸€æ¬¡äº¤æ˜“å¹¿æ’­ä¹‹å‰ï¼Œç«‹åˆ»å‘èµ·ç¬¬äºŒç¬”äº¤æ˜“ã€‚å¯¹ç¬¬äºŒç¬”äº¤æ˜“ç­¾åå®Œæˆä¹‹åï¼Œä¾æ¬¡å¯¹è¿™ä¸¤ä¸ªäº¤æ˜“è¿›è¡Œå¹¿æ’­ã€‚ åœ¨æ­¥éª¤18ä¹‹å‰ï¼Œå’Œå‰é¢æ–‡ç« ä¸­çš„æ„å»ºå¤æ‚äº¤æ˜“æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚ä¸ºäº†ç®€å•é™ä½æ–‡ç« çš„å¤æ‚åº¦ï¼Œå¹¶æ²¡æœ‰è®¾ç½®æ‰¾é›¶ï¼Œå¦‚éœ€è®¾ç½®æ‰¾é›¶ï¼Œå‚è€ƒä¹‹å‰çš„æ–‡ç« ï¼Œåœ¨åˆ›å»ºäº¤æ˜“ä¹‹åè®¾ç½®æ‰¾é›¶åœ°å€å’Œè®¡ç®—äº¤æ˜“è´¹å³å¯ã€‚ å†å¼ºè°ƒä¸€éï¼Œç¦»çº¿ç­¾ç½²çš„é‡ç‚¹æ˜¯ä¸¤ä¸ª åœ¨ç¬¬ä¸€æ¬¡äº¤æ˜“æœªå¹¿æ’­ä¹‹å‰å‘èµ·ç¬¬äºŒç¬”äº¤æ˜“ åœ¨äº¤æ˜“çš„æœ€åï¼Œä¾æ¬¡å¹¿æ’­ é¢å¤–æç¤ºï¼Œå¦‚æœæœ€åå‘ç°äº¤æ˜“æ— æ³•å¹¿æ’­ï¼Œè¯·å›å¤´æŸ¥é˜…ç­¾åé—®é¢˜ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"},{"name":"äº¤æ˜“","slug":"äº¤æ˜“","permalink":"https://imzy.vip/tags/%E4%BA%A4%E6%98%93/"}]},{"title":"å…³äºå­¦ä¹ çš„ä¸¤ä¸‰äº‹","slug":"å…³äºå­¦ä¹ çš„ä¸¤ä¸‰äº‹","date":"2019-10-08T17:21:35.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/45941/","link":"","permalink":"https://imzy.vip/posts/45941/","excerpt":"æ˜¨æ—¥å¼€å‘¨ä¼šleaderåœ¨ä¼šååˆä¸€æ¬¡å¼ºè°ƒäº†è‡ªå·±å¯¹äºç¼–ç¨‹ç”Ÿæ¶¯çš„ä¸€äº›ç»éªŒï¼Œä¹Ÿæå‡ºäº†ä¸€äº›å¯¹æˆ‘ä»¬å›¢é˜Ÿçš„ä¸€äº›å‘Šè¯«ã€‚ä»¥å‰å‚åŠ è¿‡å¾ˆå¤šä¼šè®®ä½†æ˜¯å¾ˆå°‘æœ‰äººç›´æ¥æ‹¿å‡ºè‡ªå·±çš„ç»éªŒè¿›è¡Œâ€ä¼ æˆâ€œï¼Œæ‰€ä»¥ä½œæ­¤æ–‡ï¼Œå¯¹leaderä¼ æˆç»éªŒçš„ç»éªŒè¿›è¡Œå¤è¿°ã€‚æ¯•ç«Ÿç°åœ¨å¬åˆ°è‚ºè…‘ä¹‹è¨€çš„æœºä¼šä¹Ÿä¸æ˜¯é‚£ä¹ˆå¤šã€‚","text":"æ˜¨æ—¥å¼€å‘¨ä¼šleaderåœ¨ä¼šååˆä¸€æ¬¡å¼ºè°ƒäº†è‡ªå·±å¯¹äºç¼–ç¨‹ç”Ÿæ¶¯çš„ä¸€äº›ç»éªŒï¼Œä¹Ÿæå‡ºäº†ä¸€äº›å¯¹æˆ‘ä»¬å›¢é˜Ÿçš„ä¸€äº›å‘Šè¯«ã€‚ä»¥å‰å‚åŠ è¿‡å¾ˆå¤šä¼šè®®ä½†æ˜¯å¾ˆå°‘æœ‰äººç›´æ¥æ‹¿å‡ºè‡ªå·±çš„ç»éªŒè¿›è¡Œâ€ä¼ æˆâ€œï¼Œæ‰€ä»¥ä½œæ­¤æ–‡ï¼Œå¯¹leaderä¼ æˆç»éªŒçš„ç»éªŒè¿›è¡Œå¤è¿°ã€‚æ¯•ç«Ÿç°åœ¨å¬åˆ°è‚ºè…‘ä¹‹è¨€çš„æœºä¼šä¹Ÿä¸æ˜¯é‚£ä¹ˆå¤šã€‚ ç»éªŒçš„æ ¸å¿ƒå¯ä»¥åˆ†ä¸ºå‡ ä¸ªåŸºæœ¬é—®é¢˜ å¦‚ä½•å¯¹å¾…éœ€è¦ç²¾é€šçš„çŸ¥è¯† éœ€è¦ç†Ÿç»ƒçš„çŸ¥è¯†è¯¥å¦‚ä½•å¤„ç† æ£€éªŒæˆé•¿çš„æ–¹æ³• å¦‚ä½•å¯¹å¾…éœ€è¦ç²¾é€šçš„çŸ¥è¯†è¿™ä¸ªé—®é¢˜å…¶å®è¿˜æœ‰ä¸ªå‰ç½®ï¼Œæˆ‘ä»¬éœ€è¦å»ç²¾é€šä»€ä¹ˆï¼Ÿæœ€ç›´æ¥çš„å°±æ˜¯æˆ‘ä»¬éœ€è¦ç²¾é€šä½¿ç”¨çš„è¯­è¨€ã€‚leaderæŒ‡å‡ºï¼Œå¯¹äºå¸¸ç”¨çš„è¯­è¨€ä¸€å®šè¦ç²¾é€šï¼Œæˆ‘ä»¬å¯¹äºè¯­è¨€æœ¬èº«çš„ç”¨æ³•è‡³å°‘è¦é˜…è¯»â€ä¸‰éâ€œã€‚è¿™ä¸‰éæŒ‡çš„æ˜¯å­¦ä¹ è¯­è¨€æœ¬èº«çš„çŸ¥è¯†ï¼Œå¹¶éæ˜¯å…³äºè¯­è¨€ç»éªŒçš„æ€»ç»“ã€‚è¿™ä¸‰éä¹‹ä¸­ä¸€å®šè¦åŒ…å«ä¸€éåŸç‰ˆçš„æ–‡æ¡£ã€‚æ¯”å¦‚å­¦ä¹ rustï¼Œé‚£rustå®˜æ–¹æ–‡æ¡£ï¼ˆè‹±æ–‡ç‰ˆï¼‰æ˜¯ä¸€å®šè¦ä¸¥æ ¼è¿‡ä¸€éçš„ã€‚è¦è¿™ä¹ˆåšçš„åŸå› æœ‰ä¸‹é¢è¿™å‡ æ¡ é˜…è¯»åŸç‰ˆæ–‡æ¡£ï¼Œé¿å…äº†ä¿¡æ¯çš„æŸå¤±å’Œè¯¯ä¼ ã€‚æ¯•ç«Ÿç¿»è¯‘çš„å†å¥½ï¼Œä¹Ÿæœ‰ç¿»è¯‘è€…è‡ªå·±çš„ç†è§£åœ¨é‡Œé¢ï¼Œä¼šé€ æˆäºŒæ‰‹èµ„æ–™çš„é—®é¢˜ã€‚æˆ‘ä»¬ä¸€å®šè¦æœ‰æŠŠæ¡ç¬¬ä¸€æ‰‹èµ„æ–™çš„èƒ½åŠ›ã€‚ é˜…è¯»åŸç‰ˆæ–‡æ¡£ä¼šå¯¹è¯­è¨€æœ¬èº«çš„åŠŸèƒ½åšä¸€ä¸ªå…¨é¢çš„è®¤è¯†ï¼Œä¸€å¼€å§‹ä¸é˜…è¯»è¯­è¨€ç»éªŒçš„çŸ¥è¯†ä¹Ÿæ˜¯è¿™ä¸ªåŸå› ã€‚å®Œæ•´é˜…è¯»æ–‡æ¡£ä¹‹åï¼Œæˆ‘ä»¬è¦ç”¨ä¸€é—¨è¯­è¨€å»åšä¸€ä»¶äº‹èƒ½å¤Ÿæ¸…æ¥šçš„è®¤è¯†åˆ°â€èƒ½ä¸ä¸èƒ½çš„é—®é¢˜â€œã€‚é¿å…äº†å› ä¸ºè®¤çŸ¥ä¸è¶³é€ æˆçš„åå·®ã€‚å› ä¸ºæˆ‘ä»¬çŸ¥è¯†ç‚¹ä¸å…¨ï¼Œå°±å®Œå…¨ä¸ä¼šåœ¨ç›¸å…³çš„æ–¹å‘æ€è€ƒï¼Œå¯¹äºè§£å†³é—®é¢˜æ˜¯ä¸ªå·¨å¤§ç¼ºé™·ã€‚ åŸç‰ˆèµ„æ–™å¯ä»¥æä¾›å¯¹æ¦‚å¿µæœ€ç²¾ç¡®çš„å®šä¹‰ï¼Œä¸€æ—¦æˆ‘ä»¬å‡ºç°äº†é—®é¢˜ï¼Œå»æœç´¢å°±å¯ä»¥éå¸¸ç²¾å‡†çš„æè¿°é—®é¢˜ã€‚å¯¹äºç¼–ç¨‹ï¼ˆæˆ–è€…è¯´å­¦ä¹ ï¼‰â€ç²¾å‡†çš„æè¿°é—®é¢˜â€œï¼Œæ˜¯ä¸€é¡¹éå¸¸é‡è¦çš„èƒ½åŠ›ã€‚å¦‚æœæˆ‘ä»¬èƒ½éå¸¸å‡†ç¡®çš„æè¿°é—®é¢˜æ ‡å¿—ç€é—®é¢˜ç¦»è§£å†³å·²ç»è¿ˆè¿›äº†ä¸€å¤§æ­¥ã€‚ é‚£å…¶ä½™çš„ä¸¤éåšä»€ä¹ˆï¼Ÿå…¶å®è¿˜æ˜¯é˜…è¯»è¯­è¨€æœ¬èº«çš„çŸ¥è¯†ã€‚å¦‚æœæœ¬èº«å¤–æ–‡æ°´å‡†å·®ï¼Œå¯ä»¥æ‰¾ä¸€æœ¬è‡ªå·±æ¯è¯­çš„æ–‡æ¡£çœ‹ï¼Œä½†è¿™ä¸€éå¿…é¡»æ˜¯åœ¨é˜…è¯»åŸç‰ˆææ–™ä¹‹ååšã€‚å½“ç„¶ä¸‰æ˜¯æ³›æŒ‡ï¼Œä½ å¯ä»¥é˜…è¯»å¾ˆå¤šéã€‚å¯¹äºç²¾é€šï¼Œé˜…è¯»å†å¤šéä¹Ÿä¸è¿‡åˆ†ã€‚æŒ‰ç…§æˆ‘çš„ç†è§£ï¼ŒçŸ¥è¯†éœ€è¦è¦†ç›–å‹å­¦ä¹ ï¼Œå› ä¸ºâ€ä¸€éå°±éå¸¸ç†Ÿæ‚‰â€œæ˜¯ä¸€ç§å¥¢æœ›ã€‚ä¸€éå°±ç²¾é€šæ˜¯ä¸ªä¸åˆ‡å®é™…çš„ç›®æ ‡ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€éä¸€éè¿‡æ¥åŠ æ·±ç†Ÿç»ƒåº¦ã€‚æˆ‘ä»¬å¯¹è¯­è¨€æœ‰ä¸€å®šçš„è®¤è¯†ä¹‹åï¼ˆæ‡‚äº†è¯­æ³•ï¼Œå†™äº†ä¸€å®šé‡çš„ä»£ç ï¼‰ï¼Œè‡ªç„¶æ€»ç»“å‡ºè¯­è¨€çš„é‡ç‚¹ï¼Œè¿™æ—¶å€™å°±å¯ä»¥é˜…è¯»åˆ«äººå…³äºè¿™é—¨è¯­è¨€çš„ç»éªŒã€‚ç±»ä¼¼äºã€ŠEffective Javaã€‹è¿™ç±»ä¹¦ç±å°±æ˜¯åœ¨æœ‰ä¸€å®šç»éªŒä¹‹åæ€»ç»“å‡ºæ¥çš„ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»„ç»‡å‡ºè‡ªå·±çš„ç»éªŒï¼ˆè¿™æ˜¯å¿…é¡»çš„ï¼‰ã€‚ éœ€è¦ç†Ÿç»ƒçš„çŸ¥è¯†è¯¥å¦‚ä½•å¤„ç†åœ¨éœ€è¦ä¸“ç²¾çš„çŸ¥è¯†ä¹‹å¤–ï¼Œæ˜¯å¯¹äºç†Ÿç»ƒçŸ¥è¯†çš„æŠŠæ¡ã€‚ç›´æ¥ç‚¹è¯´ï¼Œå¯¹å·¥å…·çš„æŠŠæ¡å°±æ˜¯è¿™ç±»çŸ¥è¯†ã€‚æ¯”å¦‚å†™ä»£ç éœ€è¦ä½¿ç”¨Clionã€‚æˆ‘ä»¬åˆå§‹è¦åšçš„å¾ˆç®€å•ï¼Œå°±æ˜¯ç›´æ¥ç”¨Clionå†™ä»£ç å°±å¯ä»¥äº†ã€‚ç”¨äº†ä¸€æ®µæ—¶é—´ä¹‹åå‘ç°ç½‘ç»œä¸å¥½ï¼Œæˆ‘ä»¬å†å»æœç´¢â€Clionå¦‚ä½•è®¾ç½®ä»£ç†â€œè¿™ç±»çŸ¥è¯†ã€‚æˆ–è€…ç”¨åˆ°å¦ä¸€ä¸ªé˜¶æ®µäº†ï¼Œæˆ‘ä»¬éœ€è¦debugï¼ŒæŒ‰ç…§å¸¸ç†IDEè‚¯å®šæ˜¯æœ‰è®¾ç½®æ–­ç‚¹Debugçš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å†å»æœç´¢â€Clionå¦‚ä½•è®¾ç½®æ–­ç‚¹è¿›è¡ŒDebugâ€œä¹‹ç±»çš„çŸ¥è¯†ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦åƒä¸Šé¢çš„ç²¾é€šç±»çŸ¥è¯†é‚£æ ·ï¼Œå…ˆé˜…è¯»ä¸€éClionåŠŸèƒ½æ–‡æ¡£å†å¼€å§‹ç”¨ï¼ˆä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼‰ã€‚æ€»ç»“èµ·æ¥å°±æ˜¯ï¼šé¢å‘éœ€æ±‚å­¦ä¹ ï¼Œç”¨åˆ°ç°å­¦å³å¯ã€‚ æ£€éªŒæˆé•¿çš„æ–¹æ³•æ— è®ºæ˜¯ç²¾é€šç±»çŸ¥è¯†è¿˜æ˜¯ç†Ÿç»ƒç±»çŸ¥è¯†ï¼Œæˆ‘ä»¬éƒ½æœ‰ä¸€ä¸ªä»æ— åˆ°æœ‰ï¼Œä»ç”Ÿç–åˆ°ç†Ÿç»ƒçš„è¿‡ç¨‹ã€‚æ•´ä¸ªè¿‡ç¨‹å¿…ç„¶ä¼´éšå¤§é‡çš„æ€è€ƒã€‚æŒ‰ç…§å­¦ä¹ çš„ç†è®ºï¼Œä¸€ä¸ªå®Œæ•´çš„å­¦ä¹ è¿‡ç¨‹åŒ…æ‹¬è¾“å…¥ï¼Œæ€è€ƒå’Œè¾“å‡ºä¸‰å¤§è¿‡ç¨‹ã€‚å½“ç„¶æ›´å¥½çš„å­¦ä¹ æ¨¡å‹è¿˜ä¼´éšç€åé¦ˆå’Œå†å­¦ä¹ çš„è¿‡ç¨‹è¿™é‡Œå…ˆä¸è°ˆã€‚å­¦ä¹ è¿‡ç¨‹æ²¡æœ‰è¾“å‡ºæ˜¯ä¸å®Œæ•´çš„ã€‚å¦‚æœæˆ‘ä»¬å­¦ä¹ äº†ä¸€é—¨çŸ¥è¯†ï¼Œä¸€ä¸ªè¯­è¨€ï¼Œä¸€ç§å·¥å…·å¦‚æœä»€ä¹ˆä¸œè¥¿éƒ½æ²¡æœ‰äº§ç”Ÿï¼Œé‚£è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å¤±è´¥çš„ã€‚å­¦ä¹ æ˜¯ä¸€ä¸ªä¸æ–­å‘ç°é—®é¢˜ï¼Œè§£å†³é—®é¢˜çš„å¾ªç¯ã€‚æˆ‘ä»¬å¤§éƒ¨åˆ†æ—¶å€™éƒ½å¯ä»¥è®°å½•è¿™ä¸ªè¿‡ç¨‹ï¼Œä¸çŠ¯åŒæ ·çš„é”™è¯¯å°±æ˜¯å·¨å¤§çš„è¿›æ­¥ã€‚å½“ç„¶å¤§å¸ˆä»¬äº¦å¯ä»¥æ€»ç»“å‡ºã€ŠEffective Javaã€‹è¿™æ ·çš„ç»å…¸ä¹‹ä½œã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä¸æ–­å®Œå–„è¿™ä¸ªåšå®¢çš„ç†ç”±ã€‚ä¸€ä¸ªæ›´ç®€å•çš„æ ‡å‡†å°±æ˜¯ï¼Œä½ å­¦ä¹ äº†ä¸€é—¨è¯­è¨€æœ‰æ–°äººè¿›æ¥å­¦ä¹ è¿™é—¨è¯­è¨€ï¼Œâ€å¦‚æœä½ æ‹¿ä¸å‡ºæœ‰æ•ˆçš„å»ºè®®ï¼Œè¯´ä¸å‡ºè¯­è¨€çš„é‡ç‚¹ï¼Œæ²¡æ‰¾åˆ°è¯­è¨€çš„å‘â€œé‚£ä½ çš„å­¦ä¹ å°±æ˜¯æœ‰é—®é¢˜çš„ã€‚å½“ä½ å†…å¿ƒäº§ç”Ÿï¼Œâ€è¿™äº›é—®é¢˜éƒ½å¾ˆç®€å•æ²¡ä»€ä¹ˆå€¼å¾—ä¸€æçš„â€œè¿™ä¸ªè§‚å¿µçš„è¯ï¼Œé‚£ä½ å­¦ä¹ é—®é¢˜å°±å¤§äº†ï¼Œå»ºè®®å†è¯»ä¸€ç¯‡è¿™ç¯‡æ–‡ç« ã€‚","categories":[{"name":"æ„Ÿæ‚Ÿ","slug":"æ„Ÿæ‚Ÿ","permalink":"https://imzy.vip/categories/%E6%84%9F%E6%82%9F/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://imzy.vip/tags/%E5%AD%A6%E4%B9%A0/"}]},{"title":"æ„å»ºå¤æ‚äº¤æ˜“","slug":"æ„å»ºå¤æ‚äº¤æ˜“","date":"2019-09-28T17:43:13.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/34596/","link":"","permalink":"https://imzy.vip/posts/34596/","excerpt":"æœ¬æ–‡åœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šæ„å»ºå¤æ‚äº¤æ˜“ã€‚","text":"æœ¬æ–‡åœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šæ„å»ºå¤æ‚äº¤æ˜“ã€‚ å…ˆå¯¹â€å¤æ‚â€è¿›è¡Œå®šä¹‰ å¤æ‚æŒ‡çš„æ˜¯ æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªäº¤æ˜“è¾“å…¥ï¼Œè¾“å‡ºåˆ°ä¸¤ä¸ªåœ°å€ä¸Šã€‚ä¸”è®¾å®šä¸¤ä¸ªè¾“å…¥äº¤æ˜“æ˜¯è¾“å…¥ä¸åŒçš„äººçš„ï¼ˆè¾“å…¥å±äºä¸åŒçš„ç§é’¥ï¼‰ã€‚ æŒ‰ç…§æƒ¯ä¾‹åˆ—å‡ºä¸»å¹²è¿‡ç¨‹ æ„å»ºå¤šè¾“å…¥ï¼Œå¤šè¾“å‡ºçš„è£¸äº¤æ˜“ ä¾æ¬¡è¿›è¡Œç­¾å å¹¿æ’­ å› ä¸ºä¹‹å‰çš„æ–‡ç« æ¼”ç¤ºå·²ç»éå¸¸è¯¦ç»†ï¼Œæ•…æœ¬æ–‡ä¸åœ¨åšé¢å¤–å±•ç¤ºï¼Œå¦å¤–è®¸å¤šæµ‹è¯•è¿‡ç¨‹ä¹Ÿä¸å†åˆ—å‡ºï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209// å¤æ‚äº¤æ˜“ æ‰€è°“çš„å¤æ‚ å®šä¹‰ä¸º 2ä¸ªè¾“å…¥ åˆ°ä¸¤ä¸ªè¾“å‡ºç¬¦åˆå®˜æ–¹ä¾‹å­ä¸­çš„æƒ…å†µ//1. å¯åŠ¨ç§é“¾bitcoind -printtoconsole -regtest//2. æŸ¥è¯¢é“¾ä¿¡æ¯bitcoin-cli -regtest -getinfo//3. ä¸ºäº†ç¬¦åˆå¤æ‚äº¤æ˜“çŠ¶å†µ ç”Ÿæˆç¬¬ä¸€ä¸ªè¾“å…¥åœ°å€ 2MzJ3PzMX6Q2b1yXLpJsQuBP5MmUbsmpQWebitcoin-cli -regtest getnewaddress//4. å¯¼å‡ºæåœ°å€ç§é’¥ å¤‡ç”¨ cQ9CcvcJziXzpZkwN5JRAptqPJobyaX63JByrEYPN5noBiW4kwn1bitcoin-cli -regtest dumpprivkey 2MzJ3PzMX6Q2b1yXLpJsQuBP5MmUbsmpQWe//5. ç»™è¿™ä¸ªåœ°å€æŒ–çŸ¿ nblocks = 101 bitcoin-cli -regtest generatetoaddress 101 2MzJ3PzMX6Q2b1yXLpJsQuBP5MmUbsmpQWe//6. è·å–å½“å‰è´¦æˆ·ä¸‹çš„ä¿¡æ¯ ç¡®è®¤101ä¸ªå— å¾—åˆ°50ä¸ªæ¯”ç‰¹å¸bitcoin-cli -regtest getbalance//7. å‡†å¤‡ç¬¬äºŒä¸ªåœ°å€ 2NGBsgoTEPFHF5qu83o91ZXu8JE9zT2HL9cbitcoin-cli -regtest getnewaddress//8. å¯¼å‡ºç§é’¥ cS6U3fHjJLb63WTVVRNEFw5DT2DPWefMGaUFwmBsRVm69vvub9iDbitcoin-cli -regtest dumpprivkey 2NGBsgoTEPFHF5qu83o91ZXu8JE9zT2HL9c//9. æŒ–çŸ¿ nblocks = 1bitcoin-cli -regtest generatetoaddress 1 2NGBsgoTEPFHF5qu83o91ZXu8JE9zT2HL9c//10. å†æ¬¡æŸ¥è¯¢è´¦æˆ·ä¿¡æ¯bitcoin-cli -regtest getbalance//11. ç”Ÿæˆä¸¤ä¸ªåœ°å€ä½œä¸ºè¾“å‡º 2N4EGkdkHKqhChzTG2bgM28xWcykZNkaUapbitcoin-cli -regtest getnewaddress//12. ç»§ç»­ 2MvgpC6bYH1GocTNTFwzNJtXX8t3FuN6gXFbitcoin-cli -regtest getnewaddress//13. æŸ¥è¯¢UTXObitcoin-cli -regtest listunspent//14. ç¡®è®¤æ•°ç›®ä¸å¤ªå¤Ÿ å¤šæŒ–å‡ æ¬¡bitcoin-cli -regtest generatetoaddress 9 2NGBsgoTEPFHF5qu83o91ZXu8JE9zT2HL9cbitcoin-cli -regtest generatetoaddress 3 2MzJ3PzMX6Q2b1yXLpJsQuBP5MmUbsmpQWebitcoin-cli -regtest generatetoaddress 100 2NGBsgoTEPFHF5qu83o91ZXu8JE9zT2HL9c//15 æŒ–äº†è¶³å¤Ÿå¤šçš„çŸ¿ä¹‹å ï¼ˆä¹‹æ‰€ä»¥æŒ–è¿™ä¹ˆå¤šæ¬¡ï¼ŒæŒ–çŸ¿å¾—100å—ä¸ªç¡®è®¤ä»¥åæ‰å¯ä»¥ç”¨ï¼‰ æŸ¥è¯¢UTXObitcoin-cli -regtest listunspentæ³¨æ„ä»¥ä¸‹çš„ç»“æœä¸æ˜¯å…¨éƒ¨ éšæœºæˆªå–äº†ä¸€éƒ¨åˆ† &#123; &quot;txid&quot;: &quot;63e68a9f7a9d30022a402fe5594c5ab2adf4f6497ed10a248b58c39de0acbce6&quot;, &quot;vout&quot;: 0, &quot;address&quot;: &quot;2MzJ3PzMX6Q2b1yXLpJsQuBP5MmUbsmpQWe&quot;, &quot;label&quot;: &quot;&quot;, &quot;redeemScript&quot;: &quot;00148812514082f6599305a1b5c23b9657f852d88099&quot;, &quot;scriptPubKey&quot;: &quot;a9144d514986fc491a05730271047dfa5526aff5d29687&quot;, &quot;amount&quot;: 50.00000000, &quot;confirmations&quot;: 217, &quot;spendable&quot;: true, &quot;solvable&quot;: true, &quot;desc&quot;: &quot;sh(wpkh([bec83093/0&#x27;/0&#x27;/13&#x27;]03f606bed5b7003c34c5098725d3654be8df600a78e0940cf3d833d112066663dd))#lwl54ngn&quot;, &quot;safe&quot;: true &#125;, &#123; &quot;txid&quot;: &quot;b1de08a9e8d803c5b34010773afb0cf607831dc36a7569192e5828f6959719eb&quot;, &quot;vout&quot;: 0, &quot;address&quot;: &quot;2NGBsgoTEPFHF5qu83o91ZXu8JE9zT2HL9c&quot;, &quot;label&quot;: &quot;&quot;, &quot;redeemScript&quot;: &quot;0014e1183a028e4141aae89a68bcd1482fb9c692bf60&quot;, &quot;scriptPubKey&quot;: &quot;a914fba8b2c876c9e477be38d3f3c9fa81a8cca35bed87&quot;, &quot;amount&quot;: 50.00000000, &quot;confirmations&quot;: 116, &quot;spendable&quot;: true, &quot;solvable&quot;: true, &quot;desc&quot;: &quot;sh(wpkh([bec83093/0&#x27;/0&#x27;/14&#x27;]02754e91c7f819cf0ffc1842ab00ec19cc5468229ad3a21c36906fa26836f0dfdc))#edq6mslq&quot;, &quot;safe&quot;: true &#125;, &#123; &quot;txid&quot;: &quot;7024e9a21a2b55a93de2fa0d6828ac64243212140ea37055026b8cfeb3133deb&quot;, &quot;vout&quot;: 0, &quot;address&quot;: &quot;2NGBsgoTEPFHF5qu83o91ZXu8JE9zT2HL9c&quot;, &quot;label&quot;: &quot;&quot;, &quot;redeemScript&quot;: &quot;0014e1183a028e4141aae89a68bcd1482fb9c692bf60&quot;, &quot;scriptPubKey&quot;: &quot;a914fba8b2c876c9e477be38d3f3c9fa81a8cca35bed87&quot;, &quot;amount&quot;: 50.00000000, &quot;confirmations&quot;: 118, &quot;spendable&quot;: true, &quot;solvable&quot;: true, &quot;desc&quot;: &quot;sh(wpkh([bec83093/0&#x27;/0&#x27;/14&#x27;]02754e91c7f819cf0ffc1842ab00ec19cc5468229ad3a21c36906fa26836f0dfdc))#edq6mslq&quot;, &quot;safe&quot;: true &#125;, &#123; &quot;txid&quot;: &quot;e7a5e1ea37512ec2609d18a9a4040e900e35656cbbf143bb352b42421d50c5f5&quot;, &quot;vout&quot;: 0, &quot;address&quot;: &quot;2MzJ3PzMX6Q2b1yXLpJsQuBP5MmUbsmpQWe&quot;, &quot;label&quot;: &quot;&quot;, &quot;redeemScript&quot;: &quot;00148812514082f6599305a1b5c23b9657f852d88099&quot;, &quot;scriptPubKey&quot;: &quot;a9144d514986fc491a05730271047dfa5526aff5d29687&quot;, &quot;amount&quot;: 50.00000000, &quot;confirmations&quot;: 201, &quot;spendable&quot;: true, &quot;solvable&quot;: true, &quot;desc&quot;: &quot;sh(wpkh([bec83093/0&#x27;/0&#x27;/13&#x27;]03f606bed5b7003c34c5098725d3654be8df600a78e0940cf3d833d112066663dd))#lwl54ngn&quot;, &quot;safe&quot;: true &#125;, &#123; &quot;txid&quot;: &quot;d9be71cd09f9e9a47ef54b5b06db8c8c12aad28f0ef76f08b5a838d8a90a85fc&quot;, &quot;vout&quot;: 0, &quot;address&quot;: &quot;2NGBsgoTEPFHF5qu83o91ZXu8JE9zT2HL9c&quot;, &quot;label&quot;: &quot;&quot;, &quot;redeemScript&quot;: &quot;0014e1183a028e4141aae89a68bcd1482fb9c692bf60&quot;, &quot;scriptPubKey&quot;: &quot;a914fba8b2c876c9e477be38d3f3c9fa81a8cca35bed87&quot;, &quot;amount&quot;: 50.00000000, &quot;confirmations&quot;: 120, &quot;spendable&quot;: true, &quot;solvable&quot;: true, &quot;desc&quot;: &quot;sh(wpkh([bec83093/0&#x27;/0&#x27;/14&#x27;]02754e91c7f819cf0ffc1842ab00ec19cc5468229ad3a21c36906fa26836f0dfdc))#edq6mslq&quot;, &quot;safe&quot;: true &#125;, &#123; &quot;txid&quot;: &quot;2dd092c66f124e326cc41de4c2c63aa8a4cc3f2b09d68d5eb4f15eae195834fd&quot;, &quot;vout&quot;: 0, &quot;address&quot;: &quot;2MzJ3PzMX6Q2b1yXLpJsQuBP5MmUbsmpQWe&quot;, &quot;label&quot;: &quot;&quot;, &quot;redeemScript&quot;: &quot;00148812514082f6599305a1b5c23b9657f852d88099&quot;, &quot;scriptPubKey&quot;: &quot;a9144d514986fc491a05730271047dfa5526aff5d29687&quot;, &quot;amount&quot;: 50.00000000, &quot;confirmations&quot;: 224, &quot;spendable&quot;: true, &quot;solvable&quot;: true, &quot;desc&quot;: &quot;sh(wpkh([bec83093/0&#x27;/0&#x27;/13&#x27;]03f606bed5b7003c34c5098725d3654be8df600a78e0940cf3d833d112066663dd))#lwl54ngn&quot;, &quot;safe&quot;: true &#125; ä»ä¸­é—´æå–ä¸¤ç»„åˆ†å±äºä¸åŒåœ°å€çš„äº¤æ˜“ä½œä¸ºå¤æ‚äº¤æ˜“çš„è¾“å…¥ ç¬¬ä¸€ç»„: txid: 63e68a9f7a9d30022a402fe5594c5ab2adf4f6497ed10a248b58c39de0acbce6 vout: 0 address: 2MzJ3PzMX6Q2b1yXLpJsQuBP5MmUbsmpQWe privkey: cQ9CcvcJziXzpZkwN5JRAptqPJobyaX63JByrEYPN5noBiW4kwn1 ç¬¬äºŒç»„: txid: b1de08a9e8d803c5b34010773afb0cf607831dc36a7569192e5828f6959719eb vout: 0 address: 2NGBsgoTEPFHF5qu83o91ZXu8JE9zT2HL9c privkey: cS6U3fHjJLb63WTVVRNEFw5DT2DPWefMGaUFwmBsRVm69vvub9iD ç›®æ ‡åœ°å€ 2N4EGkdkHKqhChzTG2bgM28xWcykZNkaUap 2MvgpC6bYH1GocTNTFwzNJtXX8t3FuN6gXF16. åœ¨è¿™ä¸ªåŸºç¡€ä¸Šåˆ›å»ºè£¸äº¤æ˜“ ç»™ä¸¤ä¸ªåœ°å€åˆ†åˆ«å‘é€49.9ä¸ªæ¯”ç‰¹å¸bitcoin-cli -regtest createrawtransaction &#x27;&#x27;&#x27; [ &#123; &quot;txid&quot;: &quot;63e68a9f7a9d30022a402fe5594c5ab2adf4f6497ed10a248b58c39de0acbce6&quot;, &quot;vout&quot;: 0 &#125;, &#123; &quot;txid&quot;: &quot;b1de08a9e8d803c5b34010773afb0cf607831dc36a7569192e5828f6959719eb&quot;, &quot;vout&quot;: 0 &#125; ] &#x27;&#x27;&#x27; &#x27;&#x27;&#x27; &#123; &quot;2N4EGkdkHKqhChzTG2bgM28xWcykZNkaUap&quot;: 49.9, &quot;2MvgpC6bYH1GocTNTFwzNJtXX8t3FuN6gXF&quot;: 49.9 &#125;&#x27;&#x27;&#x27;ç»“æœ0200000002e6bcace09dc3588b240ad17e49f6f4adb25a4c59e52f402a02309d7a9f8ae6630000000000ffffffffeb199795f628582e1969756ac31d8307f60cfb3a771040b3c503d8e8a908deb10000000000ffffffff02805b6d290100000017a914787b46861a008ef11cf4168db5e2c787afa0b25e87805b6d290100000017a91425bf54042e8fdc3f50d00ada9fdae02fe4313c91870000000017. ç°åœ¨ä¸€æ¬¡è¿›è¡Œç­¾å è¿™é‡Œä½¿ç”¨ç§é’¥è¿›è¡Œç­¾åbitcoin-cli -regtest signrawtransactionwithkey &quot;0200000002e6bcace09dc3588b240ad17e49f6f4adb25a4c59e52f402a02309d7a9f8ae6630000000000ffffffffeb199795f628582e1969756ac31d8307f60cfb3a771040b3c503d8e8a908deb10000000000ffffffff02805b6d290100000017a914787b46861a008ef11cf4168db5e2c787afa0b25e87805b6d290100000017a91425bf54042e8fdc3f50d00ada9fdae02fe4313c918700000000&quot; &quot;[\\&quot;cQ9CcvcJziXzpZkwN5JRAptqPJobyaX63JByrEYPN5noBiW4kwn1\\&quot;]&quot;&#123; &quot;hex&quot;: &quot;02000000000102e6bcace09dc3588b240ad17e49f6f4adb25a4c59e52f402a02309d7a9f8ae66300000000171600148812514082f6599305a1b5c23b9657f852d88099ffffffffeb199795f628582e1969756ac31d8307f60cfb3a771040b3c503d8e8a908deb10000000000ffffffff02805b6d290100000017a914787b46861a008ef11cf4168db5e2c787afa0b25e87805b6d290100000017a91425bf54042e8fdc3f50d00ada9fdae02fe4313c91870247304402200323249f760bfe0683673b1af15c893bb695ae154f961c1eb133eacaed89c604022006ec0658177cf101264cd50b23f34a945ecd5359c0f15039962d8ec859a5c497012103f606bed5b7003c34c5098725d3654be8df600a78e0940cf3d833d112066663dd0000000000&quot;, &quot;complete&quot;: false, &quot;errors&quot;: [ &#123; &quot;txid&quot;: &quot;b1de08a9e8d803c5b34010773afb0cf607831dc36a7569192e5828f6959719eb&quot;, &quot;vout&quot;: 0, &quot;witness&quot;: [ ], &quot;scriptSig&quot;: &quot;&quot;, &quot;sequence&quot;: 4294967295, &quot;error&quot;: &quot;Unable to sign input, invalid stack size (possibly missing key)&quot; &#125; ]&#125;18. è¿›è¡Œç¬¬äºŒæ¬¡ç­¾å æ³¨æ„è¿™æ¬¡éœ€è¦ä¸Šæ¬¡ç­¾åä¹‹åçš„hex ä¹Ÿå°±æ˜¯è¯´éœ€è¦ç­¾åä¹‹åå†ç­¾ ç­¾åæ˜¯é€æ¸å˜é•¿çš„&#123; &quot;hex&quot;: &quot;02000000000102e6bcace09dc3588b240ad17e49f6f4adb25a4c59e52f402a02309d7a9f8ae66300000000171600148812514082f6599305a1b5c23b9657f852d88099ffffffffeb199795f628582e1969756ac31d8307f60cfb3a771040b3c503d8e8a908deb10000000017160014e1183a028e4141aae89a68bcd1482fb9c692bf60ffffffff02805b6d290100000017a914787b46861a008ef11cf4168db5e2c787afa0b25e87805b6d290100000017a91425bf54042e8fdc3f50d00ada9fdae02fe4313c91870247304402200323249f760bfe0683673b1af15c893bb695ae154f961c1eb133eacaed89c604022006ec0658177cf101264cd50b23f34a945ecd5359c0f15039962d8ec859a5c497012103f606bed5b7003c34c5098725d3654be8df600a78e0940cf3d833d112066663dd02473044022070bf83bb965f10cdd949f696b4268bdaac9a4349250ec9acba28d8e113e5152702204eef794121db0701aeafbe13e0f6cc0db270ed6840b8155071af46b8f644f886012102754e91c7f819cf0ffc1842ab00ec19cc5468229ad3a21c36906fa26836f0dfdc00000000&quot;, &quot;complete&quot;: true&#125;19. å¹¿æ’­å³å¯ ä¸å†å±•ç¤º æŒ‰ç…§ä»¥ä¸Šè¿‡ç¨‹å³å¯å®Œæˆã€‚ è¿™ä¸ªè¿‡ç¨‹çš„é‡ç‚¹æ˜¯ä¾æ¬¡ç­¾åï¼Œç¬¬ä¸€æ¬¡ç­¾åä¹‹åï¼Œåœ¨ç¬¬ä¸€æ¬¡ç­¾åçš„åŸºç¡€ä¸Šå†æ¬¡ç­¾åã€‚ç­¾ä¸ŠåŠ ç­¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œå¦‚æœéœ€è¦ n ä¸ªè¾“å…¥å°±è¿ç»­è¿›è¡Œ n æ¬¡ç­¾åã€‚ è¿˜æœ‰éœ€è¦æ³¨æ„çš„ç‚¹ å› ä¸ºæ˜¯ä¸¤ä¸ªè¾“å…¥åˆ†åˆ«å±äºä¸åŒçš„äººï¼ˆä¸åŒçš„ç§˜é’¥ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ signrawtransactionwithkey æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä¹‹å‰ä¾‹å­ä¸­ä½¿ç”¨é’±åŒ…çš„ç­¾åæ–¹æ³•ã€‚ è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿä½¿ç”¨äº† createrawtransaction ï¼Œæœªè®¾å®šæ‰¾é›¶åœ°å€ï¼Œæ‰€ä»¥è¾“å…¥å’Œè¾“å‡ºçš„å·®å€¼è¿˜æ˜¯ä¼šä½œä¸ºäº¤æ˜“è´¹ç”¨è´¡çŒ®ç»™çŸ¿å·¥ï¼Œè¯·è°¨æ…æ“ä½œ å¦‚æœè¦ä½¿ç”¨å¸¦æœ‰æ‰¾é›¶çš„äº¤æ˜“ï¼Œå‚è€ƒä¸Šä¸€ç¯‡æ–‡ç« éœ€è¦ä½¿ç”¨ fundrawtrastion æŒ‡å®šæ‰¾é›¶åœ°å€å’Œè®¡ç®—äº¤æ˜“è´¹ï¼Œå¦‚åœ¨æœ¬æ–‡çš„æµç¨‹ä¸­ï¼Œå¯ä»¥åœ¨æ­¥éª¤16ä¹‹åä½¿ç”¨ fundrawtrastion æŒ‡å®šæ‰¾é›¶åœ°å€ã€‚ç„¶åå†ç­¾åã€‚ ç›´æ¥æ“ä½œç§é’¥æ˜¯ä¸€ç§éå¸¸å±é™©çš„è¡Œä¸ºï¼Œè¯·å‚è€ƒè€…æ¸…æ¥šè‡ªå·±åœ¨åšä»€ä¹ˆï¼Œä»¥å…é€ æˆä¸å¿…è¦çš„æŸå¤± æœ€åå†ç•™ä¸€ä¸ªå¼•å­ï¼Œå‡å¦‚ç¬¬19æ­¥ä¸è¿›è¡Œå¹¿æ’­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¬¬19æ­¥çš„åŸºç¡€ä¸Šè¿›è¡Œç¦»çº¿ç­¾åã€‚æ¢å¥è¯è¯´ï¼Œè¿™ä¸ªäº¤æ˜“ä¸è¿›è¡Œå¹¿æ’­ï¼Œé‚£ä»–å°±ä¸å­˜åœ¨äº¤æ˜“èŠ‚ç‚¹ä¸Šæˆ–è€…å†…å­˜æ± ä¸­ï¼Œæ˜¯ä¸€ä¸ªä¸å¯ä¿¡äº¤æ˜“ï¼ˆunconfirmed transactionsï¼‰ã€‚å…³äºç¦»çº¿ç­¾åï¼ˆ Offline Signingï¼‰æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Œå¦‚ä½•ä½¿ç”¨ä¼šåœ¨åç»­çš„æ–‡ç« ä¸­åˆ—å‡ºã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"},{"name":"äº¤æ˜“","slug":"äº¤æ˜“","permalink":"https://imzy.vip/tags/%E4%BA%A4%E6%98%93/"},{"name":"å¤æ‚äº¤æ˜“","slug":"å¤æ‚äº¤æ˜“","permalink":"https://imzy.vip/tags/%E5%A4%8D%E6%9D%82%E4%BA%A4%E6%98%93/"}]},{"title":"åˆ›å»ºå…·æœ‰æ‰¾é›¶åœ°å€çš„äº¤æ˜“","slug":"åˆ›å»ºå…·æœ‰æ‰¾é›¶åœ°å€çš„äº¤æ˜“","date":"2019-09-25T17:05:54.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/27102/","link":"","permalink":"https://imzy.vip/posts/27102/","excerpt":"ä¹‹å‰çš„æ–‡ç« è®²äº†æ„å»ºè£¸äº¤æ˜“çš„è¿‡ç¨‹ï¼Œä½†æ˜¯ä¸Šæ–‡ç›´æ¥æ„å»ºè£¸äº¤æ˜“æ˜¯æ²¡æœ‰åˆ›å»ºæ‰¾é›¶åœ°å€çš„ï¼Œæ‰€ä»¥è¾“å…¥å’Œè¾“å‡ºçš„å·®å€¼éƒ½ä¼šæˆä¸ºçŸ¿å·¥çš„äº¤æ˜“è´¹ã€‚æå®¹æ˜“é€ æˆé«˜é¢çš„äº¤æ˜“è´¹ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« åœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šä½¿ç”¨ fundrawtransaction æ¥åˆ›å»ºå…·æœ‰æ‰¾é›¶åœ°å€çš„äº¤æ˜“ã€‚","text":"ä¹‹å‰çš„æ–‡ç« è®²äº†æ„å»ºè£¸äº¤æ˜“çš„è¿‡ç¨‹ï¼Œä½†æ˜¯ä¸Šæ–‡ç›´æ¥æ„å»ºè£¸äº¤æ˜“æ˜¯æ²¡æœ‰åˆ›å»ºæ‰¾é›¶åœ°å€çš„ï¼Œæ‰€ä»¥è¾“å…¥å’Œè¾“å‡ºçš„å·®å€¼éƒ½ä¼šæˆä¸ºçŸ¿å·¥çš„äº¤æ˜“è´¹ã€‚æå®¹æ˜“é€ æˆé«˜é¢çš„äº¤æ˜“è´¹ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« åœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šä½¿ç”¨ fundrawtransaction æ¥åˆ›å»ºå…·æœ‰æ‰¾é›¶åœ°å€çš„äº¤æ˜“ã€‚ å…ˆåˆ—å‡ºä¸»å¹² åˆ›å»ºä¸€ç¬”æ²¡æœ‰è¾“å…¥çš„äº¤æ˜“ æ·»åŠ å……è¶³çš„æœªç­¾åçš„çš„äº¤æ˜“æ¥æ»¡è¶³äº¤æ˜“éœ€æ±‚ ç­¾å å¹¿æ’­ å…·ä½“è¿‡ç¨‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202// å¯åŠ¨ç§é“¾1. bitcoind -printtoconsole -regtest // å…¶ä½™å‚æ•°å…¨éƒ¨å‚ç…§åŸæ¥çš„è®¾è®¡,å…¶ä½™å‡ ä¸ªé¡¹ç›®éƒ½å» .bitcoin/bitcoin.conf ä¸‹å»æ‰////å…ˆæµ‹è¯•ç§é“¾èµ·æ¥äº†æ²¡æœ‰2. bitcoin-cli -regtest -getinfo//åœ¨æŸ¥è¯¢ä¸€ä¸‹3. bitcoin-cli -regtest getbestblockhash//æŸ¥è¯¢å½“å‰ç”¨æˆ·ä¿¡æ¯ ä¸å‡ºæ‰€æ–™çš„è¯éƒ½åº”è¯¥æ²¡æœ‰å¸çš„4. bitcoin-cli -regtest getbalance//ç”Ÿæˆä¸€ä¸ªåœ°å€ä½œä¸ºåˆå§‹åœ°å€ 2N9nBBNFP4BFFZWzvQTwQKF96RxidHx4p8K5. bitcoin-cli -regtest getnewaddress//éªŒè¯ä¸€ä¸‹è¿™ä¸ªåœ°å€6. bitcoin-cli -regtest validateaddress 2N9nBBNFP4BFFZWzvQTwQKF96RxidHx4p8K// è¾“å‡º&#123; &quot;isvalid&quot;: true, &quot;address&quot;: &quot;2N9nBBNFP4BFFZWzvQTwQKF96RxidHx4p8K&quot;, &quot;scriptPubKey&quot;: &quot;a914b55c9006466ed8bad87d9f7af0aed405764eb0a887&quot;, &quot;isscript&quot;: true, &quot;iswitness&quot;: false&#125;//å°è¯•å¯¼å‡ºè¿™ä¸ªç§é’¥ cQUSPugSndqrg9UkVKvgeowJpptyyxHFEE5TcstjJnw8NzeUKPCg7. bitcoin-cli -regtest dumpprivkey 2N9nBBNFP4BFFZWzvQTwQKF96RxidHx4p8K//å¼€å§‹æŒ–çŸ¿ æ³¨æ„è¿™é‡Œçš„ api å‘ç”Ÿäº†å˜åŒ– ä»¥å‰æ˜¯ç›´æ¥generate ç°åœ¨æ¨èä¸‹é¢çš„æ–¹æ³• ç›´æ¥100ä¸ªåŒºå—åˆ°ä¹‹å‰ç”Ÿæˆçš„åœ°å€ä¸Š8. bitcoin-cli -regtest generatetoaddress 101 2N9nBBNFP4BFFZWzvQTwQKF96RxidHx4p8K//æ¥ä¸‹æ¥ è·å–å½“å‰è´¦æˆ·ä¸‹çš„ä¿¡æ¯ ç¡®è®¤ä¸€ç™¾ä¸ªå— å¾—åˆ°50ä¸ªæ¯”ç‰¹å¸9. bitcoin-cli -regtest getbalance//å†ç”Ÿæˆç¬¬äºŒä¸ªåœ°å€ ç”¨äºæ¥å—è½¬è´¦ 2NByxgfmQxVuQXB16GY1J2ru6RGfNEdgPk310. bitcoin-cli -regtest getnewaddress//å…ˆåˆ›å»ºä¸€ç¬”æ²¡æœ‰è¾“å…¥çš„äº¤æ˜“ è½¬è´¦ç»™æˆ‘ä»¬çš„ç›®æ ‡åœ°å€35ä¸ªæ¯”ç‰¹å¸ 02000000000100c39dd00000000017a914cd876025d3d13aa7ed999128d40100a9f26a65ea870000000011. bitcoin-cli -regtest createrawtransaction &#x27;[]&#x27; &#x27;&#123;&quot;2NByxgfmQxVuQXB16GY1J2ru6RGfNEdgPk3&quot;:35&#125;&#x27;//æ¥ä¸‹æ¥decode 12. bitcoin-cli -regtest decoderawtransaction 02000000000100c39dd00000000017a914cd876025d3d13aa7ed999128d40100a9f26a65ea8700000000è¾“å‡º&#123; &quot;txid&quot;: &quot;776b54a0b65d3af5fd13ab4d947ab72e563ba7a2aa43cd37ebdd820dc50ec9ca&quot;, &quot;hash&quot;: &quot;776b54a0b65d3af5fd13ab4d947ab72e563ba7a2aa43cd37ebdd820dc50ec9ca&quot;, &quot;version&quot;: 2, &quot;size&quot;: 42, &quot;vsize&quot;: 42, &quot;weight&quot;: 168, &quot;locktime&quot;: 0, &quot;vin&quot;: [ ], &quot;vout&quot;: [ &#123; &quot;value&quot;: 35.00000000, &quot;n&quot;: 0, &quot;scriptPubKey&quot;: &#123; &quot;asm&quot;: &quot;OP_HASH160 cd876025d3d13aa7ed999128d40100a9f26a65ea OP_EQUAL&quot;, &quot;hex&quot;: &quot;a914cd876025d3d13aa7ed999128d40100a9f26a65ea87&quot;, &quot;reqSigs&quot;: 1, &quot;type&quot;: &quot;scripthash&quot;, &quot;addresses&quot;: [ &quot;2NByxgfmQxVuQXB16GY1J2ru6RGfNEdgPk3&quot; ] &#125; &#125; ]&#125;//ä½¿ç”¨ fundrawtransaction è®¡ç®—å‡ºäº¤æ˜“è´¹ è¾“å…¥ä¸ºåˆšæ‰å¾—åˆ°çš„ raw transaction 02000000000100c39dd00000000017a914cd876025d3d13aa7ed999128d40100a9f26a65ea8700000000 13. bitcoin-cli -regtest fundrawtransaction 02000000000100c39dd00000000017a914cd876025d3d13aa7ed999128d40100a9f26a65ea8700000000&#123; &quot;hex&quot;: &quot;02000000019e667f70450d80e036c5763b4ece68479a047a67efcf483f8bf2e56c50ca5f140000000000feffffff02082268590000000017a914ebec149b57c6c84ab9a5302dae8150369d9c51fd8700c39dd00000000017a914cd876025d3d13aa7ed999128d40100a9f26a65ea8700000000&quot;, &quot;fee&quot;: 0.00003320, &quot;changepos&quot;: 0&#125;// decoderawtransaction 14. bitcoin-cli -regtest decoderawtransaction 02000000019e667f70450d80e036c5763b4ece68479a047a67efcf483f8bf2e56c50ca5f140000000000feffffff02082268590000000017a914ebec149b57c6c84ab9a5302dae8150369d9c51fd8700c39dd00000000017a914cd876025d3d13aa7ed999128d40100a9f26a65ea8700000000&#123; &quot;txid&quot;: &quot;704bd8b218ab5dc934a6388f139659f0626a93af1d77814d34a8123590641500&quot;, &quot;hash&quot;: &quot;704bd8b218ab5dc934a6388f139659f0626a93af1d77814d34a8123590641500&quot;, &quot;version&quot;: 2, &quot;size&quot;: 115, &quot;vsize&quot;: 115, &quot;weight&quot;: 460, &quot;locktime&quot;: 0, &quot;vin&quot;: [ &#123; &quot;txid&quot;: &quot;145fca506ce5f28b3f48cfef677a049a4768ce4e3b76c536e0800d45707f669e&quot;, &quot;vout&quot;: 0, &quot;scriptSig&quot;: &#123; &quot;asm&quot;: &quot;&quot;, &quot;hex&quot;: &quot;&quot; &#125;, &quot;sequence&quot;: 4294967294 &#125; ], &quot;vout&quot;: [ &#123; &quot;value&quot;: 14.99996680, &quot;n&quot;: 0, &quot;scriptPubKey&quot;: &#123; &quot;asm&quot;: &quot;OP_HASH160 ebec149b57c6c84ab9a5302dae8150369d9c51fd OP_EQUAL&quot;, &quot;hex&quot;: &quot;a914ebec149b57c6c84ab9a5302dae8150369d9c51fd87&quot;, &quot;reqSigs&quot;: 1, &quot;type&quot;: &quot;scripthash&quot;, &quot;addresses&quot;: [ &quot;2NEkfbXNcp3iQtQjh4RemfTGeGQ6S8uX5kC&quot; ] &#125; &#125;, &#123; &quot;value&quot;: 35.00000000, &quot;n&quot;: 1, &quot;scriptPubKey&quot;: &#123; &quot;asm&quot;: &quot;OP_HASH160 cd876025d3d13aa7ed999128d40100a9f26a65ea OP_EQUAL&quot;, &quot;hex&quot;: &quot;a914cd876025d3d13aa7ed999128d40100a9f26a65ea87&quot;, &quot;reqSigs&quot;: 1, &quot;type&quot;: &quot;scripthash&quot;, &quot;addresses&quot;: [ &quot;2NByxgfmQxVuQXB16GY1J2ru6RGfNEdgPk3&quot; ] &#125; &#125; ]&#125;// åˆ©ç”¨é’±åŒ…çš„åŠŸèƒ½å¯¹è¿™æ¬¡äº¤æ˜“è¿›è¡Œç­¾å15. bitcoin-cli -regtest signrawtransactionwithwallet 02000000019e667f70450d80e036c5763b4ece68479a047a67efcf483f8bf2e56c50ca5f140000000000feffffff02082268590000000017a914ebec149b57c6c84ab9a5302dae8150369d9c51fd8700c39dd00000000017a914cd876025d3d13aa7ed999128d40100a9f26a65ea8700000000&#123; &quot;hex&quot;: &quot;020000000001019e667f70450d80e036c5763b4ece68479a047a67efcf483f8bf2e56c50ca5f1400000000171600145ffd0df9539eaf3036a524bf7c41ed5864cc2334feffffff02082268590000000017a914ebec149b57c6c84ab9a5302dae8150369d9c51fd8700c39dd00000000017a914cd876025d3d13aa7ed999128d40100a9f26a65ea8702473044022054074aff080169dc692cb1952eb97205f7c1b7b4a2f14903ee270271fcc9b19102205fdafcafbbb466350e48d891498c1244238866bf17ac11515a1cc4b796fbfdaa0121034824cd575c0c7474fbb49c255ad81892f673f68c2025f5bacfc60bbec910b1ac00000000&quot;, &quot;complete&quot;: true&#125;// å¹¿æ’­ 668911f8a41113ffdbf65fd326e20c107dfd62cf3cc86959444f55be94ab78d716. bitcoin-cli -regtest sendrawtransaction 020000000001019e667f70450d80e036c5763b4ece68479a047a67efcf483f8bf2e56c50ca5f1400000000171600145ffd0df9539eaf3036a524bf7c41ed5864cc2334feffffff02082268590000000017a914ebec149b57c6c84ab9a5302dae8150369d9c51fd8700c39dd00000000017a914cd876025d3d13aa7ed999128d40100a9f26a65ea8702473044022054074aff080169dc692cb1952eb97205f7c1b7b4a2f14903ee270271fcc9b19102205fdafcafbbb466350e48d891498c1244238866bf17ac11515a1cc4b796fbfdaa0121034824cd575c0c7474fbb49c255ad81892f673f68c2025f5bacfc60bbec910b1ac00000000//å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ 17. bitcoin-cli -regtest getrawtransaction 668911f8a41113ffdbf65fd326e20c107dfd62cf3cc86959444f55be94ab78d7 1è¾“å‡º&#123; &quot;txid&quot;: &quot;668911f8a41113ffdbf65fd326e20c107dfd62cf3cc86959444f55be94ab78d7&quot;, &quot;hash&quot;: &quot;53171009d8f8984d72276e6f4f19bad12476d272ba6728e8323a2bb3756c77ac&quot;, &quot;version&quot;: 2, &quot;size&quot;: 247, &quot;vsize&quot;: 166, &quot;weight&quot;: 661, &quot;locktime&quot;: 0, &quot;vin&quot;: [ &#123; &quot;txid&quot;: &quot;145fca506ce5f28b3f48cfef677a049a4768ce4e3b76c536e0800d45707f669e&quot;, &quot;vout&quot;: 0, &quot;scriptSig&quot;: &#123; &quot;asm&quot;: &quot;00145ffd0df9539eaf3036a524bf7c41ed5864cc2334&quot;, &quot;hex&quot;: &quot;1600145ffd0df9539eaf3036a524bf7c41ed5864cc2334&quot; &#125;, &quot;txinwitness&quot;: [ &quot;3044022054074aff080169dc692cb1952eb97205f7c1b7b4a2f14903ee270271fcc9b19102205fdafcafbbb466350e48d891498c1244238866bf17ac11515a1cc4b796fbfdaa01&quot;, &quot;034824cd575c0c7474fbb49c255ad81892f673f68c2025f5bacfc60bbec910b1ac&quot; ], &quot;sequence&quot;: 4294967294 &#125; ], &quot;vout&quot;: [ &#123; &quot;value&quot;: 14.99996680, &quot;n&quot;: 0, &quot;scriptPubKey&quot;: &#123; &quot;asm&quot;: &quot;OP_HASH160 ebec149b57c6c84ab9a5302dae8150369d9c51fd OP_EQUAL&quot;, &quot;hex&quot;: &quot;a914ebec149b57c6c84ab9a5302dae8150369d9c51fd87&quot;, &quot;reqSigs&quot;: 1, &quot;type&quot;: &quot;scripthash&quot;, &quot;addresses&quot;: [ &quot;2NEkfbXNcp3iQtQjh4RemfTGeGQ6S8uX5kC&quot; ] &#125; &#125;, &#123; &quot;value&quot;: 35.00000000, &quot;n&quot;: 1, &quot;scriptPubKey&quot;: &#123; &quot;asm&quot;: &quot;OP_HASH160 cd876025d3d13aa7ed999128d40100a9f26a65ea OP_EQUAL&quot;, &quot;hex&quot;: &quot;a914cd876025d3d13aa7ed999128d40100a9f26a65ea87&quot;, &quot;reqSigs&quot;: 1, &quot;type&quot;: &quot;scripthash&quot;, &quot;addresses&quot;: [ &quot;2NByxgfmQxVuQXB16GY1J2ru6RGfNEdgPk3&quot; ] &#125; &#125; ], &quot;hex&quot;: &quot;020000000001019e667f70450d80e036c5763b4ece68479a047a67efcf483f8bf2e56c50ca5f1400000000171600145ffd0df9539eaf3036a524bf7c41ed5864cc2334feffffff02082268590000000017a914ebec149b57c6c84ab9a5302dae8150369d9c51fd8700c39dd00000000017a914cd876025d3d13aa7ed999128d40100a9f26a65ea8702473044022054074aff080169dc692cb1952eb97205f7c1b7b4a2f14903ee270271fcc9b19102205fdafcafbbb466350e48d891498c1244238866bf17ac11515a1cc4b796fbfdaa0121034824cd575c0c7474fbb49c255ad81892f673f68c2025f5bacfc60bbec910b1ac00000000&quot;&#125;","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"},{"name":"äº¤æ˜“","slug":"äº¤æ˜“","permalink":"https://imzy.vip/tags/%E4%BA%A4%E6%98%93/"},{"name":"fundrawtransaction","slug":"fundrawtransaction","permalink":"https://imzy.vip/tags/fundrawtransaction/"}]},{"title":"ä½¿ç”¨æ¯”ç‰¹å¸èŠ‚ç‚¹è¿›è¡Œäº¤æ˜“","slug":"ä½¿ç”¨æ¯”ç‰¹å¸èŠ‚ç‚¹è¿›è¡Œäº¤æ˜“","date":"2019-09-21T14:18:46.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/60903/","link":"","permalink":"https://imzy.vip/posts/60903/","excerpt":"ä½¿ç”¨æ¯”ç‰¹å¸èŠ‚ç‚¹è¿›è¡Œäº¤æ˜“å¦‚æœè¯»è¿‡ä¹‹å‰çš„å®Œæ•´çš„ä¸€ç³»åˆ—æ–‡ç« ï¼Œåº”è¯¥å·²ç»ç»å†äº†ä»èŠ‚ç‚¹æºä»£ç ç¼–è¯‘ï¼Œè¿è¡Œï¼Œå’Œé…ç½® rpc çš„å®Œå…¨è¿‡ç¨‹ï¼Œæœ¬æ–‡åœ¨ä¹‹å‰å·¥ä½œçš„è¿‡ç¨‹ä¸Šè¿›è¡Œæ€»ç»“ï¼Œä½¿ç”¨æ¯”ç‰¹å¸èŠ‚ç‚¹å‘èµ·ä¸€ç¬”äº¤æ˜“ã€‚","text":"ä½¿ç”¨æ¯”ç‰¹å¸èŠ‚ç‚¹è¿›è¡Œäº¤æ˜“å¦‚æœè¯»è¿‡ä¹‹å‰çš„å®Œæ•´çš„ä¸€ç³»åˆ—æ–‡ç« ï¼Œåº”è¯¥å·²ç»ç»å†äº†ä»èŠ‚ç‚¹æºä»£ç ç¼–è¯‘ï¼Œè¿è¡Œï¼Œå’Œé…ç½® rpc çš„å®Œå…¨è¿‡ç¨‹ï¼Œæœ¬æ–‡åœ¨ä¹‹å‰å·¥ä½œçš„è¿‡ç¨‹ä¸Šè¿›è¡Œæ€»ç»“ï¼Œä½¿ç”¨æ¯”ç‰¹å¸èŠ‚ç‚¹å‘èµ·ä¸€ç¬”äº¤æ˜“ã€‚ æ³¨æ„ï¼šè¯»äº†ä¹‹å‰çš„æ–‡ç« ä¹Ÿåº”è¯¥æ¸…æ¥šä¸€ç‚¹ï¼Œæ¯”ç‰¹å¸èŠ‚ç‚¹ä»£ç å’Œ rpc api æ›´æ–°è¾ƒå¿«ã€‚æœ¬æ–‡ä¾èµ–æ¯”ç‰¹å¸ 0. 18 ç‰ˆæœ¬ï¼Œç³»ç»Ÿç¯å¢ƒä¹Œç­å›¾ã€‚ æ¯”ç‰¹å¸å‘èµ·äº¤æ˜“æ­¥éª¤é¦–å…ˆåˆ—å‡ºæ¯”ç‰¹å¸äº¤æ˜“çš„æœ€ä¸»å¹²çš„è¿‡ç¨‹å¦‚ä¸‹ æå–UTXO å‘èµ·äº¤æ˜“ å¯¹äº¤æ˜“è¿›è¡Œç­¾å å¹¿æ’­äº¤æ˜“ æå–UXTOäº¤æ˜“çš„æœ€é‡è¦çš„éƒ¨åˆ†å°±æ˜¯ä¸€å¼€å§‹çš„æå–UXTOçš„è¿‡ç¨‹ã€‚æ ¹æ®å®˜æ–¹çš„ RPC Api ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ listunspent çš„api æ¥è·å–UTXOçš„åˆ—è¡¨ã€‚ è¿™æ˜¯äº¤æ˜“è¿‡ç¨‹ä¸­ç¬¬ä¸€ä¸ªä¼šå‡ºç°é—®é¢˜çš„åœ°æ–¹ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ä½¿ç”¨è¿™ä¸ª api ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå‘ç°å®Œå…¨æå–ä¸å€’ä¿¡æ¯ã€‚ è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æƒ³è¦å‘èµ·äº¤æ˜“ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–çš„æ˜¯æ¯”ç‰¹å¸èŠ‚ç‚¹çš„é’±åŒ…çš„åŠŸèƒ½ã€‚ï¼ˆå…³äºæ¯”ç‰¹å¸å…¨èŠ‚ç‚¹çš„æ¦‚å¿µï¼Œè¯·å‚è€ƒã€Šç²¾é€šæ¯”ç‰¹å¸ã€‹ä¸€ä¹¦ï¼‰ã€‚è¿™ä¸ªæ¯”ç‰¹å¸åœ°å€å¦‚æœå’Œæœ¬èŠ‚ç‚¹ä¸Šçš„é’±åŒ…æ˜¯æ²¡æœ‰å…³è”çš„è¯ï¼Œæˆ‘ä»¬æ˜¯æ— æ³•å¾—åˆ°UTXOçš„ã€‚ æ¥ä¸‹æ¥ä»‹ç»ä»€ä¹ˆå«åšå…³è”ï¼šæ ¹æ®æ¯”ç‰¹å¸æ—©æœŸçš„æ–‡æ¡£ï¼ˆæ–‡æ¡£ç‰ˆæœ¬æ¯”è¾ƒè€ï¼Œå¯ä»¥å»æŸ¥é˜…æ—©æœŸçš„wikiæ–‡æ¡£ï¼Œä¸å†åˆ—å‡ºï¼‰ã€‚æ¯”ç‰¹å¸æ—©æœŸä¸­æœ‰è´¦å·çš„æ¦‚å¿µã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯”ç‰¹å¸é’±åŒ…éƒ½æ˜¯ä¾èµ–è´¦å·æ¥ç®¡ç†çš„ Accountã€‚æ¯”ç‰¹å¸çš„åœ°å€éƒ½æ˜¯å­˜åœ¨æŸä¸ªè´¦å·ä¸‹çš„ã€‚ä¹‹æ‰€ä»¥ç›´æ¥æŸ¥è¯¢å¯¹åº”çš„æ¯”ç‰¹å¸åœ°å€æ²¡æœ‰ä¿¡æ¯ã€‚æ˜¯å› ä¸ºæˆ‘ä»¬çš„åœ°å€ï¼Œä¸æ˜¯æ¯”ç‰¹å¸é’±åŒ…çš„è´¦å·ä¸‹é¢çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥å»è¿‡æ»¤ç›¸åº”åœ°å€ä¸‹çš„UTXOæ˜¯æ²¡æœ‰ä¿¡æ¯çš„ã€‚ å½“ç„¶åæœŸçš„ç‰ˆæœ¬æ¯”ç‰¹å¸ä¸å†å¼ºè°ƒè´¦å·çš„æ¦‚å¿µï¼Œæ¢æˆäº†å¦‚ä¸‹ä½“ç³»ã€‚ æ¯”ç‰¹å¸é’±åŒ…ä½¿ç”¨ name å±æ€§æ¥ç®¡ç†ï¼Œé’±åŒ…å†…éƒ¨ä½¿ç”¨ label å¯¹åœ°å€è¿›è¡Œç®¡ç†ï¼ˆå›¾ç¨åè¡¥ä¸Šï¼‰ åœ¨ä½“ç³»é€”ä¸­ xxxxx yyyyy zzzzzä»£è¡¨åœ°å€ï¼ŒAlvin Mike ä»£è¡¨é’±åŒ…çš„ nameã€‚æˆ‘ä»¬ç›´æ¥æŸ¥è¯¢çš„ zzzzz å±äºå’Œé’±åŒ…æ²¡æœ‰å…³ç³»çš„åœ°å€ï¼Œå±äº æ²¡æœ‰å…³è”ã€‚ å¦‚ä½•å…³è”é‚£ä¹ˆå¦‚ä½•å…³è”å‘¢ï¼Œå…¶å®å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠåœ°å€å¯¹åº”çš„ç§é’¥å¯¼å…¥é’±åŒ…å³å¯ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¯”ç‰¹å¸ RPC Api ä¸­çš„ importprivkey æ¥å¯¼å…¥ç§é’¥ã€‚è¿™æ ·è¿™ä¸ªåœ°å€å°±çº³å…¥äº†é’±åŒ…ä¸­ï¼Œå±äºåœ°å€å’Œé’±åŒ…è¿›è¡Œäº†å…³è”ã€‚æˆ‘ä»¬å¯ä»¥å‚è€ƒæ–‡æ¡£ importprivkey è¯·ä»”ç»†å‚é˜…æ–‡æ¡£ï¼Œæ³¨æ„å‚æ•° rescanã€‚å¯¼å…¥ç§é’¥è¯·å¼€å¯ rescanï¼Œè¿™æ ·çš„è¯èŠ‚ç‚¹ä¼šå¯¹è¿™ä¸ªåœ°å€è¿›è¡Œæ‰«æï¼Œå¯¹è¯¥åœ°å€å¯¹åº”çš„ UTXO è¿›è¡Œç´¢å¼•ã€‚è¿™æ ·å°±å¯ä»¥æŸ¥è¯¢ UTXO äº†ã€‚å½“ç„¶ä»–éœ€è¦ä¸€ä¸ªè¾ƒé•¿æ—¶é—´æ„å»ºç´¢å¼•ï¼Œåœ¨è¿è¡ŒæœŸé—´ä½ å¯èƒ½æ— æ³•å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œä½ åªéœ€è¦ç­‰å¾… rescan å®Œæˆå³å¯ã€‚ ä¸å¯¼å…¥ç§é’¥å¯ä»¥å—ä¸å¯¼å…¥ç§é’¥æ˜¯å¯ä»¥çš„ï¼Œæˆ‘ä»¬å‚é˜…æ–‡æ¡£å¯ä»¥å¾—åˆ°ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼Œéƒ½å¯ä»¥åœ¨ä¸å¯¼å…¥ç§é’¥çš„æƒ…å†µä¸‹æŸ¥è¯¢UXTO åœ¨å¯åŠ¨èŠ‚ç‚¹çš„æ—¶å€™åŠ å…¥ txindex = 1; è¿™ä¸ªå‚æ•°å¯ä»¥å¸®åŠ©ä½ å»ºç«‹æ‰€æœ‰çš„äº¤æ˜“ç´¢å¼•ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨èŠ‚ç‚¹ä¸ŠæŸ¥è¯¢æ‰€æœ‰åœ°å€çš„äº¤æ˜“ä¿¡æ¯äº†ã€‚å¤§èƒ†çŒœæµ‹ï¼Œæ¯”ç‰¹å¸æµè§ˆå™¨ä¹‹ç±»çš„èŠ‚ç‚¹éœ€è¦è¿™ç§é…ç½® å¯ä»¥åªå¯¼å…¥åœ°å€ï¼Œå‡å®šåªå¯¼å…¥åœ°å€çš„è¯ä½¿ç”¨ importprivkey ï¼Œæ²¡æœ‰ç§é’¥ï¼Œæ— æ³•ç­¾åã€‚ä½œä¸ºåªè¯»é’±åŒ…è¿˜æ˜¯å¯ä»¥çš„ã€‚å…·ä½“è¯·å‚é˜…æ–‡æ¡£ã€‚ ä»¥ä¸Šä¸¤ç§ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œå°±ä¸å†è¯¦ç»†ä»‹ç»äº†ã€‚ å†å¼ºè°ƒä¸€ä¸‹ ç½‘ä¸Šæœé›†å¾ˆå¤šæ•™ç¨‹ä¸­ï¼Œéƒ½ä¼šå‡ºç°ä»èµ·ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œç„¶åä½¿ç”¨ getnewaddress è¿™ä¸ª Api ã€‚è¿™ç§æ“ä½œå…¶å®å°±æ˜¯å°±è§„é¿äº†å…³è” è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºç›´æ¥ç”¨é’±åŒ…çš„åŠŸèƒ½ç”Ÿæˆçš„åœ°å€å°±æ˜¯æŒ‚åœ¨é’±åŒ…ä¸‹é¢çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„æŸ¥è¯¢è¿™ç§åœ°å€ä¸‹é¢çš„ UTXOã€‚ å‘èµ·äº¤æ˜“ç¡®åˆ‡çš„è¯´ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯å‘èµ·è£¸äº¤æ˜“ï¼Œï¼ˆä¹Ÿæœ‰ sendtoadddress æ–¹æ³•ï¼Œè¿™ä¸ªä¸å±äºæœ¬æ–‡çš„è®¨è®ºèŒƒå›´ï¼‰ã€‚è¿™ä¸ªå°±æ¯”è¾ƒç›´æ¥ï¼Œè¿™é‡Œä¾ç„¶å¯ä»¥ä»å‰æ–‡æåˆ°çš„é“¾æ¥ä¸­æ–¹ä¾¿çš„æ‰¾åˆ°è¯´æ˜ã€‚ å‘èµ·è£¸äº¤æ˜“çš„æ ¸å¿ƒå°±æ˜¯ä»ä¹‹å‰çš„æŸäº¤æ˜“ä¸­ï¼Œæ”¯ä»˜ä¸€å®šæ•°é‡çš„æ¯”ç‰¹å¸åˆ°ç›®æ ‡åœ°å€ã€‚è‡³å°‘è¦æ»¡è¶³çš„æ¡ä»¶æ˜¯ï¼šä½ å‘çš„æ¯”ç‰¹å¸æ•°é‡è¦ä½äºäº¤æ˜“ä¸­çš„æ¯”ç‰¹å¸æ€»é‡ã€‚æ¯•ç«Ÿé’±ä¸å¤Ÿå¦‚ä½•æ”¯ä»˜å‘¢ã€‚ æ³¨æ„:æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ createrawtransaction ã€‚è¿™ç§äº¤æ˜“æ–¹å¼ä¸ä¼šç”Ÿæˆæ‰¾é›¶åœ°å€ã€‚åˆ™è¾“å…¥å’Œè¾“å‡ºä¹‹å·®ä¼šæˆä¸ºäº¤æ˜“è´¹ç”¨ fee å°†ä¼šæˆä¸ºçŸ¿å·¥çš„å¥–åŠ±ã€‚è¿™ç§äº¤æ˜“ä¼šé€ æˆè¶…é«˜è´¹ç”¨äº¤æ˜“ï¼ŒåŒæ—¶ä¼šå½±å“æœ€åä¸€æ­¥çš„äº¤æ˜“å¹¿æ’­ã€‚å…³äºå¯¹å¹¿æ’­çš„å½±å“ï¼Œæˆ‘ä»¬ç¨åå†è°ˆã€‚å¦‚æœæˆ‘ä»¬éœ€è¦åˆ›å»ºæ‰¾é›¶åœ°å€ï¼Œè¯·ä½¿ç”¨ fundcreaterawtransactionã€‚ï¼ˆåé¢å¯èƒ½ä¼šå‡ºç°ä¸“é—¨çš„ä¸€ç¯‡ä»‹ç»è¿™ä¸ªï¼‰ æ€»ä¹‹è¿™ä¸€æ­¥ä¹‹å æˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªæœªç»è¿‡ç­¾åçš„ rawhex äº¤æ˜“ç­¾åå¾—åˆ°ä¸€ä¸ªè£¸äº¤æ˜“çš„ hexstring ä¹‹åï¼Œéœ€è¦æˆ‘ä»¬å¯¹äº¤æ˜“è¿›è¡Œç­¾åï¼Œåœ¨å½“å‰ 0.18 ç‰ˆæœ¬ä¸‹æˆ‘ä»¬æœ‰ä¸¤æ¡ç­¾åè·¯å¾„ ä½¿ç”¨é’±åŒ…çš„ç­¾ååŠŸèƒ½ [https://bitcoincore.org/en/doc/0.18.0/rpc/wallet/signrawtransactionwithwallet/] ä½¿ç”¨é’±åŒ…çš„ç­¾ååŠŸèƒ½éœ€è¦æˆ‘ä»¬äº‹å…ˆå¯¼å…¥ç§é’¥ï¼Œä¹Ÿå°±æ˜¯è¯´åœ°å€å¯¹åº”çš„ç§é’¥å’Œé’±åŒ…æ˜¯æœ‰å…³è”çš„ ä½¿ç”¨ç§é’¥è¿›è¡Œç­¾å [https://bitcoincore.org/en/doc/0.18.0/rpc/rawtransactions/signrawtransactionwithkey/] ä½¿ç”¨ç§é’¥è¿›è¡Œç­¾åï¼Œéœ€è¦æˆ‘ä»¬æœ‰å‘èµ·åœ°å€çš„æ‰€æœ‰æƒï¼Œä¹Ÿå°±æ˜¯æœ‰ç§é’¥ æ— è®ºä½¿ç”¨å“ªç§ç­¾åï¼Œéƒ½å¯ä»¥å¾—åˆ°ç­¾åä¹‹åçš„ hexstring ã€‚ è¿™ä¸ªä¹Ÿæ˜¯äº¤æ˜“ä¸­æœ€å…³é”®çš„æ­¥éª¤æ­¥éª¤ï¼Œå¦‚æœæˆ‘ä»¬ç­¾åæ­£å¸¸ç»“æŸï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ç­¾åçš„ç»“æœ â€œcompleteâ€: true åŒæ—¶å¾—åˆ°ä¸€ä¸ªæ›´é•¿çš„ç»è¿‡ç­¾åçš„ hexstring éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå‡ºç°complete: true è¿™ç§ç»“æœå¹¶ä¸ä»£è¡¨ç­¾åå°±æ˜¯ä¸‡æ— ä¸€å¤±çš„ï¼Œè¿™ç§ç­¾åå¯èƒ½ä¼šæœ‰åˆ«çš„é”™è¯¯ï¼Œæˆ‘ä»¬åªæ˜¯æä¾›äº†åˆé€‚çš„å‚æ•°è¿›è¡Œç­¾åè€Œå·²ã€‚å¦‚æœè¿™é‡Œçš„ç­¾åä¸æ­£å¸¸ï¼Œè¿™æ¬¡äº¤æ˜“æ˜¯æ— æ³•å¹¿æ’­çš„ã€‚ å¦‚æœéœ€è¦è€ä¸ªå°èªæ˜ï¼Œç¨å¾®è°ƒæ•´å‚æ•°ï¼Œä½ ä¼šå‘ç°å¾—åˆ°çš„ç­¾åå hex æ˜¯æœ‰ç»†å¾®å·®åˆ«çš„ï¼ˆè¿™ä¸ªå¾ˆå®¹æ˜“ç†è§£ï¼Œå› ä¸ºè¿™ä¸€ä¸²å­—ç¬¦ä¸²æœ¬èº«å°±æ˜¯æ‹¼æ¥è€Œæ¥çš„ï¼‰ æ‰€ä»¥æ— æ³•å¹¿æ’­ï¼Œè¯·ä¼˜å…ˆè€ƒè™‘ç­¾åé”™è¯¯ã€‚è¯·ä»”ç»†å¯¹ç…§æ–‡æ¡£ä¸­çš„PrevTXå‚æ•°ã€‚ å¹¿æ’­äº¤æ˜“å¦‚æœæˆ‘ä»¬å‰é¢ä¸‰ä¸ªæ­¥éª¤æ­£ç¡®ï¼Œåˆ°è¿™ä¸€æ­¥ç›´æ¥å¹¿æ’­äº¤æ˜“å³å¯ æˆ‘ä»¬ä½¿ç”¨ sendrawtransaction æ–¹æ³•å³å¯ï¼Œå‚æ•°å°±æ˜¯ä¸Šä¸€æ­¥ä¸­å¾—åˆ°çš„ $SIGNED_RAW_TRANSACTION_STRING è¿™é‡Œæåˆ°çš„ä¸€ä¸ªè¶…é«˜äº¤æ˜“è´¹çš„é—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¹‹å‰çš„ createrawtaranstion æ˜¯æ²¡æœ‰è®¾ç½®æ‰¾é›¶åœ°å€çš„ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥å¹¿æ’­æ˜¯ä¸è¡Œçš„ã€‚éœ€è¦åŠ ä¸Šå‚æ•° allowhignfee ã€‚å‚è€ƒæ–‡æ¡£ã€‚ åœ¨å…è®¸é«˜é¢äº¤æ˜“è´¹ç”¨è¿™ä¸ªé”™è¯¯ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯èƒ½é‡åˆ°å…¶ä»–é”™è¯¯ï¼Œæ¯”å¦‚æˆ‘åœ¨ Testnet ç¯å¢ƒä¸‹é‡åˆ°äº† Missing Input çš„é”™è¯¯ã€‚æˆ–è€…å…¶ä»–ç±»å‹çš„é”™è¯¯ã€‚æ’é”™åŸåˆ™ä¸ºï¼šä¼˜å…ˆæ£€æŸ¥äº¤æ˜“ç­¾å ä¹‹åç­‰å¾…æŒ–çŸ¿å³å¯ã€‚åæ–‡å°†åˆ—å‡ºæˆ‘ç›´æ¥ä½¿ç”¨ bitcoin-cli è¿›è¡Œäº¤æ˜“çš„è¿‡ç¨‹ï¼Œä¸ºäº†ä¿æŒæ–‡æ¡£çš„å®Œæ•´æ€§ï¼Œä¸­é—´å‡ºé”™çš„æ­¥éª¤å¹¶æ²¡æœ‰åˆ é™¤ï¼Œæ˜¯å®Œæ•´ä¿ç•™çš„ã€‚ä¸‹æ–‡çš„å‘½ä»¤è¡Œæ“ä½œè¿‡ç¨‹æ˜¯ç™¾åˆ†ç™¾å®Œæˆçš„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778å¯åŠ¨ç§é“¾ å‘èµ·ä¸€ä¸ªäº¤æ˜“1. bitcoind -printtoconsole -regtest // å…¶ä½™å‚æ•°å…¨éƒ¨å‚ç…§åŸæ¥çš„è®¾è®¡,å…¶ä½™å‡ ä¸ªé¡¹ç›®éƒ½å» .bitcoin/bitcoin.conf ä¸‹å»æ‰//å…ˆæµ‹è¯•ç§é“¾èµ·æ¥äº†æ²¡æœ‰2. bitcoin-cli -regtest -getinfo//åœ¨æŸ¥è¯¢ä¸€ä¸‹3. bitcoin-cli -regtest getbestblockhash//æŸ¥è¯¢å½“å‰ç”¨æˆ·ä¿¡æ¯ ä¸å‡ºæ‰€æ–™çš„è¯éƒ½åº”è¯¥æ²¡æœ‰å¸çš„4. bitcoin-cli -regtest getbalance//ç°åœ¨ç”Ÿæˆä¸€ä¸ªåœ°å€ å¾—åˆ°ä¸€ä¸ªåœ°å€ 2N4cpCv7VgohRaQAxWuknR5dg97ryBFR91e è¿™ä¸ªåœ°å€ä½œä¸ºåˆå§‹çš„åœ°å€5. bitcoin-cli -regtest getnewaddress//éªŒè¯ä¸€ä¸‹è¿™ä¸ªåœ°å€6. bitcoin-cli -regtest validateaddress 2N4cpCv7VgohRaQAxWuknR5dg97ryBFR91e//å°è¯•å¯¼å‡ºè¿™ä¸ªç§é’¥ cS3c2UNjTjhREK59T7YK93NrvF9vUTXdP9d6vgR9bqYVJTizQtuj7. bitcoin-cli -regtest dumpprivkey 2N4cpCv7VgohRaQAxWuknR5dg97ryBFR91e//å¼€å§‹æŒ–çŸ¿ æ³¨æ„è¿™é‡Œçš„ api å‘ç”Ÿäº†å˜åŒ– ä»¥å‰æ˜¯ç›´æ¥generate ç°åœ¨æ¨èä¸‹é¢çš„æ–¹æ³• ç›´æ¥100ä¸ªåŒºå—åˆ°ä¹‹å‰ç”Ÿæˆçš„åœ°å€ä¸Š8. bitcoin-cli -regtest generatetoaddress 101 2N4cpCv7VgohRaQAxWuknR5dg97ryBFR91e//æ¥ä¸‹æ¥ è·å–å½“å‰è´¦æˆ·ä¸‹çš„ä¿¡æ¯ ç¡®è®¤ä¸€ç™¾ä¸ªå— å¾—åˆ°50ä¸ªæ¯”ç‰¹å¸9. bitcoin-cli -regtest getbalance//å†ç”Ÿæˆç¬¬äºŒä¸ªåœ°å€ ç”¨äºæ¥å—è½¬è´¦ 2N9KXa3WdbbGRYM4XgNWqnQemDRSj5fqgDh10. bitcoin-cli -regtest getnewaddress//æ¥ä¸‹æ¥ æå–utxo11. bitcoin-cli -regtest listunspent [ &#123; &quot;txid&quot;: &quot;bea69fa6b4d2395f340f8b57ab5c6b0afd3de451b63cf335848e3f11885e89b4&quot;, &quot;vout&quot;: 0, &quot;address&quot;: &quot;2N4cpCv7VgohRaQAxWuknR5dg97ryBFR91e&quot;, &quot;label&quot;: &quot;&quot;, &quot;redeemScript&quot;: &quot;0014cecad7bc6e1e2a2aa842474e6f26e8bf45f02292&quot;, &quot;scriptPubKey&quot;: &quot;a9147cbeaeb1f3919c7e0963c635287ce3385dfa91dd87&quot;, &quot;amount&quot;: 50.00000000, &quot;confirmations&quot;: 101, &quot;spendable&quot;: true, &quot;solvable&quot;: true, &quot;desc&quot;: &quot;sh(wpkh([bec83093/0&#x27;/0&#x27;/0&#x27;]0295b3ceb919a0364a790361d8557702af364343d418b2e32fb95e1627c3012180))#pv6ux7wl&quot;, &quot;safe&quot;: true &#125;]//åˆ›å»ºä¸€ä¸ªè£¸äº¤æ˜“ ç»™æ–°ç”Ÿæˆçš„åœ°å€è½¬20ä¸ªæ¯”ç‰¹å¸ å¾—åˆ°ä¸€ä¸ªäº¤æ˜“id 0200000001b4895e88113f8e8435f33cb651e43dfd0a6b5cab578b0f345f39d2b4a69fa6be0000000000ffffffff01009435770000000017a914b0525a68d151f78a49bfaa86b6456b856e3a64ef870000000012. bitcoin-cli -regtest createrawtransaction &#x27;[&#123;&quot;txid&quot; :&quot;bea69fa6b4d2395f340f8b57ab5c6b0afd3de451b63cf335848e3f11885e89b4&quot;,&quot;vout&quot; : 0&#125;]&#x27; &#x27;&#123;&quot;2N9KXa3WdbbGRYM4XgNWqnQemDRSj5fqgDh&quot;: 20&#125;&#x27;//ä½¿ç”¨ç§é’¥è¿›è¡Œç­¾å13. bitcoin-cli -regtest signrawtransactionwithwallet 0200000001b4895e88113f8e8435f33cb651e43dfd0a6b5cab578b0f345f39d2b4a69fa6be0000000000ffffffff01009435770000000017a914b0525a68d151f78a49bfaa86b6456b856e3a64ef8700000000 &#x27;[&#123;&quot;txid&quot;:&quot;bea69fa6b4d2395f340f8b57ab5c6b0afd3de451b63cf335848e3f11885e89b4&quot;, &quot;vout&quot;:0, &quot;scriptPubKey&quot;:&quot;a9147cbeaeb1f3919c7e0963c635287ce3385dfa91dd87&quot;,&quot;amount&quot;:20, &quot;redeemScript&quot;:&quot;0014cecad7bc6e1e2a2aa842474e6f26e8bf45f02292&quot;&#125;]&#x27;å¾—åˆ°&#123; &quot;hex&quot;: &quot;02000000000101b4895e88113f8e8435f33cb651e43dfd0a6b5cab578b0f345f39d2b4a69fa6be0000000017160014cecad7bc6e1e2a2aa842474e6f26e8bf45f02292ffffffff01009435770000000017a914b0525a68d151f78a49bfaa86b6456b856e3a64ef8702473044022013597740ee733abe79849008462e3e87cc96c6e7e195fbcb74a7519c9df37e04022039ee7076ad688fa68f4a4d4497b5e0b2504682137e0359c100c49310ebdaef9401210295b3ceb919a0364a790361d8557702af364343d418b2e32fb95e1627c301218000000000&quot;, &quot;complete&quot;: true&#125;// å¹¿æ’­äº¤æ˜“ å‡ºé”™14. bitcoin-cli -regtest sendrawtransaction 02000000000101b4895e88113f8e8435f33cb651e43dfd0a6b5cab578b0f345f39d2b4a69fa6be0000000017160014cecad7bc6e1e2a2aa842474e6f26e8bf45f02292ffffffff01009435770000000017a914b0525a68d151f78a49bfaa86b6456b856e3a64ef8702473044022013597740ee733abe79849008462e3e87cc96c6e7e195fbcb74a7519c9df37e04022039ee7076ad688fa68f4a4d4497b5e0b2504682137e0359c100c49310ebdaef9401210295b3ceb919a0364a790361d8557702af364343d418b2e32fb95e1627c301218000000000//åªä½¿ç”¨ï¼›è£¸äº¤æ˜“idè¿›è¡Œç­¾å 15. bitcoin-cli -regtest signrawtransactionwithwallet &quot;0200000001b4895e88113f8e8435f33cb651e43dfd0a6b5cab578b0f345f39d2b4a69fa6be0000000000ffffffff01009435770000000017a914b0525a68d151f78a49bfaa86b6456b856e3a64ef8700000000&quot;&#123; &quot;hex&quot;: &quot;02000000000101b4895e88113f8e8435f33cb651e43dfd0a6b5cab578b0f345f39d2b4a69fa6be0000000017160014cecad7bc6e1e2a2aa842474e6f26e8bf45f02292ffffffff01009435770000000017a914b0525a68d151f78a49bfaa86b6456b856e3a64ef870247304402205388b5674d8874a8fc9ae7acbd39f14a0658163c22684dcd8bc32073ec295d1702206cbda91f9bbfc5479e380077ff2ba5e480a402f883fc638b8c82ad71e01977bc01210295b3ceb919a0364a790361d8557702af364343d418b2e32fb95e1627c301218000000000&quot;, &quot;complete&quot;: true&#125;// å¹¿æ’­16. bitcoin-cli -regtest sendrawtransaction &quot;02000000000101b4895e88113f8e8435f33cb651e43dfd0a6b5cab578b0f345f39d2b4a69fa6be0000000017160014cecad7bc6e1e2a2aa842474e6f26e8bf45f02292ffffffff01009435770000000017a914b0525a68d151f78a49bfaa86b6456b856e3a64ef870247304402205388b5674d8874a8fc9ae7acbd39f14a0658163c22684dcd8bc32073ec295d1702206cbda91f9bbfc5479e380077ff2ba5e480a402f883fc638b8c82ad71e01977bc01210295b3ceb919a0364a790361d8557702af364343d418b2e32fb95e1627c301218000000000&quot; trueå¾—åˆ° 3b3c8646fb03764aae2b2d9c8ef81704576f94c356e2d38f76bcd98ea4d9a5ae å·²å®Œæˆäº¤æ˜“ ç­‰å¾…æŒ–çŸ¿å³å¯ é¢å¤–æé†’åœ¨å®Œæˆä»¥ä¸Šæ“ä½œåï¼Œå°±å®ç°äº†åˆ©ç”¨æ¯”ç‰¹å¸èŠ‚ç‚¹è¿›è¡Œäº¤æ˜“ï¼Œæ­¤å¤–å†æä¾›ä¸¤ç‚¹æ¸©é¦¨æç¤º å¦‚æœä½¿ç”¨ç§é“¾ï¼Œä½¿ç”¨å‘½ä»¤è¡Œå¯åŠ¨å’Œä½¿ç”¨bitcoin.confå¯åŠ¨ï¼Œè¿™ä¸¤ä¸ªé…ç½®ä¸€å®šä¸èƒ½å†²çªï¼Œå¦åˆ™æ¯”ç‰¹å¸èŠ‚ç‚¹æ˜¯æ— æ³•å¯åŠ¨çš„ã€‚ï¼ˆå½“ç„¶åˆ«çš„æ–¹å¼è¿™ä¸¤ä¸ªé…ç½®ä¹Ÿä¸èƒ½å†²çªï¼Œç®—æ˜¯æ¯”ç‰¹å¸ä¸€ä¸ªæ¯”è¾ƒäººæ€§åŒ–çš„åœ°æ–¹ï¼Ÿï¼‰ Bitcoin-cli æ“ä½œæœ¬è´¨ä¸Šæ˜¯ä½¿ç”¨ json-rpc ä½¿ç”¨ curl ä¸€æ ·å¯ä»¥è¾¾åˆ°è¿™ä¸ªæ•ˆæœã€‚å½“ç„¶ä¹Ÿä¸æ˜¯ä¸ºäº†ä½¿ç”¨ä»£ç è¿›è¡Œäº¤äº’ã€‚è¿™é‡Œä½¿ç”¨çš„è®¤è¯æ–¹å¼æ˜¯ Basicã€‚å¦‚æœéœ€è¦å†™ä»£ç ï¼Œæ³¨æ„è¿™ä¸€ç‚¹ã€‚ä¹‹åå¯èƒ½ä¼šåˆ—å‡ºæˆ‘è‡ªå·± å°è£…çš„ bitcoin-json rpc ä»£ç ã€‚ å®åœ¨æƒ³æµ‹è¯•ï¼Œå»ºè®®ä½¿ç”¨ç§é“¾ã€‚ç¯å¢ƒæ¯”è¾ƒçº¯å‡€ã€‚ä½ ä¸ä¼šé‡åˆ°ï¼šæ¯”ç‰¹å¸è¿‡å°‘ï¼Œç½‘ç»œå·®ç­‰é—®é¢˜ã€‚æœ€ä¸»è¦çš„æ˜¯ä½ å¯ä»¥è‡ªå·±æŒ–çŸ¿ï¼Œé€‚åˆæ€¥æ€§å­ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"},{"name":"äº¤æ˜“","slug":"äº¤æ˜“","permalink":"https://imzy.vip/tags/%E4%BA%A4%E6%98%93/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"https://imzy.vip/tags/%E6%80%BB%E7%BB%93/"}]},{"title":"æ¯”ç‰¹å¸èŠ‚ç‚¹è¿œç¨‹è®¿é—®","slug":"æ¯”ç‰¹å¸èŠ‚ç‚¹è¿œç¨‹è®¿é—®","date":"2019-09-03T15:05:11.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/42988/","link":"","permalink":"https://imzy.vip/posts/42988/","excerpt":"æ¯”ç‰¹å¸èŠ‚ç‚¹è¿œç¨‹è®¿é—®åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­è¯¦ç»†æè¿°äº†æ¯”ç‰¹å¸èŠ‚ç‚¹çš„é…ç½®ï¼Œå…¶ä¸­è¯¸å¤šå‚æ•°çš„æ„ä¹‰å¯ä»¥åœ¨ä¸Šæ–‡ä¸­æ‰¾åˆ°è§£é‡Šï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ -help æˆ–è€… -ï¼Ÿæ¥æŸ¥çœ‹è¯´æ˜ã€‚æœ¬æ–‡è®²æ˜¯é…ç½®ä¸€å°è¿è¡Œæ¯”ç‰¹å¸çš„æœåŠ¡å™¨ï¼ˆæˆ‘çš„ç¯å¢ƒæ˜¯ä¹Œç­å›¾ï¼‰ï¼Œè¿œç¨‹è®¿é—®æ¯”ç‰¹å¸æ ¸å¿ƒã€‚","text":"æ¯”ç‰¹å¸èŠ‚ç‚¹è¿œç¨‹è®¿é—®åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­è¯¦ç»†æè¿°äº†æ¯”ç‰¹å¸èŠ‚ç‚¹çš„é…ç½®ï¼Œå…¶ä¸­è¯¸å¤šå‚æ•°çš„æ„ä¹‰å¯ä»¥åœ¨ä¸Šæ–‡ä¸­æ‰¾åˆ°è§£é‡Šï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ -help æˆ–è€… -ï¼Ÿæ¥æŸ¥çœ‹è¯´æ˜ã€‚æœ¬æ–‡è®²æ˜¯é…ç½®ä¸€å°è¿è¡Œæ¯”ç‰¹å¸çš„æœåŠ¡å™¨ï¼ˆæˆ‘çš„ç¯å¢ƒæ˜¯ä¹Œç­å›¾ï¼‰ï¼Œè¿œç¨‹è®¿é—®æ¯”ç‰¹å¸æ ¸å¿ƒã€‚ é€šè¿‡æ¯”ç‰¹å¸æ ¸å¿ƒæä¾›çš„RPCæœåŠ¡æ¥å’Œæ¯”ç‰¹å¸æ ¸å¿ƒè¿›è¡Œäº¤äº’ã€‚åœ¨ç½‘ä¸Šç”¨é…ç½®æ¯”ç‰¹å¸è¿œç¨‹æœåŠ¡ç­‰å…³é”®å­—æœç´¢å¾—åˆ°çš„ä¿¡æ¯å¥½å¤šéƒ½æ˜¯è¿‡æ—¶çš„ï¼Œå› ä¸ºæ¯”ç‰¹å¸ç‰ˆæœ¬å‡çº§è¿­ä»£çš„æ¯”è¾ƒå¿«ã€‚è¯·æ³¨æ„æœ¬æ–‡é…ç½®çš„æ—¶é—´èŠ‚ç‚¹æ˜¯ 2019-9-1ï¼Œåç»­å‚è€ƒæœ¬æ–‡è¯·æ³¨æ„æ—¶é—´èŠ‚ç‚¹ã€‚ åœ¨é»˜è®¤çš„çŠ¶æ€ä¸‹ï¼Œbitcoind(ä»¥åç»Ÿç§°ä¸ºbitcoind)ï¼Œç›‘å¬çš„æ˜¯æœ¬åœ°å›ç¯åœ°å€ 127.0.0.1 ã€‚é»˜è®¤ç›‘å¬çš„æ­£å¼åœ°å€çš„ç«¯å£æ˜¯ 8332 123$ netstat -alpn | grep 8332tcp 0 0 127.0.0.1:8332 0.0.0.0:* LISTEN 18787/bitcoindtcp6 0 0 ::1:8332 :::* LISTEN 18787/bitcoind åœ¨æœ¬åœ°èŠ‚ç‚¹ä½¿ç”¨ bitcoin-cli æˆ–è€…æœ¬åœ°ï¼ˆsame machineï¼‰è®¿é—®èŠ‚ç‚¹æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½¿ç”¨ localhost å³å¯ï¼ˆå¯ä»¥ä¸è¦ç”¨æˆ·åå’Œå¯†ç ï¼‰ã€‚ä½†æ˜¯æ— æ³•è¿œç¨‹è®¿é—®ã€‚ åœ¨linuxç³»ç»Ÿä¸‹ï¼Œé…ç½®æ”¾åœ¨ ~/.bitcoin/bitcoin.conf ä¸­ï¼Œå¦‚æœä½ è¦è¿œç¨‹è®¿é—®ï¼Œé…ç½®å‚è€ƒå¦‚ä¸‹ 1234567# 1ä»£è¡¨å¼€å¯rpcæœåŠ¡ 0ä»£è¡¨å…³é—­server=1rpcbind=10.0.1.5rpcallowip=0.0.0.0/0rpcport=8332rpcuser=bitcoinrpcpassword=password éœ€è¦æ³¨æ„çš„æ˜¯ å½“å¼€å¯ rpc æœåŠ¡æ—¶åˆ»ï¼Œç›´æ¥è®¿é—®è¿è¡Œ bitcoind ä¸»æœºçš„ ip ä¼šçœ‹åˆ° JSONRPC server handles only POST ä»¥ä¸Šè¿™å¥è¯ä»£è¡¨ rpc æœåŠ¡æ˜¯å¼€å¯çš„ã€‚ å¦‚æœä½ ç”¨ä»¥ä¸Šçš„é…ç½®å»å¯åŠ¨ bitcoind ï¼Œå°±ä¼šæŠŠ rpc æœåŠ¡ç»‘å®šåœ¨ ip â€œ10.0.1.5â€ ä¸Šï¼ŒåŒæ—¶ä½¿ç”¨äº† port 8332ã€‚å½“ç„¶ï¼Œä¸ºäº†æˆæƒ user å’Œ password ä¹Ÿæ˜¯å¿…é¡»çš„ã€‚ æ¯”ç‰¹å¸ rpc æœåŠ¡ä½¿ç”¨çš„æ˜¯ç™½åå•æ¨¡å¼ï¼Œä½ è¦æŒ‡å®šå…è®¸è®¿é—®çš„ ip å¿…é¡»åœ¨é…ç½® rpcallowip æŒ‡å®šï¼Œä¸ç„¶çš„è¯ rpcbind æ˜¯æ— æ³•ç”Ÿæ•ˆçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ rpcallowip å’Œ rpcbind éœ€è¦åŒæ—¶è®¾å®šï¼Œä½ å¯ä»¥çœ‹åˆ°è¿™å¥è¯ -rpcbind=[:port]Bind to given address to listen for JSON-RPC connections. Do not exposethe RPC server to untrusted networks such as the public internet!This option is ignored unless -rpcallowip is also passed. Port isoptional and overrides -rpcport. Use [host]:port notation forIPv6. This option can be specified multiple times (default:127.0.0.1 and ::1 i.e., localhost) æƒ³å…è®¸æ›´å¤šçš„ ip è®¿é—® bitcoind å¯ä»¥å‚è€ƒæˆ‘çš„é…ç½®ã€‚ç½‘ä¸Šå¾ˆå¤šæ–‡ç« ä¸­æåˆ°çš„ ä½¿ç”¨ * åšé€šé…ç¬¦ï¼Œæ˜¯è¿‡æ—¶çš„ã€‚è¿™ä¹ˆåšä¼šå¯¼è‡´ bitcoind æ— æ³•æ­£å¸¸å¯åŠ¨ ã€‚å…·ä½“å¯ä»¥å‚è€ƒæ¯”ç‰¹å¸å®˜ç½‘æ–‡æ¡£ã€‚ æ³¨æ„ï¼šæˆ‘è¿™ç§é…ç½®æ˜¯æåº¦ä¸å®‰å…¨çš„ï¼Œå¼ºçƒˆä¸å»ºè®®è¿™ä¹ˆåšï¼Œä¸ºäº†å®‰å…¨èµ·è§è¯·åˆç†ä½¿ç”¨ç™½åå•ã€‚ ç„¶åå¯ä»¥æ‰¾ä¸€å°ç™½åå•ä¸­çš„æœºå™¨è°ƒç”¨æœåŠ¡ç«¯çš„ rpc æ¥å£ 1curl --user bitcoin --data-binary &#x27;&#123;&quot;jsonrpc&quot;: &quot;1.0&quot;, &quot;id&quot;:&quot;curltest&quot;, &quot;method&quot;: &quot;getnetworkinfo&quot;, &quot;params&quot;: [] &#125;&#x27; -H &#x27;content-type: text/plain;&#x27; http://10.0.1.5:8332/ èƒ½æ­£ç¡®è·å– json å°±å¥½äº†ã€‚ å¦‚æœä¸ä¼š curl è¯·å‚è€ƒè¿™ä¸€ç¯‡ https://man.linuxde.net/curl å‚è€ƒæ–‡ç«  https://ma.ttias.be/enable-the-rpc-json-api-with-password-authentication-in-bitcoin-core/ å…³äº rpcbind çš„è¯´æ˜è¯·å‚è€ƒï¼ˆæˆ‘ checkout ç‰ˆæœ¬ä¸º0.18ï¼‰ https://bitcoin.org/en/release/v0.18.0#configuration-option-changes å°ç»“ç½‘ç»œä¸Šèµ„æ–™éƒ½æœ‰æ—¶æ•ˆæ€§ï¼Œç›®å‰å¾ˆå¤šèµ„æ–™éƒ½æ²¡æåˆ° rpcbind ï¼Œè¯·å¤šé˜…è¯»æ¯”ç‰¹å¸å®˜æ–¹è¯´æ˜å’Œæ£€ç´¢å¤–æ–‡èµ„æ–™ã€‚è¿™ç±»èµ„æ–™ä»·å€¼ç›¸å¯¹æ›´é«˜ï¼Œåˆ©äºå¿«é€Ÿè§£å†³é—®é¢˜ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"},{"name":"RPC","slug":"RPC","permalink":"https://imzy.vip/tags/RPC/"}]},{"title":"æ¯”ç‰¹å¸å®¢æˆ·ç«¯çš„è®¾ç½®","slug":"æ¯”ç‰¹å¸å®¢æˆ·ç«¯çš„è®¾ç½®","date":"2019-08-31T15:13:24.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/55622/","link":"","permalink":"https://imzy.vip/posts/55622/","excerpt":"æ¯”ç‰¹å¸å®¢æˆ·ç«¯çš„è®¾ç½®å…³äºå¦‚ä½•ä»æºç ç¼–è¯‘å‡ºä¸€ä¸ªæ¯”ç‰¹å¸ç¨‹åºç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šæ–‡ç« äº†ï¼Œè€Œä¸”å†™çš„éå¸¸è¯¦ç»†ï¼ŒæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ä¸€æ­¥æ­¥çš„å®‰è£…ä¾èµ–åº“å°±å¯ä»¥ç¼–è¯‘å‡ºä¸€ä¸ªå®Œæ•´çš„å®¢æˆ·ç«¯ã€‚ä¸‹é¢åˆ—å‡ºæœé›†åˆ°æ¯”ç‰¹å¸å®¢æˆ·ç«¯çš„è®¾ç½®ï¼Œä½œä¸ºèµ„æ–™å¤‡æŸ¥ã€‚","text":"æ¯”ç‰¹å¸å®¢æˆ·ç«¯çš„è®¾ç½®å…³äºå¦‚ä½•ä»æºç ç¼–è¯‘å‡ºä¸€ä¸ªæ¯”ç‰¹å¸ç¨‹åºç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šæ–‡ç« äº†ï¼Œè€Œä¸”å†™çš„éå¸¸è¯¦ç»†ï¼ŒæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ä¸€æ­¥æ­¥çš„å®‰è£…ä¾èµ–åº“å°±å¯ä»¥ç¼–è¯‘å‡ºä¸€ä¸ªå®Œæ•´çš„å®¢æˆ·ç«¯ã€‚ä¸‹é¢åˆ—å‡ºæœé›†åˆ°æ¯”ç‰¹å¸å®¢æˆ·ç«¯çš„è®¾ç½®ï¼Œä½œä¸ºèµ„æ–™å¤‡æŸ¥ã€‚ æˆ‘å®‰è£…çš„ç¯å¢ƒæ˜¯ä¹Œç­å›¾ç³»ç»Ÿ å…³äºæ¯”ç‰¹å¸ç¼–è¯‘è¿‡ç¨‹å¯ä»¥å‚è€ƒè¿™ä¸€ç¯‡ Bitcoin æ¯”ç‰¹å¸å®˜æ–¹å®¢æˆ·ç«¯æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼šä¸€ä¸ªæ˜¯å›¾å½¢ç•Œé¢çš„ç‰ˆæœ¬ï¼Œé€šå¸¸è¢«ç§°ä¸ºbitcoin-qtï¼Œä»¥åŠä¸€ä¸ªç®€æ´çš„ç‰ˆæœ¬ï¼ˆç§°ä¸ºbitcoindï¼‰ã€‚å®ƒä»¬ç›¸äº’é—´æ˜¯å…¼å®¹çš„ï¼Œæœ‰ç€åŒæ ·çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œè¯»å–ç›¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œä¹Ÿè¯»å†™ç›¸åŒçš„æ•°æ®æ–‡ä»¶ã€‚ä½ å¯ä»¥åœ¨ä¸€å°ç”µè„‘ä¸­è¿è¡ŒBitcoin å®¢æˆ·ç«¯æˆ–æ˜¯bitcoind å®¢æˆ·ç«¯çš„å…¶ä¸­ä¸€ä¸ªï¼ˆå¦‚æœä¸å°å¿ƒå°è¯•åŒæ—¶è¿è¡Œå¦å¤–ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå®ƒä¼šæç¤ºä½ å·²ç»æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯åœ¨è¿è¡Œå¹¶ä¸”è‡ªåŠ¨é€€å‡ºï¼‰ã€‚å½“ç„¶ç®€æ˜“çš„é…ç½®ç›´æ¥å‚è€ƒã€Šç²¾é€šæ¯”ç‰¹å¸ã€‹ä¸€ä¹¦çš„é…ç½®ï¼Œæ ¹æ®è‡ªå·±å®‰è£…ç¯å¢ƒé€‰æ‹©ä¸¤ç±»é…ç½®ã€‚ å‘½ä»¤è¡Œå‚æ•°ä½¿ç”¨ -? æˆ–â€“help å‚æ•°è¿è¡ŒBitcoin æˆ–bitcoindï¼Œå®ƒä¼šæç¤ºå¸¸ç”¨çš„å‘½ä»¤è¡Œå‚æ•°å¹¶é€€å‡ºã€‚ç”¨æ³•ï¼š 1234bitcoind [é€‰é¡¹]bitcoind [é€‰é¡¹] &lt;å‘½ä»¤&gt; [å‚æ•°] å°†å‘½ä»¤å‘é€åˆ° -server æˆ– bitcoindbitcoind [é€‰é¡¹] help åˆ—å‡ºå‘½ä»¤bitcoind [é€‰é¡¹] help &lt;å‘½ä»¤&gt; è·å–è¯¥å‘½ä»¤çš„å¸®åŠ© é€‰é¡¹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142-conf&#x3D;&lt;æ–‡ä»¶å&gt; æŒ‡å®šé…ç½®æ–‡ä»¶ï¼ˆé»˜è®¤ï¼šbitcoin.confï¼‰-pid&#x3D;&lt;æ–‡ä»¶å&gt; æŒ‡å®š pid ï¼ˆè¿›ç¨‹ IDï¼‰æ–‡ä»¶ï¼ˆé»˜è®¤ï¼šbitcoind.pidï¼‰-gen ç”Ÿæˆæ¯”ç‰¹å¸-gen&#x3D;0 ä¸ç”Ÿæˆæ¯”ç‰¹å¸-min å¯åŠ¨æ—¶æœ€å°åŒ–-splash å¯åŠ¨æ—¶æ˜¾ç¤ºå¯åŠ¨å±å¹•ï¼ˆé»˜è®¤ï¼š1ï¼‰-datadir&#x3D;&lt;ç›®å½•å&gt; æŒ‡å®šæ•°æ®ç›®å½•-dbcache&#x3D;&lt;n&gt; è®¾ç½®æ•°æ®åº“ç¼“å­˜å¤§å°ï¼Œå•ä½ä¸ºå…†å­—èŠ‚ï¼ˆMBï¼‰ï¼ˆé»˜è®¤ï¼š25ï¼‰-dblogsize&#x3D;&lt;n&gt; è®¾ç½®æ•°æ®åº“ç£ç›˜æ—¥å¿—å¤§å°ï¼Œå•ä½ä¸ºå…†å­—èŠ‚ï¼ˆMBï¼‰ï¼ˆé»˜è®¤ï¼š100ï¼‰-timeout&#x3D;&lt;n&gt; è®¾ç½®è¿æ¥è¶…æ—¶ï¼Œå•ä½ä¸ºæ¯«ç§’-proxy&#x3D;&lt;ip:ç«¯å£&gt; é€šè¿‡ Socks4 ä»£ç†é“¾æ¥-dns addnode å…è®¸æŸ¥è¯¢ DNS å¹¶è¿æ¥-port&#x3D;&lt;ç«¯å£&gt; ç›‘å¬ &lt;ç«¯å£&gt; ä¸Šçš„è¿æ¥ï¼ˆé»˜è®¤ï¼š8333ï¼Œæµ‹è¯•ç½‘ç»œ testnetï¼š18333ï¼‰-maxconnections&#x3D;&lt;n&gt; æœ€å¤šç»´æŠ¤ &lt;n&gt; ä¸ªèŠ‚ç‚¹è¿æ¥ï¼ˆé»˜è®¤ï¼š125ï¼‰-addnode&#x3D;&lt;ip&gt; æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ä»¥ä¾›è¿æ¥ï¼Œå¹¶å°è¯•ä¿æŒä¸è¯¥èŠ‚ç‚¹çš„è¿æ¥-connect&#x3D;&lt;ip&gt; ä»…è¿æ¥åˆ°è¿™é‡ŒæŒ‡å®šçš„èŠ‚ç‚¹-irc ä½¿ç”¨ IRCï¼ˆå› ç‰¹ç½‘ä¸­ç»§èŠå¤©ï¼‰æŸ¥æ‰¾èŠ‚ç‚¹ï¼ˆé»˜è®¤ï¼š0ï¼‰-listen æ¥å—æ¥è‡ªå¤–éƒ¨çš„è¿æ¥ï¼ˆé»˜è®¤ï¼š1ï¼‰-dnsseed ä½¿ç”¨ DNS æŸ¥æ‰¾èŠ‚ç‚¹ï¼ˆé»˜è®¤ï¼š1ï¼‰-banscore&#x3D;&lt;n&gt; ä¸è¡Œä¸ºå¼‚å¸¸èŠ‚ç‚¹æ–­å¼€è¿æ¥çš„ä¸´ç•Œå€¼ï¼ˆé»˜è®¤ï¼š100ï¼‰-bantime&#x3D;&lt;n&gt; é‡æ–°å…è®¸è¡Œä¸ºå¼‚å¸¸èŠ‚ç‚¹è¿æ¥æ‰€é—´éš”çš„ç§’æ•°ï¼ˆé»˜è®¤ï¼š86400ï¼‰-maxreceivebuffer&#x3D;&lt;n&gt; æœ€å¤§æ¯è¿æ¥æ¥æ”¶ç¼“å­˜ï¼Œ&lt;n&gt;*1000 å­—èŠ‚ï¼ˆé»˜è®¤ï¼š10000ï¼‰-maxsendbuffer&#x3D;&lt;n&gt; æœ€å¤§æ¯è¿æ¥å‘é€ç¼“å­˜ï¼Œ&lt;n&gt;*1000 å­—èŠ‚ï¼ˆé»˜è®¤ï¼š10000ï¼‰-upnp ä½¿ç”¨å…¨å±€å³æ’å³ç”¨ï¼ˆUPNPï¼‰æ˜ å°„ç›‘å¬ç«¯å£ï¼ˆé»˜è®¤ï¼š0ï¼‰-detachdb åˆ†ç¦»è´§å¸å—å’Œåœ°å€æ•°æ®åº“ã€‚ä¼šå¢åŠ å®¢æˆ·ç«¯å…³é—­æ—¶é—´ï¼ˆé»˜è®¤ï¼š0ï¼‰-paytxfee&#x3D;&lt;amt&gt; æ‚¨å‘é€çš„äº¤æ˜“æ¯ KB å­—èŠ‚çš„æ‰‹ç»­è´¹-testnet ä½¿ç”¨æµ‹è¯•ç½‘ç»œ-debug è¾“å‡ºé¢å¤–çš„è°ƒè¯•ä¿¡æ¯-logtimestamps è°ƒè¯•ä¿¡æ¯å‰æ·»åŠ æ—¶é—´æˆ³-printtoconsole å‘é€è·Ÿè¸ª&#x2F;è°ƒè¯•ä¿¡æ¯åˆ°æ§åˆ¶å°è€Œä¸æ˜¯ debug.log æ–‡ä»¶-printtodebugger å‘é€è·Ÿè¸ª&#x2F;è°ƒè¯•ä¿¡æ¯åˆ°è°ƒè¯•å™¨-rpcuser&#x3D;&lt;ç”¨æˆ·å&gt; JSON-RPC è¿æ¥ä½¿ç”¨çš„ç”¨æˆ·å-rpcpassword&#x3D;&lt;å¯†ç &gt; JSON-RPC è¿æ¥ä½¿ç”¨çš„å¯†ç -rpcport&#x3D;&lt;port&gt; JSON-RPC è¿æ¥æ‰€ç›‘å¬çš„ &lt;ç«¯å£&gt;ï¼ˆé»˜è®¤ï¼š8332ï¼‰-rpcallowip&#x3D;&lt;ip&gt; å…è®¸æ¥è‡ªæŒ‡å®š &lt;ip&gt; åœ°å€çš„ JSON-RPC è¿æ¥-rpcconnect&#x3D;&lt;ip&gt; å‘é€å‘½ä»¤åˆ°è¿è¡Œåœ¨ &lt;ip&gt; åœ°å€çš„èŠ‚ç‚¹ï¼ˆé»˜è®¤ï¼š127.0.0.1ï¼‰-blocknotify&#x3D;&lt;å‘½ä»¤&gt; å½“æœ€å¥½çš„è´§å¸å—æ”¹å˜æ—¶æ‰§è¡Œå‘½ä»¤ï¼ˆå‘½ä»¤ä¸­çš„ %s ä¼šè¢«æ›¿æ¢ä¸ºè´§å¸å—å“ˆå¸Œå€¼ï¼‰-upgradewallet å°†é’±åŒ…å‡çº§åˆ°æœ€æ–°çš„æ ¼å¼-keypool&#x3D;&lt;n&gt; å°†å¯†åŒ™æ± çš„å°ºå¯¸è®¾ç½®ä¸º &lt;n&gt;ï¼ˆé»˜è®¤ï¼š100ï¼‰-rescan é‡æ–°æ‰«æè´§å¸å—é“¾ä»¥æŸ¥æ‰¾é’±åŒ…ä¸¢å¤±çš„äº¤æ˜“-checkblocks&#x3D;&lt;n&gt; å¯åŠ¨æ—¶æ£€æŸ¥å¤šå°‘è´§å¸å—ï¼ˆé»˜è®¤ï¼š2500ï¼Œ0 è¡¨ç¤ºå…¨éƒ¨ï¼‰-checklevel&#x3D;&lt;n&gt; è´§å¸å—éªŒè¯çš„çº§åˆ«ï¼ˆ0-6ï¼Œé»˜è®¤ï¼š1ï¼‰ SSL é€‰é¡¹ï¼š 1234-rpcssl ä½¿ç”¨ OpenSSLï¼ˆhttpsï¼‰JSON-RPC è¿æ¥-rpcsslcertificatechainfile&#x3D;&lt;æ–‡ä»¶.cert&gt; æœåŠ¡å™¨è¯ä¹¦æ–‡ä»¶ï¼ˆé»˜è®¤ï¼šserver.certï¼‰-rpcsslprivatekeyfile&#x3D;&lt;æ–‡ä»¶.pem&gt; æœåŠ¡å™¨ç§åŒ™æ–‡ä»¶ï¼ˆé»˜è®¤ï¼šserver.pemï¼‰-rpcsslciphers&#x3D;&lt;å¯†ç &gt; å¯æ¥å—çš„å¯†ç ï¼ˆé»˜è®¤ï¼šTLSv1+HIGH:!SSLv2:!aNULL:!eNULL:!AH:!3DES:@STRENGTHï¼‰ bitcoin.conf é…ç½®æ–‡ä»¶é™¤äº† -datadir å’Œ-conf ä»¥å¤–çš„æ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶æ¥è®¾ç½®ï¼Œè€Œæ‰€æœ‰é…ç½®æ–‡ä»¶ä¸­çš„é€‰é¡¹ä¹Ÿéƒ½å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è®¾ç½®ã€‚å‘½ä»¤è¡Œå‚æ•°è®¾ç½®çš„å€¼ä¼šè¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„è®¾ç½®ã€‚é…ç½®æ–‡ä»¶æ˜¯â€œè®¾ç½®=å€¼â€æ ¼å¼çš„ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯è¡Œä¸€ä¸ªã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨# ç¬¦å·æ¥ç¼–å†™æ³¨é‡Šã€‚é…ç½®æ–‡ä»¶ä¸ä¼šè‡ªåŠ¨åˆ›å»ºï¼›æ‚¨å¯ä»¥ä½¿ç”¨æ‚¨å–œçˆ±çš„çº¯æ–‡æœ¬ç¼–è¾‘å™¨æ¥åˆ›å»ºå®ƒã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒBitcoinï¼ˆæˆ–bitcoindï¼‰ä¼šåœ¨æ¯”ç‰¹å¸æ•°æ®æ–‡ä»¶å¤¹ä¸‹æŸ¥æ‰¾ä¸€ä¸ªåä¸ºâ€œbitcoin.confâ€çš„æ–‡ä»¶ï¼Œä½†æ˜¯æ•°æ®æ–‡ä»¶å¤¹å’Œé…ç½®æ–‡ä»¶çš„è·¯å¾„éƒ½å¯ä»¥åˆ†åˆ«é€šè¿‡-datadir å’Œ-conf å‘½ä»¤è¡Œå‚æ•°åˆ†åˆ«æŒ‡å®šã€‚ Windows:%APPDATA%\\Bitcoin å³C:\\Users\\username\\AppData\\Roaming\\Bitcoin\\bitcoin.conf Linux $HOME/.bitcoin/ å³/home/username/.bitcoin/bitcoin.conf æ³¨æ„ï¼šå¦‚æœBitcoin æ¯”ç‰¹å¸å®¢æˆ·ç«¯æµ‹è¯•ç½‘æ¨¡å¼è¿è¡Œï¼Œåœ¨æ•°æ®æ–‡ä»¶å¤¹ä¸‹å®¢æˆ·ç«¯ä¼šè‡ªåŠ¨åˆ›å»ºåä¸ºâ€œtestnetâ€çš„å­æ–‡ä»¶å¤¹ã€‚ bitcoin.conf ç¤ºä¾‹12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970# bitcoin.conf é…ç½®æ–‡ä»¶ã€‚ä»¥ # å¼€å¤´çš„è¡Œæ˜¯æ³¨é‡Šã€‚# ç½‘ç»œç›¸å…³çš„è®¾ç½®ï¼š# åœ¨æµ‹è¯•ç½‘ç»œä¸­è¿è¡Œï¼Œè€Œä¸æ˜¯åœ¨çœŸæ­£çš„æ¯”ç‰¹å¸ç½‘ç»œtestnet&#x3D;0# é€šè¿‡ä¸€ä¸ª Socks4 ä»£ç†æœåŠ¡å™¨è¿æ¥proxy&#x3D;127.0.0.1:9050################################################################ addnode ä¸ connect çš„åŒºåˆ« #### #### å‡è®¾æ‚¨ä½¿ç”¨äº† addnode&#x3D;4.2.2.4 å‚æ•°ï¼Œé‚£ä¹ˆ addnode ä¾¿ä¼šä¸æ‚¨çš„èŠ‚ç‚¹è¿æ¥ï¼Œå¹¶ä¸”å‘ŠçŸ¥æ‚¨çš„èŠ‚ç‚¹æ‰€æœ‰ä¸å®ƒç›¸è¿æ¥çš„å…¶å®ƒèŠ‚ç‚¹ã€‚## å¦å¤–å®ƒè¿˜ä¼šå°†æ‚¨çš„èŠ‚ç‚¹ä¿¡æ¯å‘ŠçŸ¥ä¸å…¶ç›¸è¿æ¥çš„å…¶å®ƒèŠ‚ç‚¹ï¼Œè¿™æ ·å®ƒä»¬ä¹Ÿå¯ä»¥è¿æ¥åˆ°æ‚¨çš„èŠ‚ç‚¹ã€‚## #### connect åœ¨æ‚¨çš„èŠ‚ç‚¹â€œè¿æ¥â€åˆ°å®ƒçš„æ—¶å€™å¹¶ä¸ä¼šåšä¸Šè¿°å·¥ä½œã€‚ä»…å®ƒä¼šä¸æ‚¨è¿æ¥ï¼Œè€Œå…¶å®ƒèŠ‚ç‚¹ä¸ä¼šã€‚## #### å› æ­¤å¦‚æœæ‚¨ä½äºé˜²ç«å¢™åï¼Œæˆ–è€…å› ä¸ºå…¶å®ƒåŸå› æ— æ³•æ‰¾åˆ°èŠ‚ç‚¹ï¼Œåˆ™ä½¿ç”¨â€œaddnodeâ€æ·»åŠ ä¸€äº›èŠ‚ç‚¹ã€‚## å¦‚æœæ‚¨æƒ³ä¿è¯éšç§ï¼Œä½¿ç”¨â€œconnectâ€è¿æ¥åˆ°é‚£äº›æ‚¨å¯ä»¥â€œä¿¡ä»»â€çš„èŠ‚ç‚¹ã€‚ #### #### å¦‚æœæ‚¨åœ¨ä¸€ä¸ªå±€åŸŸç½‘å†…è¿è¡Œäº†å¤šä¸ªèŠ‚ç‚¹ï¼Œæ‚¨ä¸éœ€è¦è®©å®ƒä»¬å»ºç«‹è®¸å¤šè¿æ¥ã€‚## æ‚¨åªéœ€è¦ä½¿ç”¨â€œconnectâ€è®©å®ƒä»¬ç»Ÿä¸€è¿æ¥åˆ°ä¸€ä¸ªå·²ç«¯å£è½¬å‘å¹¶æ‹¥æœ‰å¤šä¸ªè¿æ¥çš„èŠ‚ç‚¹ã€‚ ################################################################# æ‚¨å¯ä»¥åœ¨ä¸‹é¢ä½¿ç”¨å¤šä¸ª addnode&#x3D; è®¾ç½®æ¥è¿æ¥åˆ°æŒ‡å®šçš„èŠ‚ç‚¹addnode&#x3D;69.164.218.197addnode&#x3D;10.0.0.2:8333# æˆ–ä½¿ç”¨å¤šä¸ª connect&#x3D; è®¾ç½®æ¥ä»…è¿æ¥åˆ°æŒ‡å®šçš„èŠ‚ç‚¹connect&#x3D;69.164.218.197connect&#x3D;10.0.0.1:8333# ä¸ä½¿ç”¨å› ç‰¹ç½‘ä¸­ç»§èŠå¤©ï¼ˆIRCï¼‰ï¼ˆirc.lfnet.org #bitcoin é¢‘é“ï¼‰æ¥æŸ¥æ‰¾å…¶å®ƒèŠ‚ç‚¹noirc&#x3D;0# å…¥ç«™+å‡ºç«™çš„æœ€å¤§è¿æ¥æ•°maxconnections&#x3D;# JSON-RPC é€‰é¡¹ï¼ˆç”¨äºæ§åˆ¶è¿è¡Œä¸­çš„ Bitcoin&#x2F;bitcoind è¿›ç¨‹ï¼‰ï¼šserver&#x3D;1 å‘ŠçŸ¥ Bitcoin-QT æ¥å— JSON-RPC å‘½ä»¤server&#x3D;0# æ‚¨å¿…é¡»è®¾ç½® rpcuser å’Œ rpcpassword ä»¥ç¡®ä¿ JSON-RPC çš„å®‰å…¨rpcuser&#x3D;bitcoinrpcrpcpassword&#x3D;YourSuperGreatPasswordNumber_DO_NOT_USE_THIS_OR_YOU_WILL_GET_ROBBED_385593# å®¢æˆ·ç«¯åœ¨ HTTP è¿æ¥å»ºç«‹åï¼Œç­‰å¾…å¤šå°‘ç§’ä»¥å®Œæˆä¸€ä¸ª RPC HTTP è¯·æ±‚rpctimeout&#x3D;30# é»˜è®¤ä»…å…è®¸æ¥è‡ªæœ¬æœºçš„ RPC è¿æ¥ã€‚åœ¨è¿™é‡Œæ‚¨å¯ä»¥æŒ‡å®šå¤šä¸ª# rpcallowip&#x3D;ï¼Œæ¥è®¾ç½®æ‚¨æƒ³å…è®¸è¿æ¥çš„å…¶å®ƒä¸»æœº IP åœ°å€ã€‚# æ‚¨å¯ä»¥ä½¿ç”¨ * ä½œä¸ºé€šé…ç¬¦ã€‚rpcallowip&#x3D;10.1.1.10rpcallowip&#x3D;192.168.1.*# åœ¨å¦‚ä¸‹ç«¯å£ç›‘å¬ RPC è¿æ¥rpcport&#x3D;8332# æ‚¨å¯ä»¥é€šè¿‡å¦‚ä¸‹è®¾ç½®ä½¿ç”¨ Bitcoin æˆ– bitcoind æ¥å‘é€å‘½ä»¤åˆ°ä¸€ä¸ªåœ¨å…¶å®ƒä¸»æœºè¿œç¨‹è¿è¡Œçš„ Bitcoin&#x2F;bitcoind å®¢æˆ·ç«¯rpcconnect&#x3D;127.0.0.1# ä½¿ç”¨å®‰å…¨å¥—æ¥å±‚ï¼ˆä¹Ÿç§°ä¸º TLS æˆ– HTTPSï¼‰æ¥è¿æ¥åˆ° Bitcoin -server æˆ– bitcoindrpcssl&#x3D;1# å½“ rpcssl&#x3D;1 æ—¶ä½¿ç”¨çš„ OpenSSL è®¾ç½®rpcsslciphers&#x3D;TLSv1+HIGH:!SSLv2:!aNULL:!eNULL:!AH:!3DES:@STRENGTHrpcsslcertificatechainfile&#x3D;server.certrpcsslprivatekeyfile&#x3D;server.pem# å…¶å®ƒé€‰é¡¹ï¼š# è®¾ç½® gen&#x3D;1 ä»¥å°è¯•ç”Ÿæˆæ¯”ç‰¹å¸ï¼ˆé‡‡çŸ¿ï¼‰gen&#x3D;0# é¢„ç”Ÿæˆå¦‚ä¸‹æ•°ç›®çš„å…¬åŒ™å’Œç§åŒ™ï¼Œè¿™æ ·é’±åŒ…å¤‡ä»½ä¾¿å¯ä»¥å¯¹å·²æœ‰çš„äº¤æ˜“ä»¥åŠæœªæ¥å¤šç¬”äº¤æ˜“æœ‰æ•ˆ**keypool&#x3D;100**# æ¯æ¬¡æ‚¨å‘é€æ¯”ç‰¹å¸çš„æ—¶å€™æ”¯ä»˜ä¸€ä¸ªå¯é€‰çš„é¢å¤–çš„äº¤æ˜“æ‰‹ç»­è´¹ã€‚# åŒ…å«æ‰‹ç»­è´¹çš„äº¤æ˜“ä¼šæ›´å¿«çš„è¢«åŒ…å«åœ¨æ–°ç”Ÿæˆçš„è´§å¸å—ä¸­ï¼Œå› æ­¤ä¼šæ›´å¿«ç”Ÿæ•ˆpaytxfee&#x3D;0.00# å…è®¸ç›´æ¥è¿æ¥ï¼Œå®ç°â€œé€šè¿‡ IP åœ°å€æ”¯ä»˜â€åŠŸèƒ½allowreceivebyip&#x3D;1# ç”¨æˆ·ç•Œé¢é€‰é¡¹ï¼š# æœ€å°åŒ–å¯åŠ¨æ¯”ç‰¹å¸å®¢æˆ·ç«¯min&#x3D;1# æœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜minimizetotray&#x3D;1","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"},{"name":"è®¾ç½®","slug":"è®¾ç½®","permalink":"https://imzy.vip/tags/%E8%AE%BE%E7%BD%AE/"}]},{"title":"æ¯”ç‰¹å¸äº¤æ˜“åŸºæœ¬é—®é¢˜","slug":"æ¯”ç‰¹å¸äº¤æ˜“åŸºæœ¬é—®é¢˜","date":"2019-08-29T15:08:57.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/36076/","link":"","permalink":"https://imzy.vip/posts/36076/","excerpt":"ç»è¿‡ä¸€æ®µæ—¶é—´çš„å­¦ä¹ ï¼Œå°è¯•å»ç†è§£æ¯”ç‰¹å¸å’ŒåŒºå—é“¾çš„æ¦‚å¿µï¼Œä¹Ÿåœ¨é˜…è¯»rust-bitcoiné¡¹ç›®ä¸‹çš„ä»£ç ã€‚ç°åœ¨æ¥æå‡ºä¸€ä¸ªæ¯”ç‰¹å¸äº¤æ˜“çš„åŸºæœ¬é—®é¢˜ï¼š","text":"ç»è¿‡ä¸€æ®µæ—¶é—´çš„å­¦ä¹ ï¼Œå°è¯•å»ç†è§£æ¯”ç‰¹å¸å’ŒåŒºå—é“¾çš„æ¦‚å¿µï¼Œä¹Ÿåœ¨é˜…è¯»rust-bitcoiné¡¹ç›®ä¸‹çš„ä»£ç ã€‚ç°åœ¨æ¥æå‡ºä¸€ä¸ªæ¯”ç‰¹å¸äº¤æ˜“çš„åŸºæœ¬é—®é¢˜ï¼š æˆ‘ä»¬æ€æ ·å»å®ç°æ¯”ç‰¹å¸äº¤æ˜“ï¼Ÿé—®é¢˜çš„äº§ç”Ÿé—®é¢˜çš„äº§ç”Ÿå¾ˆç®€å•ï¼Œç°åœ¨åªæœ‰ä¸€ä¸ªç›®çš„ï¼Œæƒ³è¦åœ¨æ¯”ç‰¹å¸ç½‘ç»œä¸Šå®ç°ä¸€æ¬¡è½¬è´¦äº¤æ˜“ã€‚åœ¨å®ç°è¿™ä¸ªç›®æ ‡ä¹‹å‰ï¼Œæˆ‘åšäº†ä¸€äº›å‡†å¤‡å·¥ä½œï¼š é˜…è¯»äº†mastering bitcoin å‚é˜…äº† rust-bitcoin é¡¹ç›®ä¸‹ rust-walletçš„æºç  é˜…è¯»äº†bitcoinJçš„æºç ï¼Œæ ¹æ®bitcoinJçš„å®ç°æ¢³ç†å‡ºä¸€ä¸ªæˆ‘è®¤ä¸ºçš„äº¤æ˜“å®ç°çš„è¿‡ç¨‹ æŸ¥é˜…äº† rust-bitcoin é¡¹ç›®çš„å­é¡¹ç›®murmelï¼Œè¯¥é¡¹ç›®æ˜¯ä¸€ä¸ª SPV èŠ‚ç‚¹çš„å®ç°ï¼Œæˆªæ­¢ç›®å‰è¿˜æš‚æ—¶æ— æ³•è¿è¡Œ ä¹‹å‰ä¹Ÿåœ¨åšå®¢æ’°å†™äº† æ¯”ç‰¹å¸äº¤æ˜“è¿‡ç¨‹ çš„æ–‡ç« ï¼Œå¯ä»¥åœ¨ä¹‹å‰çš„åšå®¢çœ‹åˆ°ã€‚å…¶ä¸­æ¶‰åŠç†µçš„ç”Ÿæˆï¼ŒåŠ©è®°è¯ç”Ÿæˆï¼Œç§˜é’¥çš„æ´¾ç”Ÿç­‰é’±åŒ…çš„æ¦‚å¿µã€‚ä¹Ÿåœ¨åç»­çš„æ–‡ç« ä¸­æç‚¼å‡ºæ¥äº¤æ˜“è¿‡ç¨‹ä¸­çš„è„šæœ¬æ„å»ºçš„è¿‡ç¨‹ã€‚åˆæ­¥æ„å»ºäº†æ¯”ç‰¹å¸äº¤æ˜“çš„æµç¨‹ã€‚ä¹Ÿæœ‰æ–‡ç« æè¿°äº†SPVèŠ‚ç‚¹çš„æ¦‚å¿µï¼Œç®€å•æ¥è®² SPV èŠ‚ç‚¹ä¸å­˜å‚¨å®Œæ•´çš„åŒºå—é“¾ä¿¡æ¯ï¼Œä½¿ç”¨ç§°ä¸º merkle tree çš„æ•°æ®ç»“æ„æ¥éªŒè¯äº¤æ˜“ä¿¡æ¯ã€‚ åˆæ­¥æ€è€ƒç¬¬ä¸€å±‚çš„å‡†å¤‡å·¥ä½œå®Œæˆä¹‹åï¼Œæˆ‘é˜…è¯»äº† bitcoinj çš„ä»£ç ã€‚bitcoinj æ˜¯ä½¿ç”¨ java å®ç°çš„æ¯”ç‰¹å¸èŠ‚ç‚¹ï¼Œå®ƒçš„åŠŸèƒ½éå¸¸é½å…¨ï¼ŒåŒ…å«å…¨èŠ‚ç‚¹å®ç°å’Œè½»èŠ‚ç‚¹ï¼ˆSPVï¼‰çš„å®ç°ã€‚æ˜¯å—åˆ° bitcoin core æ¨èçš„ä¸€ç§å®ç°ã€‚bitcoinj ä½¿ç”¨çš„éå¸¸å¹¿æ³›ï¼Œå¾ˆå¤šæ‰‹æœºä¸Šçš„é’±åŒ…éƒ½æ˜¯åŸºäºbitcoinåº“çš„åŠŸèƒ½å®ç°çš„ã€‚è¯´ä¸€ä¸ªå’Œæ‰‹æœºç«¯æœ€è´´è¿‘çš„ç‚¹ï¼šç›´æ¥ä½¿ç”¨WalletAppkit ç»„ä»¶ï¼Œä»–å±è”½äº†å¾ˆå¤šå®ç°ç»†èŠ‚ï¼Œæš´éœ²ç»™å¼€å‘è€…éå¸¸ç®€æ´çš„å¼€å‘æ¥å£ã€‚å…·ä½“çš„å¼€å‘è¿‡ç¨‹å¯ä»¥å‚è€ƒ bitcoinj çš„æ–‡æ¡£ï¼Œä»–å·²ç»éå¸¸ç®€æ´æ¸…æ¥šäº†ã€‚æ­¤å¤„æå‡ºä¸€ç‚¹å»ºè®®ï¼Œä¹Ÿæ˜¯ç»™è‡ªå·±çš„å»ºè®® é˜…è¯»ä»£ç è¯·ä»å¼€å‘æ–‡æ¡£å¼€å§‹ã€‚å…ˆäº†è§£ç”¨æ³•ï¼Œç„¶åå†æ·±å…¥æºç ç»†èŠ‚ã€‚ è¿™ä¸ªæ˜¯æœ€è¿‘é˜…è¯»æºç çš„ç»éªŒä¹‹è°ˆï¼Œè¿™ä¸ªé“ç†ä¹Ÿå¯ä»¥é€šç”¨ã€‚ è¦æ˜¯æ²¡æœ‰æ–‡æ¡£æ€ä¹ˆåŠï¼Ÿ é‚£å°±è¯·ä»ç¬¬äºŒæ­¥å¼€å§‹ï¼Œäº†è§£ç”¨æ³•ï¼Œä»ç¨‹åºçš„å¯åŠ¨å…¥æ‰‹ã€‚æŒ‰ç…§ç¨‹åºå¯åŠ¨çš„é¡ºåºå»æ¢³ç†å‡ºä»£ç çš„æ€è·¯ã€‚è¿™æ ·ä¹Ÿç¬¦åˆä»£ç çš„å¼€å‘æµç¨‹ï¼Œæ›´å®¹æ˜“ä½“ä¼šä»£ç å¼€å‘è¿‡ç¨‹å’Œä½œè€…æ€è·¯ã€‚ æŒ‰ç…§ä»¥ä¸ŠåŸåˆ™ï¼Œæˆ‘æ€»ç»“å‡ºäº†äº† æˆ‘ä»¥ä¸ºçš„äº¤æ˜“è¿‡ç¨‹ï¼ˆä¹Ÿå°±æ˜¯å®ç°æœ¬æ–‡ä¸­ç›®çš„çš„è¿‡ç¨‹ï¼‰ï¼Œæ³¨æ„ä»¥ä¸‹çš„æ€è·¯å¯èƒ½æ˜¯ é”™è¯¯çš„ï¼Œä½†è¿™æ˜¯æˆ‘é˜…è¯»bitcoinjå’Œæ¨ªå‘é˜…è¯»rust-walletçš„å¾—åˆ°çš„ç»“è®ºï¼Œæˆ‘è®¤ä¸ºæ€è·¯æ˜¯æœ‰ä»·å€¼çš„ã€‚ å¯åŠ¨bitcoinèŠ‚ç‚¹ï¼Œæˆ–è€…æœåŠ¡ æ ¹æ®å‚æ•°å»é…ç½®bitcoin networkã€‚bitcoin netwrok ä¸»è¦åˆ†ä¸ºä¸‰ç±» Mainnet ä¸»ç½‘ï¼Œé»˜è®¤ç«¯å£ 8333ã€‚ Testnet æµ‹è¯•ç½‘ï¼Œé»˜è®¤ç«¯å£ 18333ã€‚ RegTest ç§é“¾ï¼Œå•æœºæ¨¡å¼ èŠ‚ç‚¹æ¢æµ‹ï¼Œæ¥å…¥ bitcoin çš„p2pç½‘ç»œï¼Œè¿›è¡Œäº¤äº’ã€‚èŠ‚ç‚¹ï¼ˆæ— è®ºæ˜¯è½»èŠ‚ç‚¹è¿˜æ˜¯å…¨èŠ‚ç‚¹çš„ä¸€ä¸ªé‡è¦å·¥ä½œå°±æ˜¯ç»´æŠ¤è¿™ç§p2pé“¾æ¥ï¼‰ æ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰æ ¹æ®æ¯”ç‰¹å¸åè®®æ‰€å®ç°çš„åŠŸèƒ½ï¼Œæ ¹æ®è¿™äº›æ¥å£åŠŸèƒ½ï¼Œç”¨æˆ·ç»„å»ºäº¤æ˜“ä¿¡æ¯ï¼Œè®©èŠ‚ç‚¹å»å¹¿æ’­äº¤æ˜“ å†æ•´ç†åœ¨æ­¤åŸºç¡€ä¸Šï¼Œåˆæ ¹æ®ã€Šç²¾é€šæ¯”ç‰¹å¸ã€‹ï¼Œä¸­æåˆ°çš„æ–¹æ³•æœ‰ä»¥ä¸‹çš„æµç¨‹ ç¼–è¯‘å¹¶å¯åŠ¨æ¯”ç‰¹å¸ç¨‹åº ä½¿ç”¨ bitcore æä¾›çš„cliå·¥å…·å» bitcore äº¤äº’ï¼Œbitcore æœ¬èº«æä¾› RPC æœåŠ¡å¯ä»¥äº¤äº’ï¼Œè¿™æ ·å°±å¯ä»¥å®ŒæˆæŸ¥è¯¢ï¼ŒæŒ–çŸ¿ï¼Œå’Œäº¤æ˜“ã€‚ æ ¹æ®è¿™ä¸¤æ–¹é¢çš„çŸ¥è¯†ï¼Œå»ä¸“é—¨äº†è§£RPCæœåŠ¡æ˜¯ä»€ä¹ˆæ¦‚å¿µã€‚å› ä¸º rust-bitcoin ä¸­ç›´æ¥ä½¿ç”¨äº† bitcoin-rpc åº“ã€‚æŒ‰ç…§ç¬¬ä¸€èŠ‚çš„åŸåˆ™ï¼Œæ•´ç†RPCçš„ç”¨æ³•ã€‚ https://github.com/rust-bitcoin/rust-bitcoincore-rpc å¯ä»¥åœ¨ä»¥ä¸Šçš„é“¾æ¥ä¸­æŸ¥é˜… rpc åº“çš„ç”¨æ³• 123456789101112extern crate bitcoincore_rpc;use bitcoincore_rpc::&#123;Auth, Client, RpcApi&#125;;fn main() &#123; let rpc = Client::new(&quot;http://localhost:8332&quot;.to_string(), Auth::UserPass(&quot;&lt;FILL RPC USERNAME&gt;&quot;.to_string(), &quot;&lt;FILL RPC PASSWORD&gt;&quot;.to_string())).unwrap(); let best_block_hash = rpc.get_best_block_hash().unwrap(); println!(&quot;best block hash: &#123;&#125;&quot;, best_block_hash);&#125; å¯ä»¥è¯´ rpc çš„ç”¨æ³•å¾ˆç®€å•ï¼Œåªéœ€è¦æä¾›ä¸‰ä¸ªå‚æ•°å³å¯ï¼Œå³ ipï¼Œusernameï¼Œpasswordã€‚è¿™ä¸‹å°±äº§ç”Ÿè®©æˆ‘æœ€å¤§çš„ç–‘é—® ipä»å“ªé‡Œæ¥ï¼Ÿ username å’Œ password ä»å“ªæ¥ï¼Ÿ ä»¥ä¸‹æ˜¯å¯¹é—®é¢˜çš„æ€è€ƒï¼Œä»–çš„ç»“è®ºæ˜¯å¯èƒ½é”™è¯¯çš„ï¼Œæˆ–è€…è¯´æ˜¯ä¸å®Œå…¨çš„ï¼Œä½†ä¹Ÿæ˜¯çœŸå®çš„æ€è€ƒè¿‡ç¨‹ ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š è¿˜è®°çš„å½“åˆç¬¬ä¸€éƒ¨åˆ†çš„æ€è€ƒå—ï¼Œé˜…è¯»äº† bitcoinj çš„ä»£ç æ‰€æ€»ç»“å‡ºçš„æµç¨‹ã€‚å¯åŠ¨èŠ‚ç‚¹æ—¶åˆ»ï¼Œæœ¬èŠ‚ç‚¹æ˜¯ç©ºç™½çš„ï¼Œå¹¶ä¸çŸ¥é“è¯¥å¦‚ä½•å»å’Œå…¶ä»–çš„èŠ‚ç‚¹å»ºç«‹ p2p é“¾æ¥ã€‚æ ¹æ®æ¯”ç‰¹å¸æ ‡å‡†ï¼Œæ¯”ç‰¹å¸å®˜æ–¹ç»´æŠ¤äº† dnsseedï¼Œå¤§æ¦‚æ˜¯ä¸€å…±å°±å››åˆ°å…­ä¸ªåŸŸåï¼Œåªè¦è§£æè¿™å‡ åŸŸåå°±å¯ä»¥å¾—åˆ°ipã€‚äº‹å®ä¸Šæˆ‘ç¡®å®ä½¿ç”¨ dns-resolve å¾—åˆ°äº†å¤§é‡ipã€‚ ç¬¬äºŒä¸ªé—®é¢˜ï¼š æŸ¥é˜…rpcçš„ç”¨æ³•ï¼Œusername å’Œ password æ˜¯é¿ä¸å¼€çš„ã€‚åœ¨æ‰€æœ‰çš„æ¯”ç‰¹å¸æŒ‡å—çš„å¼€å‘ä¸­ï¼Œé“¾æ¥æ¯”ç‰¹å¸èŠ‚ç‚¹ï¼Œusername å’Œ password éƒ½æ˜¯éœ€è¦çš„ã€‚é˜…è¯»ã€Šç²¾é€šæ¯”ç‰¹å¸ã€‹ä¹¦ä¸­çš„å¯åŠ¨æ¯”ç‰¹å¸èŠ‚ç‚¹ï¼Œè¿™ä¸ªç”¨æˆ·åæ˜¯è‡ªå·±åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„ã€‚ é”™è¯¯çš„æ¨ç†ï¼š æ—¢ç„¶æ¯”ç‰¹å¸å®˜æ–¹æä¾›dnsseedï¼Œç¡®å®èƒ½å¤Ÿè§£æå‡ºå¤§é‡dnsã€‚è€Œä¸”è€ƒè™‘åˆ°æ¯”ç‰¹å¸æ•°æ®æ˜¯å…¬å¼€çš„ï¼Œé‚£è¿™äº›èŠ‚ç‚¹æ˜¯ä¸æ˜¯å¼€æ”¾çš„ï¼Ÿä¸éœ€è¦ç”¨æˆ·åå’Œå¯†ç ã€‚ é”™è¯¯çš„æµç¨‹ï¼š åŸºäºä»¥ä¸Šé”™è¯¯æµç¨‹ï¼Œæˆ‘æ€»ç»“å‡ºäº†è¦å®ç°æµç¨‹ã€‚å» dnsseed ä¸Šè§£æå‡ºipï¼Œç„¶åä¸ç”¨ç”¨æˆ·åå’Œå¯†ç å»å’Œè¿™äº›æœåŠ¡å™¨å»ºç«‹ rpc æœåŠ¡è¿›è¡Œäº¤äº’ã€‚ å…¶å®åœ¨è¿™ä¸ªæ¨ç†è¿‡ç¨‹ä¹‹åï¼Œæˆ‘è¿˜æ˜¯å»é˜…è¯»äº† murmel çš„æºç  ï¼Œè·Ÿç€ä»–ä¸€æ­¥æ­¥çš„å»å®ç°è¿™ä¸ª spv çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯å¿ƒä¸­çš„å›°æƒ‘å®Œå…¨æ²¡æœ‰è§£å†³ã€‚å†æ¨¡ä»¿ murmel å†™äº†å¾ˆå¤šä»£ç ä¹‹åå¼€å§‹æ•´ç†æ€è·¯ï¼Œè¿™æ ·åšåˆ°åº•èƒ½å¦å®ç°æˆ‘è¦çš„äº¤æ˜“ã€‚ çŸ›ç›¾çš„æ€è€ƒç‚¹å‡ºç°äº†ï¼Œæˆ‘ç¿»é˜…äº†æ¯”ç‰¹å¸ç™½çš®ä¹¦ä¹‹ç±»çš„èµ„æ–™ã€‚ä¹Ÿå¯¹åº”æŸ¥é˜…äº†å¾ˆå¤šå…·ä½“çš„å®ç°ï¼Œå‘ç°æ²¡æœ‰ä¸€ä¸ªè¿™ä¸ªåšçš„ã€‚æ ¸å¿ƒåœ¨äºï¼šæ¯”ç‰¹å¸å®˜æ–¹å¹¶ä¸æ‰¿è¯ºæä¾›RPCæœåŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´è§£æå‡ºæ¥è¿™äº› ip åœ°å€æ˜¯ä¸å¯ä»¥è¿›è¡Œ rpc æœåŠ¡çš„ã€‚äº‹å®ä¸Šæˆ‘ä¹Ÿå°è¯•å»é“¾æ¥è¿™äº› ipã€‚ç¡®å®æ²¡æ³•åŠæ³•é“¾æ¥ï¼å¹¶ä¸”è¿™äº› rpc æœåŠ¡åœ¨é…ç½®ä¸­æ˜¯å¯ä»¥å…³é—­çš„ï¼Œæ¯”ç‰¹å¸èŠ‚ç‚¹å¹¶ä¸ä¼šæ‰¿è¯ºå¼€æ”¾è¿™ç§æœåŠ¡ã€‚ æœ€åç»“è®ºé€šè¿‡ä»¥ä¸Šçš„è¿‡ç¨‹ï¼Œå…¶å®æœ€å¤§çš„é—®é¢˜å°±å·²ç»æ˜ç™½äº†ã€‚æˆ‘ä»¬è¦å®Œæˆäº¤æ˜“ï¼Œæœ‰å“ªäº›è·¯å¾„ï¼Ÿ ä½¿ç”¨ç¬¬ä¸‰æ–¹æä¾›çš„ api æ¯”å¦‚bitchain è‡ªå·±ç»´æŠ¤ä¸€ä¸ªæ¯”ç‰¹å¸èŠ‚ç‚¹ï¼Œrpc äº¤äº’å»äº¤æ˜“ ç»´æŠ¤ä¸€ä¸ªSPVèŠ‚ç‚¹ ç¬¬ä¸€ç‚¹ä¸ç”¨è¯´ï¼Œç¬¬äºŒç‚¹å¦‚æœè‡ªå·±ç»´æŠ¤ä¸€ä¸ªæ¯”ç‰¹å¸èŠ‚ç‚¹ï¼Œé‚£ä¹ˆipï¼Œusernameï¼Œpasswordéƒ½æ˜¯è‡ªå·±æä¾›çš„ï¼Œé‚£åªéœ€è¦è¿›è¡Œ rpc é“¾æ¥ã€‚é€šè¿‡ rpc æœåŠ¡å®Œæˆäº¤æ˜“å³å¯ã€‚ ç»´æŠ¤SPVèŠ‚ç‚¹ï¼Œæ¯”ç‰¹å¸æ ¹æ®è‡ªå·±åè®®ï¼Œè½»èŠ‚ç‚¹æ ¹æ®è‡ªå·±çš„éªŒè¯æ–¹å¼å»éªŒè¯çš„äº¤æ˜“ã€‚ï¼ˆè½»èŠ‚ç‚¹è¦ä¸åˆ«çš„å…¨èŠ‚ç‚¹äº¤äº’ï¼‰ æœ€åé¡ºå¸¦å›ç­”ä¸ªå°é—®é¢˜ æ•´ä¸ªäº¤æ˜“ä¸­ RPC æœåŠ¡åœ¨å“ªé‡Œï¼ŒP2P æœåŠ¡åœ¨å“ªé‡Œ æˆ‘ä»¬æŠŠæ•´ä¸ªæ¯”ç‰¹å¸çš„èŠ‚ç‚¹æ‹†å¼€çœ‹ã€‚åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼Œé’±åŒ…ï¼ŒèŠ‚ç‚¹æ ¸å¿ƒï¼Œåˆ«çš„èŠ‚ç‚¹ã€‚RPC æœåŠ¡æ˜¯èŠ‚ç‚¹å¯¹å¤–ç•Œæä¾›çš„åŠŸèƒ½ï¼ˆä¹Ÿå¯ä»¥ä¸å¼€å¯ï¼‰ï¼Œç”¨ RPC çš„æ–¹å¼å’Œæ¯”ç‰¹å¸æ ¸å¿ƒè¿›è¡Œäº¤äº’ï¼ˆæ¯”ç‰¹å¸æ ¸å¿ƒæœ‰å¤šç§å®ç°ï¼Œè¿™ä¸ªäº¤äº’ä¸»è¦å°±æ˜¯äº¤æ˜“ï¼‰ã€‚P2Påˆ™æŒ‡çš„æ˜¯æ¯”ç‰¹å¸èŠ‚ç‚¹ä¹‹é—´çš„é“¾æ¥æ–¹å¼ï¼Œdnsseed æˆ–è€…å…¶ä»–é…ç½®çš„èŠ‚ç‚¹é“¾æ¥å‘ç”Ÿåœ¨èŠ‚ç‚¹ä¹‹é—´ã€‚è‡³äºä¸ºä»€ä¹ˆè¦åˆ†å‡ºé’±åŒ…ï¼Ÿå› ä¸ºæˆ‘æƒ³å®ç°ä¸ªé’±åŒ…å»æ¯”ç‰¹å¸æ ¸å¿ƒä¸Šåšäº¤æ˜“ã€‚ æ³¨ï¼šä¸­é—´é‚£ä¸ªé”™è¯¯çš„æµç¨‹å¯¹äºethæ˜¯å¯ä»¥çš„ï¼Œå› ä¸º eth æ²¡æœ‰è½»èŠ‚ç‚¹ï¼Œæ‰€ä»¥å®˜æ–¹æ‰¿è¯ºæä¾›è¿™ç§æœåŠ¡ï¼Œå¤–ç•Œæ˜¯å¯ä»¥è¿æ¥å’Œäº¤äº’çš„ã€‚è¿™ä¹Ÿæ˜¯ eth è¢«è¯Ÿç—…ä¸å¤Ÿå»ä¸­å¿ƒåŒ–çš„åœ°æ–¹ï¼Œäº‹å®ä¸Šè¿™ä¸ªå¯ä»¥å¯¹å¤–å¼€æ”¾çš„èŠ‚ç‚¹ä¹Ÿé­å—äº†å¤šæ¬¡æ”»å‡»ã€‚ å®Œï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"},{"name":"äº¤æ˜“","slug":"äº¤æ˜“","permalink":"https://imzy.vip/tags/%E4%BA%A4%E6%98%93/"}]},{"title":"ç”³è¯·æµ‹è¯•æ¯”ç‰¹å¸çš„è¿‡ç¨‹","slug":"ç”³è¯·æµ‹è¯•æ¯”ç‰¹å¸çš„è¿‡ç¨‹","date":"2019-08-21T15:34:11.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/57093/","link":"","permalink":"https://imzy.vip/posts/57093/","excerpt":"æ¥ä¸Šæ–‡ï¼Œåœ¨ä¹‹å‰çš„æµç¨‹å›¾ä¸­æ˜ç™½äº†æ¯”ç‰¹å¸äº¤æ˜“çš„åŸºæœ¬è¿‡ç¨‹ï¼Œç°åœ¨éœ€è¦ä½¿ç”¨æ˜¯ç”¨æµ‹è¯•æ¯”ç‰¹å¸æ¥å®Œæˆä¸€ç¬”äº¤æ˜“ã€‚æœ¬ç‰‡æ–‡ç« å°±æ˜¯å®Œæˆäº¤æ˜“çš„å‰ç½®å·¥ä½œçš„è®°å½•â€”â€”ç”³è¯·æµ‹è¯•å¸ã€‚","text":"æ¥ä¸Šæ–‡ï¼Œåœ¨ä¹‹å‰çš„æµç¨‹å›¾ä¸­æ˜ç™½äº†æ¯”ç‰¹å¸äº¤æ˜“çš„åŸºæœ¬è¿‡ç¨‹ï¼Œç°åœ¨éœ€è¦ä½¿ç”¨æ˜¯ç”¨æµ‹è¯•æ¯”ç‰¹å¸æ¥å®Œæˆä¸€ç¬”äº¤æ˜“ã€‚æœ¬ç‰‡æ–‡ç« å°±æ˜¯å®Œæˆäº¤æ˜“çš„å‰ç½®å·¥ä½œçš„è®°å½•â€”â€”ç”³è¯·æµ‹è¯•å¸ã€‚ æŒ‰ç…§å®Œæ•´çš„æµç¨‹ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§ä»¥ä¸‹çš„è¿‡ç¨‹å®Œæˆ ç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„ç§é’¥ï¼Œå’Œæ¯”ç‰¹å¸åœ°å€ã€‚è¿™æ ·åˆ«äººå°±å¯ä»¥æŠŠæµ‹è¯•å¸å‘åˆ°ä½ çš„åœ°å€ä¸Šäº†ã€‚ å»ç‰¹å®šçš„faucetä¸Šç”³è¯·æµ‹è¯•å¸ 1. ç”Ÿæˆæ¯”ç‰¹å¸æµ‹è¯•åœ°å€å»ºè®®å»ä»¥ä¸‹çš„ç½‘å€ç”Ÿæˆæ¯”ç‰¹å¸æµ‹è¯•åœ°å€ æ¯”ç‰¹å¸åœ°å€ç”Ÿæˆ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä¸åŠ å‚æ•° ?testnet=trueçš„è¯ï¼Œç”Ÿæˆçš„æ˜¯æ­£å¼åœ°å€ã€‚å¦‚æœä½¿ç”¨æ­£å¼åœ°å€ï¼Œfaucetç½‘ç«™æ˜¯ä¸ä¼šç»™ä½ æ‰“æµ‹è¯•å¸çš„ã€‚ åŠ å‚æ•°çš„è¯è¯·ç›´æ¥åœ¨é“¾æ¥çš„æœ€åé¢åŠ ä¸Šè¿™ä¸ªå‚æ•°ï¼ŒåŠ ä¸Šçš„è¯è¯å‡ºå‡ºç° TESTNET EDITION ACTIVED è¯·åŠ¡å¿…æ³¨æ„è¿™ä¸€ç‚¹ã€‚ è¿˜æœ‰ä¸€ç‚¹éœ€è¦ä»”ç»†çœ‹çš„æ˜¯ç”Ÿçš„çš„åœ°å€ ä»¥1å¼€å¤´çš„éƒ½æ˜¯æ­£å¼åœ°å€ ï¼Œä»¥mæˆ–è€…å…¶ä»–å¼€å¤´çš„æ˜¯æµ‹è¯•åœ°å€ ç”Ÿæˆå¥½è®°å¾—ä¿å­˜ã€‚è®°å¾—æµ‹è¯•å®Œæˆä¹‹åå½’è¿˜æµ‹è¯•å¸ã€‚ 2. ç”³è¯·æµ‹è¯•å¸å‘æ”¾æµ‹è¯•å¸æ˜¯ç¤¾åŒºæˆ–è€…å…¶æ— å¿æä¾›çš„æœåŠ¡ï¼Œæ‰€ä»¥å¾ˆå¤šå‘æ”¾åœ°å€ä¼šéšç€æ—¶é—´è€Œå®æ•ˆï¼Œç”šè‡³äºbicoinjä¸Šæä¾›çš„åœ°å€åœ¨æˆ‘ç”¨çš„æ—¶å€™å·²ç»å®æ•ˆäº†ã€‚ä¸‹é¢åˆ—å‡ºæˆ‘ä½¿ç”¨çš„ä¸¤ä¸ªåœ°å€ https://testnet-faucet.mempool.co/ æ¯æ¬¡ç”³è¯·å¯ä»¥è·å–0.01ä¸ªæ¯”ç‰¹å¸ã€‚ https://kuttler.eu/en/bitcoin/btc/faucet/success/ è¿™ä¸ªç½‘ç«™æ˜¯è¿è¥è€…æ‰‹åŠ¨æ‰“æµ‹è¯•å¸çš„ï¼Œä¸€èˆ¬å¯ä»¥è·å– 0.1ä¸ªæµ‹è¯•å¸ã€‚å¦‚æœæ¯”è¾ƒç€æ€¥çš„è¯ï¼Œå¯ä»¥å°è¯•ç»™ä½œè€…å‘é‚®ä»¶å‚¬ä¸€ä¸‹ã€‚æ›´è¯¦ç»†çš„è¯´æ˜è¯·å‚è€ƒç½‘ç«™è¯´æ˜ã€‚æˆ‘æ˜¯ https://bitnodes.earn.com/nodes/?q=China è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ¯”ç‰¹å¸æµè§ˆå™¨ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„æŸ¥è¯¢äº¤æ˜“ä¿¡æ¯ã€‚ å¦å¤–éšç€æ—¶é—´çš„æ¨ç§»è¿™äº›å‘å¸çš„ç½‘ç«™ä¹Ÿè®¸ä¸èƒ½ç”¨äº†ï¼Œè¯·ä½¿ç”¨faucet bitcoinå…³é”®å­—æœç´¢ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"äº¤æ˜“","slug":"äº¤æ˜“","permalink":"https://imzy.vip/tags/%E4%BA%A4%E6%98%93/"},{"name":"bitcoin","slug":"bitcoin","permalink":"https://imzy.vip/tags/bitcoin/"},{"name":"æµ‹è¯•å¸","slug":"æµ‹è¯•å¸","permalink":"https://imzy.vip/tags/%E6%B5%8B%E8%AF%95%E5%B8%81/"}]},{"title":"æ¯”ç‰¹å¸äº¤æ˜“è¿‡ç¨‹äºŒ","slug":"æ¯”ç‰¹å¸äº¤æ˜“è¿‡ç¨‹äºŒ","date":"2019-08-09T15:41:28.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/37280/","link":"","permalink":"https://imzy.vip/posts/37280/","excerpt":"æ¥ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œè¿™å¼ æ˜Ÿå›¾æç»˜äº†æ¯”ç‰¹å¸äº¤æ˜“ç»†èŠ‚ä¸­çš„è„šæœ¬ã€‚","text":"æ¥ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œè¿™å¼ æ˜Ÿå›¾æç»˜äº†æ¯”ç‰¹å¸äº¤æ˜“ç»†èŠ‚ä¸­çš„è„šæœ¬ã€‚ æ³¨æ„è¿™ä¹Ÿæ˜¯åç»­æ¯”ç‰¹å¸çš„ç»§æ‰¿è€…ä»¬å¯¹æ¯”ç‰¹å¸ä¸æ»¡æ„çš„åœ°æ–¹ã€‚å› ä¸ºæ¯”ç‰¹å¸äº¤æ˜“è„šæœ¬æ˜¯åŸºäºæ ˆå †çš„éå›¾çµå®Œå¤‡è¯­è¨€ï¼Œåç»­çš„è¿½æ±‚è€…å¸Œæœ›åœ¨åŒºå—é“¾çš„åŸºç¡€ä¸Šè¿è¡Œå¼ºå¤§çš„æœºå™¨è¯­è¨€ï¼Œè®©æ¯ä¸ªç”¨æˆ·éƒ½å¯ä»¥è§è¯å…¶è¿è¡Œçš„è¿‡ç¨‹çš„ç»“æœâ€œæ™ºèƒ½åˆçº¦â€åº”è¿è€Œç”Ÿã€‚å½“ç„¶ï¼Œè¿™é‡Œçš„å›¾åªç®€å•æŒ‡å‡ºæ¯”ç‰¹å¸çš„äº¤æ˜“è„šæœ¬ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"},{"name":"äº¤æ˜“","slug":"äº¤æ˜“","permalink":"https://imzy.vip/tags/%E4%BA%A4%E6%98%93/"}]},{"title":"æ¯”ç‰¹å¸äº¤æ˜“è¿‡ç¨‹ä¸€","slug":"æ¯”ç‰¹å¸äº¤æ˜“è¿‡ç¨‹ä¸€","date":"2019-08-07T16:13:53.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/62625/","link":"","permalink":"https://imzy.vip/posts/62625/","excerpt":"â€‹ æ ¹æ®Mastering Bitcoinæ¢³ç†å‡ºçš„æ¯”ç‰¹æ¯”äº¤æ˜“è¿‡ç¨‹ï¼Œæ¶‰åŠå…¬/ç§é’¥ç”Ÿæˆï¼Œé’±åŒ…ï¼Œå’ŒçœŸæ­£çš„äº¤æ˜“è¿‡ç¨‹ï¼Œæ¶‰åŠè¾ƒå¤šç»†èŠ‚ã€‚","text":"â€‹ æ ¹æ®Mastering Bitcoinæ¢³ç†å‡ºçš„æ¯”ç‰¹æ¯”äº¤æ˜“è¿‡ç¨‹ï¼Œæ¶‰åŠå…¬/ç§é’¥ç”Ÿæˆï¼Œé’±åŒ…ï¼Œå’ŒçœŸæ­£çš„äº¤æ˜“è¿‡ç¨‹ï¼Œæ¶‰åŠè¾ƒå¤šç»†èŠ‚ã€‚ â€‹ å› ä¸ºè®¾è®¡ç»†èŠ‚è¾ƒå¤šï¼Œå•çº¯åšä¸€å¼ å›¾å·²ç»éš¾ä»¥é˜…è¯»ï¼Œï¼ˆåŒæ—¶ä¹Ÿå› ä¸ºèŠ‚ç‚¹å¤ªå¤šç»˜å›¾å·¥å…·å¤ªå¡äº†â€¦ï¼‰æ‰€ä»¥æ‹†åˆ†å¼€æ¥ã€‚æœ¬æ–‡ç« çš„å›¾ä»ä¸‰ç‚¹é’Ÿæ–¹å‘å¼€å§‹é˜…è¯»ï¼Œé¡ºæ—¶é’ˆæ–¹å‘é˜…è¯»ã€‚è¿™æ¬¡çš„æ˜Ÿå›¾åªåˆ°äº¤æ˜“è„šæœ¬æ„å»ºç»“æŸï¼Œåç»­çš„æ–‡ç« å°†ä»äº¤æ˜“è„šæœ¬æ„å»ºå¼€å§‹æè¿°ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"äº¤æ˜“","slug":"äº¤æ˜“","permalink":"https://imzy.vip/tags/%E4%BA%A4%E6%98%93/"},{"name":"bitcoin","slug":"bitcoin","permalink":"https://imzy.vip/tags/bitcoin/"}]},{"title":"SPV","slug":"SPV","date":"2019-08-02T16:22:05.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/12108/","link":"","permalink":"https://imzy.vip/posts/12108/","excerpt":"SPVæ˜¯ä»€ä¹ˆä½•ä¸ºSPVæ–‡ç« çš„å¼€å¤´é¦–å…ˆè¦æ˜ç¡®ä¸€ä¸ªé—®é¢˜ï¼Œä»€ä¹ˆæ˜¯SPVï¼Ÿ SPVæ˜¯ä¸€ä¸ªå…¸å‹çš„åŒºå—é“¾çš„é¢†åŸŸçŸ¥è¯†ï¼ŒSPVçš„å…¨ç§°å«åš Simplified Payment Verificationç¿»è¯‘æˆä¸­æ–‡å°±å«åšâ€œç®€å•æ”¯ä»˜è®¤è¯â€ã€‚","text":"SPVæ˜¯ä»€ä¹ˆä½•ä¸ºSPVæ–‡ç« çš„å¼€å¤´é¦–å…ˆè¦æ˜ç¡®ä¸€ä¸ªé—®é¢˜ï¼Œä»€ä¹ˆæ˜¯SPVï¼Ÿ SPVæ˜¯ä¸€ä¸ªå…¸å‹çš„åŒºå—é“¾çš„é¢†åŸŸçŸ¥è¯†ï¼ŒSPVçš„å…¨ç§°å«åš Simplified Payment Verificationç¿»è¯‘æˆä¸­æ–‡å°±å«åšâ€œç®€å•æ”¯ä»˜è®¤è¯â€ã€‚ å…¶å®å¯¹åº”ç®€å•æ”¯ä»˜è®¤è¯çš„æ˜¯ä¸æ˜¯è¿˜æœ‰ä¸€ä¸ªå«åšå¤æ‚æ”¯ä»˜è®¤è¯çš„ä¸œè¥¿å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚è™½ç„¶è¯´å¯¹åº”çš„çŸ¥è¯†å«åšä¸å«åšâ€å¤æ‚æ”¯ä»˜è®¤è¯â€œä½†æ˜¯æˆ‘ä»¬è¿˜æœ‰æœ‰å¿…è¦æ¥äº†è§£å…¶æ¦‚å¿µã€‚ æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒSPVæ˜¯å»ä¸­å¿ƒåŒ–çš„åˆ†å¸ƒå¼å­˜å‚¨ç»“æ„ï¼Œä¸€ä¸ªå®Œæ•´çš„åŒºå—é“¾èŠ‚ç‚¹åŒ…å«ä»¥ä¸‹å››ä¸ªéƒ¨åˆ†ï¼ˆè¿™ç§èŠ‚ç‚¹å«åšfull Nodeï¼‰ W -&gt; Wallet M -&gt; Miner B -&gt; Full Blockchain N -&gt; (Network) Routing Node ä»¥ä¸Šå››ä¸ªèŠ‚ç‚¹åˆ†åˆ«ä»£è¡¨äº†é’±åŒ…ï¼ŒçŸ¿å·¥ï¼Œå®Œæ•´çš„å–æ¬¾é“¾æ•°æ®åº“å’Œç½‘ç»œè·¯ç”±ã€‚è™½ç„¶æ˜¯åˆ†å¸ƒå¼ï¼Œå®Œå…¨å…¬å¹³çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯å—é™äºç½‘ç»œï¼Œæœºå™¨ç­‰å…·ä½“æƒ…å†µï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªèŠ‚ç‚¹éƒ½å…·æœ‰å®Œæ•´çš„è¿™å››ä¸ªéƒ¨åˆ†ã€‚ç‰¹åˆ«æ˜¯Full Blockchainã€‚ä¸€ä¸ªå®Œæ•´çš„æ¯”ç‰¹å¸æ•°æ®åº“ï¼Œåœ¨æ¯”ç‰¹å¸ç½‘ç»œä¸æ–­è†¨èƒ€çš„ä»Šå¤©ï¼Œå·²ç»æœ‰æ•°ç™¾Gä¹‹å¤šã€‚å®é™…æƒ…å†µä¸­ï¼Œå¾ˆå¤šæ¯”ç‰¹å¸çš„èŠ‚ç‚¹éƒ½è¿è¡Œåœ¨è€æ—§çš„è®¾å¤‡ä¸Šï¼Œæˆ–è€…æ˜¯ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œæ²¡åŠæ³•ä¿å­˜å®Œæ•´çš„æ¯”ç‰¹å¸æ•°æ®åº“ã€‚å› ä¸ºå®Œæ•´çš„æ¯”ç‰¹å¸èŠ‚ç‚¹å¯ä»¥ç‹¬ç«‹çš„å®Œæˆæ‰€æœ‰äº¤æ˜“çš„æ ¡éªŒï¼Œå¯¹åº”è¿™ç§ä¸å®Œæ•´çš„æ¯”ç‰¹å¸èŠ‚ç‚¹çš„æ ¡éªŒï¼Œå°±å°±äº§ç”Ÿäº†SPVï¼Œä¹Ÿå°±æ˜¯ç®€å•æ”¯ä»˜éªŒè¯ã€‚ æ²¡æœ‰å®Œæ•´çš„æ¯”ç‰¹å¸æ•°æ®åº“çš„èŠ‚ç‚¹å°±å«åšSPVèŠ‚ç‚¹ï¼Œä»–çš„éªŒè¯æ–¹å¼ç§°ä¹‹ä¸ºSPVï¼Œè¿™ç§èŠ‚ç‚¹ç›¸å¯¹äºFull Nodeï¼Œè¢«ç§°ä¹‹ä¸ºè½»é‡çº§èŠ‚ç‚¹ã€‚ SPVçš„è®¤è¯æ–¹å¼åŒºåˆ«äºFull Nodeï¼ŒSPVæ²¡æœ‰å®Œæ•´çš„æ¯”ç‰¹å¸æ•°æ®åº“ï¼Œæ‰€ä»¥ä»–åœ¨åŸç†å’Œè®¤è¯æ–¹å¼ä¸ŠåŒºåˆ«äºå…¨èŠ‚ç‚¹ã€‚åœ¨Mastering Bitcoinçš„8.8èŠ‚ï¼Œç®€å•æ”¯ä»˜è®¤è¯çš„ä¸€èŠ‚ä¸­æœ‰è¿™æ ·ä¸€å¥è¯ SPV èŠ‚ç‚¹åªéœ€ä¸‹è½½åŒºå—å¤´ï¼Œè€Œä¸ç”¨ä¸‹è½½åŒ…å«åœ¨æ¯ä¸ªåŒºå—ä¸­çš„äº¤æ˜“ä¿¡æ¯ã€‚ç”±æ­¤äº§ç”Ÿ çš„ä¸å«äº¤æ˜“ä¿¡æ¯çš„åŒºå—é“¾ï¼Œå¤§å°åªæœ‰å®Œæ•´åŒºå—é“¾çš„ 1/1000ã€‚ è¿™ä¸ªè¯´æ˜äº†ï¼Œspvå¦‚ä½•ç”¨æ›´å°çš„ç©ºé—´æ¥ä¿å­˜äº¤æ˜“ä¿¡æ¯ã€‚åœ¨SPVä¹‹å‰æˆ‘ä»¬æœ‰å¿…è¦å›é¡¾ä¸€ä¸‹ åŒºå—çš„æ•°æ®ç»“æ„ï¼Œä¸€èˆ¬æ¥è¯´ä¸€ä¸ªå®Œæ•´çš„åŒºå—åŒ…å«å¦‚ä¸‹ä¿¡æ¯ æ•°æ®é¡¹ å­—èŠ‚å¤§å° å­—æ®µ è¯´æ˜ Magic NO 4 é­”æ•° å¸¸æ•° Blocksize 4 åŒºå—å¤§å° ç”¨å­—èŠ‚è¡¨ç¤ºçš„è¯¥å­—æ®µä¹‹åçš„åŒºå—å¤§å° Blockheader 80 åŒºå—å¤´ ç»„æˆåŒºå—å¤´çš„å‡ ä¸ªå­—æ®µ Transaction counter 1-9 äº¤æ˜“è®¡æ•°å™¨ è¯¥åŒºå—åŒ…å«çš„äº¤æ˜“æ•°é‡ï¼ŒåŒ…å«coinbaseäº¤æ˜“ Transactions ä¸å®š äº¤æ˜“ è®°å½•åœ¨åŒºå—é‡Œçš„äº¤æ˜“ä¿¡æ¯ï¼Œä½¿ç”¨åŸç”Ÿçš„äº¤æ˜“ä¿¡æ¯æ ¼å¼ï¼Œå¹¶ä¸”äº¤æ˜“åœ¨æ•°æ®æµä¸­çš„ä½ç½®å¿…é¡»ä¸Merkleæ ‘çš„å¶å­èŠ‚ç‚¹é¡ºåºä¸€è‡´ è€ŒSPVèŠ‚ç‚¹å€¼ä¿å­˜å…¶ä¸­çš„åŒºå—å¤´ï¼ŒæŒ‰ç…§Mastering BitCoinçš„è¯´æ³•ï¼Œåªä¿å­˜åŒºå—å¤´ï¼Œå¯ä»¥ä½¿çš„åŒºå—å¤§å°ç¼©å‡åˆ°å®Œæ•´èŠ‚ç‚¹çš„1/1000ä»¥ä¸‹ã€‚ å›é¡¾ä¹‹åå¼€å§‹ç¡®è®¤ï¼Œå¦‚ä½•è¿›è¡ŒSPV SPV èŠ‚ç‚¹åˆ™ä¸èƒ½éªŒè¯ UTXO æ˜¯å¦è¿˜æœªè¢«æ”¯ä»˜ã€‚ç›¸ååœ°ï¼ŒSPV èŠ‚ç‚¹ä¼šåœ¨è¯¥äº¤æ˜“ä¿¡æ¯å’Œå®ƒæ‰€åœ¨åŒºå— ä¹‹é—´ç”¨ merkle è·¯å¾„å»ºç«‹ä¸€æ¡é“¾æ¥ã€‚ç„¶å SPV èŠ‚ç‚¹ä¸€ç›´ç­‰ å¾…ï¼Œç›´åˆ°åºå·ä» 300,001 åˆ° 300,006 çš„å…­ä¸ªåŒºå—å †å åœ¨è¯¥äº¤æ˜“æ‰€åœ¨çš„åŒºå—ä¹‹ä¸Šï¼Œ å¹¶é€šè¿‡ç¡®ç«‹äº¤æ˜“çš„æ·±åº¦æ˜¯åœ¨ç¬¬ 300,006 åŒºå—~ç¬¬ 300,001 åŒºå—ä¹‹ä¸‹æ¥éªŒè¯äº¤æ˜“çš„æœ‰ æ•ˆæ€§ã€‚ SPVçš„ä¸»è¦ç¼ºç‚¹å°±æ˜¯åªèƒ½éªŒè¯ä¸€ä¸ªäº¤æ˜“æ˜¯å­˜åœ¨çš„ï¼Œå¯ä»¥é€šè¿‡markleè·¯å¾„æ¥éªŒè¯ï¼Œä½†æ˜¯å®ƒæ— æ³•éªŒè¯ä¸€ä¸ªäº¤æ˜“æ˜¯ä¸å­˜åœ¨çš„ã€‚ ä»€ä¹ˆæ˜¯Merkle Treeåœ¨æ­¤ä¹‹å‰ï¼Œå…ˆè§£é‡Šä¸‹ä¸Šä¸€èŠ‚ä¸­æåˆ°çš„ï¼Œâ€œé€šè¿‡merkle è·¯å¾„å»éªŒè¯â€ã€‚é‚£è¿™ä¸ªå’Œmarkel treeæœ‰å…³çš„ä¿¡æ¯ä¿å­˜åœ¨å“ªï¼Ÿ ç­”æ¡ˆï¼šä¿å­˜åœ¨åŒºå—å¤´ä¸­ã€‚ åŒºå—å¤´ä¸­æœ‰ä»¥ä¸‹ä¿¡æ¯ Version Previous Block Hash Merkle Root Timestamp Difficulty Target Nonce è§£é‡Šå…¶ä¸­å‡ ä¸ªæ¦‚å¿µ åŒºå—é“¾ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯åƒé“¾è¡¨ä¸€æ ·çš„ç»“æ„ï¼Œæ‰€ä»¥è¿™ä¸ªPrevious Block HashæŒ‡å‘å‰ç½®åŒºå—çš„Hashï¼Œä¹Ÿå°±æ˜¯æŒ‡å‘çˆ¶åŒºå— Nonceå±äºæŒ–çŸ¿çš„çŸ¥è¯†ï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥é˜…ä¸€ä¸‹ã€‚ï¼ˆä¹Ÿå«éšæœºæ•°ï¼Œæ˜¯æŒ–çŸ¿è¿‡ç¨‹ä¸­æ§å·¥æš´åŠ›ç ´è§£å‡ºæ¥çš„éšæœºæ•°ï¼‰ è¿™é‡Œçš„Merkle Rootå°±æ˜¯æ„å»ºMerkle TreeéªŒè¯è·¯å¾„çš„å…³é”®å› ç´ ã€‚Merkle Treeæ˜¯ä¸€ä¸ªäºŒå‰æ ‘æ•°æ®ç»“æ„ï¼Œä¸è¿‡å¤šè§£é‡ŠäºŒå‰æ ‘ã€‚Merkle Treeæ˜¯åœ¨äºŒå‰æ ‘åŸºç¡€ä¸Šæ·»åŠ äº†Hashï¼Œæ‰€ä»¥è¯´è¿™æ˜¯ä¸€ç§å“ˆå¸ŒäºŒå‰æ ‘ã€‚ åœ¨æ¯”ç‰¹å¸ç½‘ç»œä¸­ï¼ŒMerkle æ ‘è¢«ç”¨æ¥å½’çº³ä¸€ä¸ªåŒºå—ä¸­çš„æ‰€æœ‰äº¤æ˜“ï¼ŒåŒæ—¶ç”Ÿæˆæ•´ä¸ªäº¤ æ˜“é›†åˆçš„æ•°å­—æŒ‡çº¹ï¼Œä¸”æä¾›äº†ä¸€ç§æ ¡éªŒåŒºå—æ˜¯å¦å­˜åœ¨æŸäº¤æ˜“çš„é«˜æ•ˆé€”å¾„ã€‚ç”Ÿæˆä¸€ æ£µå®Œæ•´çš„ Merkle æ ‘éœ€è¦é€’å½’åœ°å¯¹å“ˆå¸ŒèŠ‚ç‚¹å¯¹è¿›è¡Œå“ˆå¸Œï¼Œå¹¶å°†æ–°ç”Ÿæˆçš„å“ˆå¸ŒèŠ‚ç‚¹æ’ å…¥åˆ° Merkle æ ‘ä¸­ï¼Œç›´åˆ°åªå‰©ä¸€ä¸ªå“ˆå¸ŒèŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹å°±æ˜¯ Merkle æ ‘çš„æ ¹ã€‚åœ¨æ¯”ç‰¹ å¸çš„ Merkle æ ‘ä¸­ä¸¤æ¬¡ä½¿ç”¨åˆ°äº† SHA256 ç®—æ³•ï¼Œå› æ­¤å…¶åŠ å¯†å“ˆå¸Œç®—æ³•ä¹Ÿè¢«ç§°ä¸º double-SHA256ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå…·ä½“çš„äº¤æ˜“ä¿¡æ¯hash,éƒ½æ˜¯å‚¨å­˜åœ¨markle Treeçš„å¶å­èŠ‚ç‚¹ä¸Šçš„ï¼Œé€šè¿‡ä¸¤ä¸¤å½’å¹¶å‘ä¸Šï¼Œç›´åˆ°å½’ç»“æˆä¸€ä¸ªmerkle rootã€‚(å¦‚æœæ˜¯å¥‡æ•°ä¸ªèŠ‚ç‚¹ï¼Œåˆ™æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„hashå†å¤åˆ¶ä¸€ä»½ï¼Œå½¢æˆå¶æ•°èŠ‚ç‚¹ã€‚)æ‰€ä»¥ä¸€ä¸ªmerkle rootå°±åŒ…å«äº†åŒºå—ä¸­æ‰€æœ‰äº¤æ˜“çš„ä¿¡æ¯ã€‚éœ€è¦å¼ºè°ƒçš„å¦å¤–ä¸€ç‚¹æ˜¯ï¼Œå“ªæ€•æ˜¯åŒºå—ä¸­æœ‰æ•°ä¸‡ä¸ªäº¤æ˜“æœ€åæ±‚è§£å‡ºæ¥çš„merkle rootä¹Ÿåªæœ‰32ä¸ªå­—èŠ‚ã€‚éªŒè¯èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯äº¤æ˜“å­˜åœ¨ï¼‰çš„æ–¹æ³•å°±æ˜¯ä»rootåˆ°å­èŠ‚ç‚¹çš„æœç´¢è¿‡ç¨‹ã€‚ ä»¥ä¸Šè¿°æ„å»ºçš„merkleæ ‘ä¸ºä¾‹æè¿°è¿™ä¸ªéªŒè¯è¿‡ç¨‹ï¼ˆè¿™æ˜¯ä¸ªäººç†è§£çš„ç®—æ³•ï¼‰ å‡å®šéœ€è¦éªŒè¯çš„äº¤æ˜“æ˜¯HK SPVå‘ä¸€ä¸ªFull Nodeå‘é€ Blockä¿¡æ¯å’Œ TXIDï¼ŒæŸ¥è¯¢è¿™ç¬”Txidæ˜¯å¦å­˜åœ¨åœ¨è¿™ä¸ªTxidé‡Œé¢ï¼ŒFull Nodeæ ¹æ®Block.Hashå€¼ï¼Œå…ˆæ‰¾åˆ°è¿™ä¸ªBlockï¼Œç„¶åéå†Blockçš„Transactionsæ•°ç»„(è¿™ä¸€ç‚¹è¯·å‚è€ƒä¹‹å‰çš„Transactionsçš„è§£é‡Š)ï¼Œå¯ä»¥ç†è§£ä¸ºéå†Transaction.Txidæ˜¯å¦ä¸€æ ·ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±ç›´æ¥è¿”å›SPVäº¤æ˜“ä¸å­˜åœ¨ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œé‚£ä¹ˆå°±è¦æ ¹æ®ä¸Šå›¾çš„ä¿¡æ¯ï¼Œä¼ è¾“HLã€HIJã€HMNOP å’Œ HABCDEFGHçš„å€¼ æ‰€ä»¥åœ¨éš¾åº¦ä¸ºlognçš„çŠ¶æ€ä¸‹éªŒè¯äº†äº¤æ˜“å­˜åœ¨ã€‚ ç›¸å…³æ¦‚å¿µBloom.ä¸‹ä¸€ç¯‡æ–‡ç« ä»‹ç»ç›¸å…³æ¦‚å¿µï¼Œå¸ƒéš†è¿‡æ»¤å™¨ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"SPV","slug":"SPV","permalink":"https://imzy.vip/tags/SPV/"}]},{"title":"è·¨åŸŸé—®é¢˜","slug":"è·¨åŸŸé—®é¢˜","date":"2019-07-15T10:57:30.000Z","updated":"2025-07-31T02:30:04.388Z","comments":true,"path":"posts/48274/","link":"","permalink":"https://imzy.vip/posts/48274/","excerpt":"ä¹‹å‰å†™çš„å®‰å“ç¨‹åºï¼Œå¹¶ä¸å­˜åœ¨è·¨åŸŸè¿™ç§è¯´æ³•ï¼Œæ˜¯å¯ä»¥è‡ªç”±çš„ä»ä¸åŒçš„åŸŸåä¸‹è¯·æ±‚æ•°æ®çš„ï¼Œç°åœ¨çœ‹å‰ç«¯çŸ¥è¯†ï¼Œåˆ™å°±å‡ºç°äº†è·¨åŸŸè¿™ä¸ªæ¦‚å¿µã€‚äº†è§£è·¨åŸŸï¼Œä¸»è¦æ¸…æ¥šä»¥ä¸‹çš„çŸ¥è¯†ç‚¹å°±å¯ä»¥ã€‚","text":"ä¹‹å‰å†™çš„å®‰å“ç¨‹åºï¼Œå¹¶ä¸å­˜åœ¨è·¨åŸŸè¿™ç§è¯´æ³•ï¼Œæ˜¯å¯ä»¥è‡ªç”±çš„ä»ä¸åŒçš„åŸŸåä¸‹è¯·æ±‚æ•°æ®çš„ï¼Œç°åœ¨çœ‹å‰ç«¯çŸ¥è¯†ï¼Œåˆ™å°±å‡ºç°äº†è·¨åŸŸè¿™ä¸ªæ¦‚å¿µã€‚äº†è§£è·¨åŸŸï¼Œä¸»è¦æ¸…æ¥šä»¥ä¸‹çš„çŸ¥è¯†ç‚¹å°±å¯ä»¥ã€‚ ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Œæ»¡è¶³åŒæºç­–ç•¥çš„ä¸‰ä¸ªæ¡ä»¶æ˜¯ä»€ä¹ˆ è·¨åŸŸçš„å…·ä½“æ–¹æ¡ˆæ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆå¤„ç†ã€‚ ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Œæ»¡è¶³åŒæºç­–ç•¥çš„ä¸‰ä¸ªæ¡ä»¶æ˜¯ä»€ä¹ˆæµè§ˆå™¨ä¸ºäº†å®‰å…¨èµ·è§ï¼Œåˆ¶å®šäº†åŒæºç­–ç•¥ï¼Œåªå…è®¸åœ¨æœ¬åŸŸåä¸‹çš„æ•°æ®è¯·æ±‚æ“ä½œï¼ŒåŒæºç­–ç•¥ä¸»è¦è¦æ±‚ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ åè®®ç›¸åŒï¼Œæ³¨æ„httpå’Œhttpsæ˜¯ä¸åŒçš„åè®® åŸŸåç›¸åŒ ç«¯å£ä¸€è‡´ è¯·æ±‚çš„urlå’Œå½“å‰htmlçš„urlæ»¡è¶³ä»¥ä¸Šä¸‰ä¸ªæ¡ä»¶å°±æ˜¯åŒæºçš„ï¼ŒéåŒæºçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ•°æ®å°±ä¼šå—åˆ°é™åˆ¶ã€‚ è·¨åŸŸçš„å…·ä½“æ–¹æ¡ˆæ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆå¤„ç†å®é™…åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ä¸å¯èƒ½ä»€ä¹ˆä¸œè¥¿éƒ½æ”¾åœ¨è‡ªå·±çš„åŸŸåä¸‹æ¥å¤„ç†ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯èƒ½éœ€è¦ä¸€ä¸ªå¤©æ°”è¯·æ±‚çš„APIï¼Œä½†æ˜¯æˆ‘ä»¬çš„ä¸»ä¸šæ˜¯ç”µå•†ï¼Œé‚£æˆ‘ä»¬å¾ˆå¯èƒ½å°±éœ€è¦ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„APIæ¥åšã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±ä¸å¾—ä¸è·¨åŸŸã€‚ç›®å‰ä¸»æµçš„è·¨åŸŸçš„æ–¹æ¡ˆæœ‰ä¸€ä¸‹ä¸‰ç±»ã€‚ JSONP JSONPæ˜¯JSON with paddingçš„ç®€ç§°ã€‚æˆ‘ä»¬çŸ¥é“ Script æ ‡ç­¾ä¸­çš„jsä¸å—åŒæºç­–ç•¥çš„å½±å“ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±åŠ è½½ä»»ä½•åŸŸåä¸‹çš„jsæ¥æ‰§è¡Œã€‚JSONPå°±æ˜¯ä»¥æ­¤ä¸ºå¥‘æœºå»ºç«‹çš„ã€‚å…·ä½“çš„æˆ‘ä»¬åœ¨æ‰§è¡Œçš„æ—¶å€™å¯ä»¥è¿™ä¹ˆåš åœ¨htmlç«¯ 12345&lt;script src = &quot;https://a.imzy.me?callback = getWeather&quot;&gt; function getWeather(data)&#123; console.log(data) &#125;&lt;/script&gt; åœ¨æœåŠ¡ç«¯è¿”å›çš„æ—¶å€™ å¸¦ä¸Š callback({data: xxx})ã€‚ å‰åç«¯é…åˆï¼Œå®ç°JSONPã€‚ä¸è¿‡ä»¥ä¸Šçš„åšæ³•æ˜¾å¾—æœ‰äº›trickingã€‚æœ€ä¸»è¦çš„ç¼ºç‚¹æ˜¯ä»–åªå¯ä»¥è¿›è¡Œgetè¯·æ±‚ã€‚ CROS CROSçš„æ„æ€æ˜¯è·¨åŸŸèµ„æºå…±äº«ï¼Œè¿™ç§è·¨åŸŸçš„æ–¹æ³•æ˜¯å¯¹ajaxçš„æ‹“å±•ã€‚ CROSæœºåˆ¶æ˜¯æµè§ˆå™¨å‘ç°è¯·æ±‚çš„é“¾æ¥å’Œå½“å‰é¡µé¢urlæ˜¯ä¸åŒæºçš„ï¼Œå°±ä¸»åŠ¨åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ ä¸€ä¸ªOriginçš„å¤´ï¼Œç„¶ååç«¯è®¾ç½®ä¸€ä¸ªAccess-Control-Allow-Originçš„å“åº”å¤´ã€‚å“åº”å¤´ä¸­å¸¦æœ‰æœåŠ¡ç«¯å…è®¸çš„åŸŸã€‚å…è®¸çš„åŸŸå’ŒOriginä¸­çš„åŸŸèƒ½å¯¹åº”ä¸Šå°±å¯ä»¥ä½¿ç”¨CROSã€‚ä¸»è¦éœ€è¦åç«¯è®¾ç½®å“åº”å¤´ã€‚ è¯¦ç»†è§£é‡Šä¸‹ï¼ŒOriginå¤´è¯´æ˜çš„æ˜¯å½“å‰è¯·æ±‚æ¥è‡ªäºå“ªä¸ªåŸŸï¼ŒACAOåˆ™è¯´æ˜çš„æ˜¯æœåŠ¡ç«¯å…è®¸çš„åŸŸã€‚ å¯ä»¥å‚è€ƒ CROS. å’Œiframeæœ‰å…³çš„è¡Œä¸º åœ¨htmlé¡µé¢ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨iframeæ¥åµŒå¥—å¦ä¸€ä¸ªhtmlé¡µé¢ã€‚æˆ‘ä»¬çš„ä¸»é¡µé¢ï¼Œä¸€èˆ¬æ˜¯ä¸å…è®¸æ§åˆ¶iframeä¸­çš„å…ƒç´ çš„ï¼Œé™¤éiframeå’Œæˆ‘ä»¬çš„ä¸»é¡µé¢æ˜¯åŒä¸€ä¸ªåŸŸã€‚ä¸è¿‡iframeç¡®å®å­˜åœ¨éœ€è¦è·¨åŸŸçš„åœºæ™¯ã€‚å’Œiframeæœ‰å…³çš„è·¨åŸŸä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ é™åŸŸã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546a.html&lt;html&gt;&lt;style&gt; .ct&#123; width: 910px; margin: auto; &#125; .main&#123; float: left; width: 450px; height: 300px; border: 1px solid #ccc; &#125; .main input&#123; margin: 20px; width: 200px; &#125; .iframe&#123; float: right; &#125; iframe&#123; width: 450px; height: 300px; border: 1px dashed #ccc; &#125;&lt;/style&gt;&lt;div class=&quot;ct&quot;&gt; &lt;h1&gt;ä½¿ç”¨é™åŸŸå®ç°è·¨åŸŸ&lt;/h1&gt; &lt;div class=&quot;main&quot;&gt; &lt;input type=&quot;text&quot; placeholder=&quot;http://a.nany.com:8080/a.html&quot;&gt; &lt;/div&gt; &lt;iframe src=&quot;http://b.imzy.vip:8080/b.html&quot; frameborder=&quot;0&quot; &gt;&lt;/iframe&gt;&lt;/div&gt;&lt;script&gt;//URL: http://a.imzy.vip:8080/a.htmldocument.querySelector(&#x27;.main input&#x27;).addEventListener(&#x27;input&#x27;, function()&#123; console.log(this.value); window.frames[0].document.querySelector(&#x27;input&#x27;).value = this.value;&#125;)document.domain = &#x27;imzy.vip&#x27;&lt;/script&gt;&lt;/html&gt; ä»¥ä¸‹æ˜¯iframeä¸­çš„ä»£ç  123456789101112131415161718192021&lt;html&gt;&lt;style&gt; html,body&#123; margin: 0; &#125; input&#123; margin: 20px; width: 200px; &#125;&lt;/style&gt; &lt;input id=&quot;input&quot; type=&quot;text&quot; placeholder=&quot;http://b.imzy.vip:8080/b.html&quot;&gt;&lt;script&gt;// URL: http://b.imzy.vip:8080/b.html document.querySelector(&#x27;#input&#x27;).addEventListener(&#x27;input&#x27;, function()&#123; window.parent.document.querySelector(&#x27;input&#x27;).value = this.value;&#125;)document.domain = &#x27;imzy.vip&#x27;;&lt;/script&gt;&lt;/html&gt; æ³¨æ„ä»¥ä¸Šä»£ç ä¸­ï¼Œa.imzy.vipå’Œb.imzy.vipæ˜¯ä¸åŒçš„åŸŸåã€‚ä½†æ˜¯ä»–ä»¬çš„åç¼€æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥å¯ä»¥é™åŸŸä¸ºimzy.vip PostMessage ä¸»è¦ä½¿ç”¨çš„æ˜¯iframeçš„postMessageæ–¹æ³•ï¼Œæ¥è¿›è¡Œiframeçš„é€šä¿¡ã€‚ 12345678910111213141516171819202122232425262728293031&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;title&gt;è·¨åŸŸPOSTæ¶ˆæ¯å‘é€&lt;/title&gt; &lt;script type=&quot;text/JavaScript&quot;&gt; // sendPost é€šè¿‡postMessageå®ç°è·¨åŸŸé€šä¿¡å°†è¡¨å•ä¿¡æ¯å‘é€åˆ° æŒ‡å®šçš„åŸŸåä¸Š, // å¹¶å–å¾—è¿”å›çš„æ•°æ® function sendPost() &#123; // è·å–idä¸ºotherPageçš„iframeçª—å£å¯¹è±¡ var iframeWinow = document.getElementById(&quot;otherPage&quot;).contentWindow; // å‘è¯¥çª—å£å‘é€æ¶ˆæ¯ iframeWin.postMessage(document.getElementById(&quot;message&quot;).value, &#x27;http://imzy.vip&#x27;); &#125; // ç›‘å¬è·¨åŸŸè¯·æ±‚çš„è¿”å› window.addEventListener(&quot;message&quot;, function(event) &#123; console.log(event, event.data); &#125;, false); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;textarea id=&quot;message&quot;&gt;&lt;/textarea&gt; &lt;input type=&quot;button&quot; value=&quot;å‘é€&quot; onclick=&quot;sendPost()&quot;&gt; &lt;iframe src=&quot;http://imzy.vip/other-domain.html&quot; id=&quot;otherPage&quot; style=&quot;display:none&quot;&gt;&lt;/iframe&gt; &lt;/body&gt;&lt;/html&gt; æ”¾åœ¨å¦ä¸€ä¸ªåŸŸåä¸‹çš„iframeå†…å®¹ 123456789101112131415161718192021222324252627282930&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;title&gt;POST Handler&lt;/title&gt; &lt;script src=&quot;//code.jquery.com/jquery-1.11.0.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/JavaScript&quot;&gt; window.addEventListener(&quot;message&quot;, function( event ) &#123; // ç›‘å¬çˆ¶çª—å£å‘é€è¿‡æ¥çš„æ•°æ®å‘æœåŠ¡å™¨å‘é€postè¯·æ±‚ var data = event.data; $.ajax(&#123; // æ³¨æ„è¿™é‡Œçš„urlåªæ˜¯ä¸€ä¸ªç¤ºä¾‹.å®é™…ç»ƒä¹ çš„æ—¶å€™ä½ éœ€è¦è‡ªå·±æƒ³åŠæ³•æä¾› type: &#x27;POST&#x27;, url: &#x27;http://imzy.vip/getData&#x27;, data: &quot;info=&quot; + data, dataType: &quot;json&quot; &#125;).done(function(res)&#123; //å°†è¯·æ±‚æˆåŠŸè¿”å›çš„æ•°æ®é€šè¿‡postMessageå‘é€ç»™çˆ¶çª—å£ window.parent.postMessage(res, &quot;*&quot;); &#125;).fail(function(res)&#123; //å°†è¯·æ±‚å¤±è´¥è¿”å›çš„æ•°æ®é€šè¿‡postMessageå‘é€ç»™çˆ¶çª—å£ window.parent.postMessage(res, &quot;*&quot;); &#125;); &#125;, false); &lt;/script&gt; &lt;/head&gt; &lt;body&gt;&lt;/body&gt;&lt;/html&gt; ä»¥ä¸Šæ˜¯é€šè¿‡PostMessageæ¥è¿›è¡Œiframeé€šä¿¡çš„å®ä¾‹ï¼Œä¸»è¦æ˜¯å®Œæˆäº†ï¼Œä»ä¸»ç•Œé¢å‘é€æ¶ˆæ¯åˆ°å­iframe,å­iframeä¸­ç›‘å¬æ¶ˆæ¯ï¼Œå°†æ•°æ®ä½¿ç”¨window.parent.postMessage()æ–¹æ³•ï¼Œå›ä¼ æ•°æ®çš„è¿‡ç¨‹ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://imzy.vip/tags/%E5%89%8D%E7%AB%AF/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://imzy.vip/tags/%E6%8A%80%E6%9C%AF/"}]},{"title":"å†è¯»ç¼–ç¨‹ä¹‹é“-ç±»å‹ç³»ç»Ÿ","slug":"å†è¯»ç¼–ç¨‹ä¹‹é“-ç±»å‹ç³»ç»Ÿ","date":"2019-06-20T12:06:57.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/55711/","link":"","permalink":"https://imzy.vip/posts/55711/","excerpt":"å¿«é€Ÿå†è¯»ç¼–ç¨‹ä¹‹é“ï¼Œåšäº†å¦‚ä¸‹ä¸€å¼ æ€ç»´å¯¼å›¾","text":"å¿«é€Ÿå†è¯»ç¼–ç¨‹ä¹‹é“ï¼Œåšäº†å¦‚ä¸‹ä¸€å¼ æ€ç»´å¯¼å›¾ æ³¨æ„å‡ ä¸ªæœ¯è¯­ RHS ä»£è¡¨ç¬¦å·å³è¾¹çš„å€¼ å…³è”ç±»å‹ï¼štraitä¸­å‡ºç°çš„type æ ‡è®°ï¼Œå¿…é¡»æŒ‡å®štypeä¸ºæŒ‡å®šç±»å‹ &lt;RHS = Self&gt; æ˜¯æŒ‡å®šRHSçš„é»˜è®¤ç±»å‹ä¸ºSelf(å®ç°è¯¥ç±»å‹çš„å…·ä½“ç±»å‹) Turbofishæ“ä½œç¬¦ Ad-hocå¤šæ€ ?Sizedè¡¨ç¤º çš„æ˜¯ Sizedå’ŒUnSizedçš„æ€»å’Œã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Rust","slug":"Rust","permalink":"https://imzy.vip/tags/Rust/"},{"name":"ç¼–ç¨‹ä¹‹é“","slug":"ç¼–ç¨‹ä¹‹é“","permalink":"https://imzy.vip/tags/%E7%BC%96%E7%A8%8B%E4%B9%8B%E9%81%93/"}]},{"title":"JavaScript ä¸­çš„if() å’Œ == çš„å¥‡æ€ªè¡Œä¸º","slug":"JavaScript-ä¸­çš„if-å’Œ-çš„å¥‡æ€ªè¡Œä¸º","date":"2019-06-14T16:36:50.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/33446/","link":"","permalink":"https://imzy.vip/posts/33446/","excerpt":"JavaScriptçœŸæ˜¯ä¸€ç§å¥‡æ€ªçš„è¯­è¨€ã€‚ å¼€å¤´å°±æ˜¯è¿™ä¹ˆä¸€å¥å¯¹JSæ€§è´¨çš„é™å®šï¼Œå› ä¸ºä¹‹å‰éƒ½ä½¿ç”¨çš„æ˜¯é™æ€è¯­è¨€ï¼Œå¼ºç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥å¯¹äºif() å’Œ ==è¿™ç§ç®€å•çš„è¯­æ³•å¹¶æ²¡æœ‰å¿…è¦å»å†™ä¸€ç¯‡æ–‡ç« ï¼Œä½†æ˜¯jsçš„å¤©ç”Ÿç¼ºé™·ç¡®ä¼šäº§ç”Ÿä¸€äº›å¾ˆå¥‡æ€ªçš„è¡Œä¸ºã€‚æ‰€ä»¥ç‰¹åœ°å†™ä¸€ç¯‡æ–‡ç« æ¥è®°å½•è¿™äº›è¡Œä¸ºã€‚","text":"JavaScriptçœŸæ˜¯ä¸€ç§å¥‡æ€ªçš„è¯­è¨€ã€‚ å¼€å¤´å°±æ˜¯è¿™ä¹ˆä¸€å¥å¯¹JSæ€§è´¨çš„é™å®šï¼Œå› ä¸ºä¹‹å‰éƒ½ä½¿ç”¨çš„æ˜¯é™æ€è¯­è¨€ï¼Œå¼ºç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥å¯¹äºif() å’Œ ==è¿™ç§ç®€å•çš„è¯­æ³•å¹¶æ²¡æœ‰å¿…è¦å»å†™ä¸€ç¯‡æ–‡ç« ï¼Œä½†æ˜¯jsçš„å¤©ç”Ÿç¼ºé™·ç¡®ä¼šäº§ç”Ÿä¸€äº›å¾ˆå¥‡æ€ªçš„è¡Œä¸ºã€‚æ‰€ä»¥ç‰¹åœ°å†™ä¸€ç¯‡æ–‡ç« æ¥è®°å½•è¿™äº›è¡Œä¸ºã€‚ è¯­ä¹‰é¦–å…ˆè§£é‡Šè¯­ä¹‰ if() ç”¨äºæ¡ä»¶åˆ¤æ–­ å…¶ä¸­æ‹¬å·ä¸­éœ€è¦ä¸€ä¸ªboolean è¡¨è¾¾å¼ == ç”¨äºåˆ¤æ–­ å¾—åˆ°çš„ç»“æœæ˜¯ä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼ï¼Œ åœ¨jsä¸­æ˜¯ä¸ä¸¥æ ¼åˆ¤æ–­ï¼Œä¼šå…ˆè¿›è¡Œç±»å‹è½¬æ¢ï¼Œç„¶åè¿›è¡Œæ¯” if()çš„å¥‡æ€ªè¡Œä¸º1234567891011if(&quot;a&quot;)&#123; console.log(&quot;a&quot;)&#125;if(&quot;&quot;)&#123; console.log(&quot;hello&quot;)&#125;if([])&#123; console.log(&quot;world&quot;)&#125; ä»¥ä¸Šçš„ä»£ç ä¼šæ€ä¹ˆæ‰§è¡Œå‘¢ã€‚å¯ä»¥ç›´æ¥å»ä»»æ„ä¸€ä¸ªæµè§ˆå™¨è¿è¡Œè¿™äº›ä»£ç ï¼ŒæŸ¥çœ‹ç»“æœã€‚è¿™é‡Œå…ˆæŠ›å‡ºç»“è®º JavaScriptä¼šæŠŠæ‹¬å·ä¸­çš„ ä¸œè¥¿è½¬åŒ–ä¸ºå¸ƒå°”å€¼ï¼Œä¹‹åæ ¹æ®ç»“æœæ‰§è¡Œ å…¶ä¸­éµå¾ªçš„ç»“æœå¦‚ä¸‹ ç±»å‹ è½¬æ¢å½¢å¼ Undefined false Null False Boolean è‡ªå·±ä½“ä¼š number 0 +0 -0 NaNä¸ºfalse å…¶ä»–ä¸ºTrue String ç©ºå­—ç¬¦ä¸²â€â€ä¸ºfalse å…¶ä»–ä¸ºtrue Object True æ‰€ä»¥å¸¦å…¥å°±å¥½äº†ã€‚æ ¹æ®è¿™ä¸ªåŸåˆ™ ç¬¬ä¸€ç¬¬ä¸‰éƒ½å¯ä»¥è¾“å‡ºï¼Œç¬¬äºŒä¸ªæ˜¯æ— æ³•è¾“å‡ºçš„ã€‚ é‚£å¿ å‘Šæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ åˆ«è¿™ä¹ˆå†™å¥½å—ï¼Œè€è€å®å®å»å†™å¸ƒå°”è¡¨è¾¾å¼ã€‚ == çš„å¥‡æ€ªè¡Œä¸º12345678910&quot;&quot; == 0&quot; &quot; == 0&quot;&quot; == true&quot;&quot; == false&quot; &quot; == false!&quot; &quot; = false!&quot; &quot; = true&quot;hello&quot; = true&quot;0&quot; = true ä»¥ä¸Šä¼šäº§ç”Ÿä»€ä¹ˆç»“æœï¼Ÿ emmmã€‚ã€‚ã€‚ è¿™æˆ‘æ€ä¹ˆçŸ¥é“ã€‚åªèƒ½è¯´JSçœŸä¼šç© å¥½äº†å…ˆä¸Šç»“è®º x Y Result null undefiend true Number String x==toNumber(y) Boolean Any tonumber(x) == y Object String or Number toPrimitive(x) == y Otherwise Otherwise False è§£é‡Šä¸€ä¸‹ä»€ä¹ˆå«toPrimitiveå°±æ˜¯è½¬ä¸ºåŸºæœ¬ç±»å‹ï¼Œç‰¹å°±æ˜¯è°ƒç”¨valueOf()æ–¹æ³•å’Œ toString()æ–¹æ³•ã€‚valueOfçš„ä¼˜å…ˆçº§æ¯”toStringçš„ä¼˜å…ˆçº§é«˜ã€‚ åˆæœ‰äººé—®äº†ï¼Œé‚£æ•°å­—æ€ä¹ˆè½¬ Type Result Undefined NaN Null 0 Boolean True -&gt; 1, false -&gt; 0 String â€œabcâ€ -&gt; NaN, â€œ123â€ -&gt; 123, â€œâ€ -&gt; 0 é‚£é‡ç‚¹æ˜¯ä»€ä¹ˆå‘¢ é‡åˆ° == ï¼Œå°±å°è¯•ç»™ç­‰å·ä¸¤è¾¹çš„è¡¨è¾¾å¼ï¼Œå˜é‡è½¬åŒ–ä¸ºæ•°å­—ï¼Œè½¬ä¸ºæ•°å­—ä¹‹åå†æ¯”è¾ƒã€‚ ä¹Ÿæœ‰ç‰¹ä¾‹ 12&quot;&quot; == 0 // true&quot; &quot; == 0 // true æŒ‰ç…§ä¸Šé¢è¯´æ³•å­—ç¬¦ä¸²è½¬è¿‡å»å…¶å®åº”è¯¥æ˜¯NaNå•Š æ€ä¹ˆå°±trueäº†å‘¢ï¼Œè¯´ç™½äº†ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªä¾‹å¤–ï¼Œjsèƒ½å«åšå¥‡æ€ªçš„è¯­è¨€å—ï¼Ÿæ‰€ä»¥å‡è£…ä»–è½¬æˆ0äº†ã€‚ç„¶åå»æ§åˆ¶å°è¯•è¯•ï¼Œå¥¥ï¼Œä»–ç¡®å®è½¬æˆ0äº†ã€‚æ‰€ä»¥è¡¨ä¸ŠåŠ ä¸€æ¡ï¼Œç©ºå­—ç¬¦ä¸²ï¼Œç©ºç™½å­—ç¬¦ä¸²(è¿™æ˜¯ä¸¤ä¸ªä¸œè¥¿éƒ½æ˜¯è½¬æˆ0) å¥½äº†æœ‰äº†ä»¥ä¸Šçš„åŸåˆ™ï¼Œè½¬çš„å†å¥‡æ€ªä¹Ÿä¸æ€•äº†ã€‚ç­‰ç­‰é‚£ä¸‹é¢å‘¢ 1!&quot; &quot; == true åˆ†æä¸€ä¸‹ ï¼Œâ€ â€œè½¬åŒ–ä¸º0, é‚£ !0æ˜¯å¤šå°‘ï¼Ÿ ä¸å¯¹åŠ²å•Šï¼Œè¿™æˆ‘æ€ä¹ˆåˆ†æã€‚æœºæ™ºçš„æ€è€ƒä¹‹åï¼Œè¿™ä¸ªç‰µæ‰¯åˆ°ä¼˜å…ˆçº§é—®é¢˜ï¼Œæ‰“å¼€mdn,æœç´¢è¿ç®—ç¬¦ä¼˜å…ˆçº§ã€‚çœ‹æ¥å–éçš„ä¼˜å…ˆçº§é«˜ï¼Œé‚£æˆ‘çœ‹çœ‹å·¦è¾¹æ˜¯ä¸ªä»€ä¹ˆ ï¼Œåˆ«çŒœé¡ºåºçš„äº†ï¼Œç›´æ¥å»æ§åˆ¶å°çœ‹çœ‹ã€‚æˆ‘ä»¬å¾—åˆ°!â€â€ -&gt;falseã€‚ é‚£è¿™ä¸ªç»“æœåªèƒ½æ˜¯falseäº† ã€‚0 å’Œ 1è‚¯å®šä¸èƒ½ç›¸ç­‰äº†ã€‚ å¥½äº†ï¼Œä»¥ä¸Šå°±æ˜¯è¿™äº›å¥‡æ€ªçš„è¡Œä¸ºçš„æ€»ç»“ã€‚æœ€åçš„å¿ å‘Šæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ èƒ½ä¸èƒ½æŠŠä»£ç å†™æ¸…æ¥šç‚¹ï¼åˆ«æè¿™äº›æœ‰çš„æ²¡çš„ï¼Œè¿™ä¹ˆå†™ä¼šè¢«æ‰“æ­» ä¼Ÿå¤§çš„ç¼–ç¨‹è‘—ä½œéƒ½å‘Šè¯‰æˆ‘ä»¬äº†ï¼Œä»£ç å†™çš„åˆ«äººéƒ½çœ‹ä¸æ˜ç™½ï¼Œä½ æƒ³å¹²å•¥ï¼è¯·å¬å¤§å¸ˆçš„åŠå‘Šï¼","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://imzy.vip/tags/JavaScript/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://imzy.vip/tags/%E5%89%8D%E7%AB%AF/"},{"name":"if() å’Œ ==","slug":"if-å’Œ","permalink":"https://imzy.vip/tags/if-%E5%92%8C/"}]},{"title":"äºŒå‰æ ‘çš„éå†æ–¹æ³•","slug":"äºŒå‰æ ‘çš„éå†æ–¹æ³•","date":"2019-05-28T19:28:21.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/60409/","link":"","permalink":"https://imzy.vip/posts/60409/","excerpt":"æœ€è¿‘åˆ·ç®—æ³•ï¼Œè¡¥å……ç®—ç®—æ³•çŸ¥è¯†ï¼Œå› ä¸ºæœ¬äººçš„åŸºç¡€è–„å¼±ï¼Œè¡¥èµ·æ¥æ¯”è¾ƒåƒåŠ›ã€‚äºŒå‰æ ‘çš„éå†æ–¹æ³•ï¼Œéé€’å½’ç‰ˆæœ¬çš„éå†æ–¹æ³•è®©æˆ‘è¿·æƒ‘ï¼Œä½†æ˜¯æˆ‘è¯»åˆ°äº†ä¸€ç¯‡å†™çš„éå¸¸ç²¾å½©çš„æ–‡ç«  https://zhuanlan.zhihu.com/p/30490183 ï¼›æœ‰å…´è¶£çš„å¯ä»¥å»å‚è€ƒä¸‹åŸæ–‡ã€‚","text":"æœ€è¿‘åˆ·ç®—æ³•ï¼Œè¡¥å……ç®—ç®—æ³•çŸ¥è¯†ï¼Œå› ä¸ºæœ¬äººçš„åŸºç¡€è–„å¼±ï¼Œè¡¥èµ·æ¥æ¯”è¾ƒåƒåŠ›ã€‚äºŒå‰æ ‘çš„éå†æ–¹æ³•ï¼Œéé€’å½’ç‰ˆæœ¬çš„éå†æ–¹æ³•è®©æˆ‘è¿·æƒ‘ï¼Œä½†æ˜¯æˆ‘è¯»åˆ°äº†ä¸€ç¯‡å†™çš„éå¸¸ç²¾å½©çš„æ–‡ç«  https://zhuanlan.zhihu.com/p/30490183 ï¼›æœ‰å…´è¶£çš„å¯ä»¥å»å‚è€ƒä¸‹åŸæ–‡ã€‚ æˆ‘åœ¨è¿™é‡Œæ€»ç»“å‡ºæ ¸å¿ƒæ€æƒ³ã€‚ å¯¹äºäºŒå‰æ ‘ä¸­çš„ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹è€Œè¨€ï¼Œå®ƒéƒ½æœ‰ä¸¤ä¸ªè§’è‰²éœ€è¦æ‰®æ¼”ï¼Œä¸€ä¸ªæ˜¯ä½œä¸ºå€¼å­˜å‚¨çš„è§’è‰²ï¼ˆè§’è‰²1ï¼‰ï¼Œå¦ä¸€ä¸ªè§’è‰²æ˜¯ä½œä¸ºå®ƒæ‰€å¸¦é¢†çš„å­æ ‘çš„ä¸€ä¸ªä»£è¡¨ï¼ˆè§’è‰²2ï¼‰ã€‚è€Œæˆ‘ä»¬è®¾ç½®çš„booleanå˜é‡ï¼Œå°±æ˜¯ä¸ºäº†è¯´æ˜æˆ‘å½“å‰æ‹¿åˆ°çš„è¿™ä¸ªèŠ‚ç‚¹ï¼Œåº”è¯¥æ˜¯ä»¥ä¸€ä¸ªå€¼å­˜å‚¨çš„è¿™ç§è§’è‰²å¯¹å¾…å®ƒ(True)ï¼Œè¿˜æ˜¯åº”è¯¥ä»¥ä¸€ä¸ªå­æ ‘çš„ä»£è¡¨è¿™ç§è§’è‰²å¯¹å¾…å®ƒï¼ˆFalseï¼‰ï¼Œå¦‚æœæ˜¯å‰è€…ï¼Œé‚£ä¹ˆå°±ç®€å•çš„å°†å…¶æ‰€å­˜å‚¨çš„å€¼æ‰“å°å‡ºæ¥ï¼Œå¦‚æœæ˜¯åè€…ï¼Œæˆ‘ä»¬éœ€è¦ç»§ç»­æ¢ç´¢ç”±å®ƒå¸¦é¢†çš„å­æ ‘ã€‚ é€šè¿‡è¿™ä¸ªæ ¸å¿ƒæ€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥å°†äºŒå‰æ•°çš„éå†æ–¹æ³•åšä¸€ä¸ªç»Ÿä¸€çš„è§„åˆ’äº†ï¼Œæˆ‘ä»¬å…ˆåŒ…è£…Node,è®©ä»–å¸¦ä¸€ä¸ªæ˜¯å¦è®¿é—®è¿‡çš„æ ‡å¿—ï¼Œ(å¦‚æœä½ ä¸ç”¨Java,æ¯”å¦‚py,ä½ å¯ä»¥ç›´æ¥ç”¨å…ƒç»„)ã€‚ ` 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; class TreeNodeWhithBoolean &#123; TreeNode node; boolean visited; public TreeNodeWhithBoolean(TreeNode node,boolean visited)&#123; this.node = node; this.visited = visited; &#125; &#125; public List&lt;Integer&gt; preorderTraversal(TreeNode root) &#123; if(root == null)&#123; return new ArrayList(); &#125; List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(); TreeNodeWhithBoolean rootBoolean = new TreeNodeWhithBoolean(root, false); Stack&lt;TreeNodeWhithBoolean&gt; stack = new Stack&lt;TreeNodeWhithBoolean&gt;(); stack.push(rootBoolean); while(!stack.isEmpty())&#123; TreeNodeWhithBoolean current = stack.pop(); if(current.visited)&#123; list.add(current.node.val); &#125;else &#123; if(current.node.right != null)&#123; stack.push(new TreeNodeWhithBoolean(current.node.right, false)); &#125; if(current.node.left != null)&#123; stack.push(new TreeNodeWhithBoolean(current.node.left, false)); &#125; stack.push(new TreeNodeWhithBoolean(current.node, true)); &#125; &#125; return list; &#125; &#125; ä¸Šé¢è¿™æ®µæ˜¯å‰åºéå†çš„ä»£ç ï¼Œä¸­åºéå†å’Œåç»­éå†çš„ä»£ç ä¹Ÿå¤§åŒå°å¼‚ï¼Œåªéœ€è¦æ›¿æ¢å…¥æ ˆé¡ºåºå³å¯ï¼Œå› ä¸ºæ ˆä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¤©ç„¶ç¿»è½¬çš„å·¥å…·ã€‚ æ¯”å¦‚å‰åºéå†çš„é¡ºåºæ˜¯ æ ¹ï¼Œå·¦ï¼Œå³ã€‚ä¹Ÿå°±æ˜¯è¯´å‡ºæ ˆé¡ºåºå°±æ˜¯è¿™ä¸ªï¼Œé‚£å…¥æ ˆé¡ºåºåè¿‡æ¥å°±å¥½äº†ã€‚å…¶ä»–çš„éå†ä¹Ÿæ˜¯å®Œå…¨æŒ‰ç…§è¿™ä¸ªæ€è·¯æ¥ã€‚","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://imzy.vip/categories/%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://imzy.vip/tags/%E6%8A%80%E6%9C%AF/"},{"name":"éå†","slug":"éå†","permalink":"https://imzy.vip/tags/%E9%81%8D%E5%8E%86/"}]},{"title":"å…³äºemå’Œline-heightçš„å¤‡å¿˜å½•","slug":"å…³äºemå’Œline-heightçš„å¤‡å¿˜å½•","date":"2019-05-16T12:30:03.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/4005/","link":"","permalink":"https://imzy.vip/posts/4005/","excerpt":"â€‹ ç‚¹äº†ç‚¹å‰ç«¯æŠ€èƒ½ï¼Œç°åœ¨åœ¨ç½‘ä¸Šçœ‹åˆ°å¥½å¤šå…³äºemå’Œline-heightçš„åšå®¢ï¼Œä¸å®¢æ°”çš„è¯´å¾ˆå¤šåšå®¢éƒ½æ˜¯é”™è¯¯çš„ï¼Œæˆ–è€…æ‰€è°“çš„æ·±å…¥æµ…å‡ºéƒ½æ˜¯ä¸çŸ¥æ‰€äº‘ï¼Œæ‰€ä»¥å†™ä¸€ä¸ªå¤‡å¿˜å½•æ¥æé†’è‡ªå·±ã€‚","text":"â€‹ ç‚¹äº†ç‚¹å‰ç«¯æŠ€èƒ½ï¼Œç°åœ¨åœ¨ç½‘ä¸Šçœ‹åˆ°å¥½å¤šå…³äºemå’Œline-heightçš„åšå®¢ï¼Œä¸å®¢æ°”çš„è¯´å¾ˆå¤šåšå®¢éƒ½æ˜¯é”™è¯¯çš„ï¼Œæˆ–è€…æ‰€è°“çš„æ·±å…¥æµ…å‡ºéƒ½æ˜¯ä¸çŸ¥æ‰€äº‘ï¼Œæ‰€ä»¥å†™ä¸€ä¸ªå¤‡å¿˜å½•æ¥æé†’è‡ªå·±ã€‚ å…³äºline-heightline-height:2 å’Œline-height:200%åˆ°åº•æœ‰ä»€ä¹ˆå·®åˆ« ä»–ä»¬åŸºäºçš„æ ‡å‡†éƒ½æ˜¯ä¸€æ ·çš„,éƒ½æ˜¯åŸºäºè‡ªèº«çš„å€æ•°ã€‚åŒºåˆ«åœ¨äºç»§æ‰¿æ€§ä¸Šï¼Œå½“çˆ¶å…ƒç´ ç”¨æ•°å€¼çš„è¯ï¼Œå­å…ƒç´ ç»§æ‰¿å¾—åˆ°çš„éƒ½æ˜¯è¿™ä¸ªæ•°å€¼ ï¼Œå½“çˆ¶å…ƒç´ ä½¿ç”¨ç™¾åˆ†æ¯”ï¼Œçˆ¶å…ƒç´ ä¼šåŸºäºå…¶ç™¾åˆ†æ¯”ç®—å‡ºæœ‰å¤šå°‘px,ç„¶ååœ¨ç»§æ‰¿ä¸‹å»ã€‚ æ¢ä¸ªæ›´å®¹æ˜“ç†è§£çš„è¯å«åšï¼šçœ‹æœ‰æ²¡æœ‰å•ä½ï¼ˆç™¾åˆ†æ¯”ä¹Ÿç®—å•ä½ï¼‰ï¼Œæ²¡æœ‰å•ä½ç›¸å½“äºç»§æ‰¿ç³»æ•°ï¼Œå­å…ƒç´ ç»§æ‰¿ç³»æ•°åï¼ˆæ ¹æ®è‡ªå·±çš„å­—ä½“å¤§å°ï¼‰ç®—å‡ºè‡ªå·±çš„è¡Œé«˜ã€‚æœ‰å•ä½çš„è¯ï¼Œçˆ¶å…ƒç´ æ˜¯è®¡ç®—å‡ºè‡ªå·±çš„è¡Œé«˜ï¼ŒæŠŠå…·ä½“çš„æ•°å€¼ï¼ˆåƒç´ ï¼‰ç»§æ‰¿ç»™å­å…ƒç´ ã€‚è¯·æŸ¥çœ‹ä»¥ä¸‹ä»£ç è‡ªè¡Œä½“ä¼šã€‚ https://jsbin.com/fusinih/edit?html,css,output å…³äºemem.reméƒ½æ˜¯ç›¸å¯¹å­—ä½“çš„å¤§å° emæ˜¯ç›¸å¯¹å½“å‰å…ƒç´ å­—ä½“çš„å¤§å° åªæœ‰å½“å½“å‰çš„font-sizeä½¿ç”¨emåšå¤§å°å•ä½çš„æ—¶å€™æ˜¯ä¾æ® çˆ¶å…ƒç´ å­—ä½“çš„å¤§å°æ¥åšçš„çš„ã€‚è¿™ä¸ªè§£é‡Šå¯ä»¥å‚è€ƒMDNã€‚ ä»¥ä¸‹æ˜¯æˆ‘çš„è¯´æ˜ å› ä¸ºemè¦åŸºäºå½“å‰çš„å­—ä½“å¤§å°ï¼Œå½“å‰çš„fontsizeæ²¡è®¾ç½®å¤§å°ï¼Œåˆ™å­—ä½“å¤§å°åªå¯ä»¥ä»çˆ¶å…ƒç´ ç»§æ‰¿ï¼Œè‡ªç„¶å°±æ˜¯çˆ¶å…ƒç´ å¤§å°çš„å€æ•°ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://imzy.vip/tags/%E5%89%8D%E7%AB%AF/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://imzy.vip/tags/%E6%8A%80%E6%9C%AF/"}]},{"title":"æµè§ˆç½‘é¡µæ—¶,å‘ç”Ÿäº†ä»€ä¹ˆ","slug":"æµè§ˆç½‘é¡µæ—¶-å‘ç”Ÿäº†ä»€ä¹ˆ","date":"2019-05-11T16:03:41.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/36226/","link":"","permalink":"https://imzy.vip/posts/36226/","excerpt":"â€‹ ä¹‹å‰ä¸€æ®µæ—¶é—´ï¼Œé˜…è¯»äº†è®¡ç®—æœºç½‘ç»œï¼Œå¯¹äºæ¯ä¸ªç« èŠ‚éƒ½åšäº†ä¸€ä¸ªç›¸åº”çš„æ€ç»´å¯¼å›¾æ¥æç»˜è®¡ç®—æœºç½‘ç»œçš„ä¸ƒå±‚æ¨¡å‹(æˆ–è€…è¯´5å±‚æ¨¡å‹)ï¼Œç°åœ¨å†™ä¸€ç¯‡ç®€ç­”çš„åšæ–‡æ¥æ¥å›ç­”ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼šå½“æˆ‘ä»¬æµè§ˆç½‘é¡µçš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿä¸€ä¸ªå…¸å‹çš„æµè§ˆçš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç®€å•çš„æ„Ÿå—å°±æ˜¯ï¼Œåœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥ç½‘å€ï¼Œæ¯”å¦‚www.imzy.vip ,ç„¶åå‘ˆç°çš„å‡ºè¯¥ç½‘ç«™çš„ç•Œé¢ã€‚å½“ç„¶è®¿é—®æ¯ä¸€ä¸ªç½‘é¡µï¼ŒæŠ½è±¡å‡ºæ¥çš„è¿‡ç¨‹éƒ½æ˜¯ä¸€è‡´çš„ä¸»è¦ç®€å•åˆ’åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹ã€‚","text":"â€‹ ä¹‹å‰ä¸€æ®µæ—¶é—´ï¼Œé˜…è¯»äº†è®¡ç®—æœºç½‘ç»œï¼Œå¯¹äºæ¯ä¸ªç« èŠ‚éƒ½åšäº†ä¸€ä¸ªç›¸åº”çš„æ€ç»´å¯¼å›¾æ¥æç»˜è®¡ç®—æœºç½‘ç»œçš„ä¸ƒå±‚æ¨¡å‹(æˆ–è€…è¯´5å±‚æ¨¡å‹)ï¼Œç°åœ¨å†™ä¸€ç¯‡ç®€ç­”çš„åšæ–‡æ¥æ¥å›ç­”ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼šå½“æˆ‘ä»¬æµè§ˆç½‘é¡µçš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿä¸€ä¸ªå…¸å‹çš„æµè§ˆçš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç®€å•çš„æ„Ÿå—å°±æ˜¯ï¼Œåœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥ç½‘å€ï¼Œæ¯”å¦‚www.imzy.vip ,ç„¶åå‘ˆç°çš„å‡ºè¯¥ç½‘ç«™çš„ç•Œé¢ã€‚å½“ç„¶è®¿é—®æ¯ä¸€ä¸ªç½‘é¡µï¼ŒæŠ½è±¡å‡ºæ¥çš„è¿‡ç¨‹éƒ½æ˜¯ä¸€è‡´çš„ä¸»è¦ç®€å•åˆ’åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹ã€‚ ç½‘å€å’Œåè®®â€‹ åœ¨æµè§ˆå™¨ç•Œé¢ä¸Šçš„åœ°å€æ è¾“å…¥çš„ä¸œè¥¿ï¼Œæ¯”å¦‚http://www.imzy.vipï¼Œæ•´ä¸ªåœ°å€å°±å«åšç½‘å€ï¼Œç½‘å€çš„æ„æˆå¦‚ä¸‹ 1åè®®://åŸŸå::ç«¯å£å·/èµ„æºåœ°å€ å½¢å¦‚httpçš„éƒ¨åˆ†å°±æ˜¯åè®®åç§°ï¼Œhttpåè®®è¢«ç§°ä¸ºè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œå¯¹åº”çš„è¿˜æœ‰fileåè®®ï¼Œå¦‚æœç”¨æµè§ˆå™¨æ‰“å¼€æœ¬åœ°è®¡ç®—æœºä¸Šçš„å¯¹åº”æ–‡ä»¶ï¼Œhtmlä¹‹ç±»çš„å°±ä¼šç”¨åˆ°fileåè®®ã€‚å¦å¤–ä¸€ç§å¸¸è§çš„åè®®å°±æ˜¯ftpåè®®ï¼Œåœ¨httpåè®®ä¹‹å‰ï¼Œftpæ˜¯ç½‘ç»œæ—¶é—´ä¸Šæœ€å¸¸è§çš„åè®®ï¼Œç”¨äºæ–‡ä»¶çš„ä¼ è¾“ã€‚ ç«¯å£å·æ˜¯æŒ‡::8080è¿™ç§å½¢å¼ï¼Œå…¶ä¸­httpé»˜è®¤çš„ç«¯å£å·æ˜¯80ï¼Œè¿™ç§é»˜è®¤çš„ç«¯å£å·å¯ä»¥ä¸ç”¨å¡«å†™ã€‚ ä¹‹åç”¨æ–œæ è·Ÿç€çš„æ˜¯èµ„æºä½ç½®ï¼Œä¸å†èµ˜è¿°ã€‚ DNSçš„è§£ææµè§ˆå™¨ä¸­è¾“å…¥çš„åŸŸåç»è¿‡å¯»å€ï¼Œæ‰èƒ½æ‰¾åˆ°æŒ‡å®šçš„æœåŠ¡å™¨ï¼Œä½†æ˜¯æœåŠ¡å™¨çš„åœ°å€æ˜¯ipåœ°å€ï¼Œå½¢å¦‚xx.xx.xx.xx è¿™é‡Œçš„xxæŒ‡çš„10è¿›åˆ¶çš„æ•°å­—ã€‚è¿™ç§æ˜¯å…¸å‹çš„ipv4åœ°å€ã€‚ä»åŸŸåwww.imzy.vip åˆ°xx.xx.xx.xxçš„è½¬æ¢å°±ç§°ä¹‹ä¸ºåŸŸåçš„è§£æã€‚åŸŸåçš„è§£æï¼Œç®€å•æ¥è¯´å°±æ˜¯éœ€è¦åŸŸåè§£ææœåŠ¡æ¥è§£æï¼Œæ ¹æ®ç½‘ç»œå»ºè®¾çš„æ¶æ„ï¼Œå…¨çƒåˆ†å¸ƒç€æ•°å°é¡¶çº§åŸŸåè§£æå™¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŸŸåç”¨ç‚¹åˆ†å‘è®°å½•ï¼Œè¶Šé«˜çº§çš„åŸŸåæ’åœ¨æœ€åã€‚æ¯”å¦‚æˆ‘çš„åŸŸåvipæ˜¯é¡¶çº§åŸŸåï¼Œå¸¸è§çš„é¡¶çº§åŸŸåè¿˜æœ‰ .cn .com .org .govç­‰ã€‚è¯¦ç»†çš„çŸ¥è¯†å¯ä»¥å‚è€ƒè°¢å¸Œæˆçš„è®¡ç®—æœºç½‘ç»œä¸€ä¹¦ï¼Œæˆªæ­¢ç›®å‰è¿™æœ¬ä¹¦å·²ç»å‘å¸ƒäº†ç¬¬ä¸ƒç‰ˆã€‚å ªç§°ä¸æ—¶ä¿±è¿›ã€‚ DNSçš„è§£ææ˜¯æŒ‰é¡ºåºçš„ï¼Œä¸æ˜¯æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚éƒ½ç›´æ¥å»é¡¶çº§åŸŸåæœåŠ¡å™¨ç”³è¯·è§£æçš„ï¼Œä¸»è¦çš„è§£ææŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿›è¡Œ æµè§ˆå™¨ç¼“å­˜ ç³»ç»Ÿ(æŒ‡è®¡ç®—æœºæ“ä½œç³»ç»ŸOS)çš„HOST è·¯ç”±å™¨(æŒ‰ç…§è®¡ç®—æœºç½‘ç»œä¸€ä¹¦ï¼Œè·¯ç”±å™¨ä¹Ÿç®—æ˜¯ç½‘ç»œä¸–ç•Œä¸­çš„è®¡ç®—æœºï¼Œä¸è¿‡ä»–æ‰¿æ‹…çš„ä»»åŠ¡ç‰¹æ®Šç½¢äº†) ISPæœåŠ¡å•†ï¼Œæ—¢æä¾›ç»™ä½ ç½‘ç»œæœåŠ¡çš„ç”µä¿¡æœåŠ¡å•†çš„ç¼“å­˜ï¼Œæ¯”å¦‚ä¸­å›½ç”µä¿¡æä¾›çš„DNSè§£ææœåŠ¡ æ ¹åŸŸåæœåŠ¡å™¨ ä»ä¸Šåˆ°ä¸‹å…­ä¸ªéƒ¨åˆ†éƒ½å¯ä»¥è¿›è¡ŒåŸŸåçš„è§£æï¼Œå“ªä¸€æ­¥èƒ½å®Œæˆå°±åˆ°å“ªä¸€æ­¥è¿›è¡Œï¼ŒåŸŸåå’Œipçš„è½¬æ¢å°±åœ¨é‚£é‡Œè¿›è¡Œï¼Œä¸å»ä¸‹ä¸€æ­¥ã€‚è¿™æ ·ä¹Ÿå‡å°äº†åŸŸåè§£æçš„å‹åŠ›ã€‚ ç”±æ­¤äº§ç”Ÿäº†ä¸¤ä¸ªå°é—®é¢˜å¦‚ä¸‹ ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ipï¼Œå‡å°‘åŸŸåè§£æçš„æ­¥éª¤å‘¢ï¼Ÿ DNSåŠ«æŒæŒ‡ä»€ä¹ˆ å…³äºä¸¤ä¸ªé—®é¢˜çš„å›ç­”å¦‚ä¸‹ å…¶ä¸€ï¼Œä½¿ç”¨åŸŸåçš„è§£ææ˜¯ä¸ºäº†è¯­ä¹‰åŒ–ï¼Œæ‰€è°“çš„è¯­ä¹‰åŒ–ï¼Œç®€å•ç†è§£å°±æ˜¯è´´è¿‘è‡ªç„¶è¯­ä¹‰ï¼Œæ–¹ä¾¿äººçš„ç†è§£ã€‚æ¯”å¦‚æˆ‘ä»¬è®¿é—®ç™¾åº¦ï¼Œç›´æ¥è¯´è®¿é—®ç™¾åº¦ï¼Œæˆ–è€…è¯´è®¿é—®www.baidu.comï¼Œå¦‚æœæ²¡æœ‰åŸŸåï¼Œç›´æ¥è¯´è®¿é—®202.108.22.5ã€‚ ç›´æ¥å¯¹æ¯”ä¸€ä¸‹ï¼Œé‚£ä¸ªå¥½è®°å½•å‘¢ã€‚å¯ä»¥è¯´åŸŸåæ˜¯äººè®°å¿†åŠ›çš„å¦¥åï¼Œæ¯•ç«Ÿå¯¹äºäººæ¥è¯´ï¼Œè¯æ‰æ˜¯æœ‰æ„ä¹‰çš„ï¼Œæ•°å­—å¹¶æ— ç›´æ¥æ„ä¹‰ã€‚å¯¹äºè®¡ç®—æœºæ¥è¯´ï¼Œç‚¹åˆ†åè¿›åˆ¶å’ŒåŸŸåçš„è®°å½•éƒ½æ˜¯ä¸€æ ·çš„ã€‚å·¥å…·ä¸ºäººæœåŠ¡ï¼Œè‡ªç„¶è¦å‘äººå¦¥å å…¶äºŒï¼ŒDNSåŠ«æŒã€‚DNSçš„è§£æå°±æ˜¯æ‹¿åˆ°åŸŸåä¹‹åè§£ææˆä¸ºipçš„è¿‡ç¨‹ï¼Œæ‰€è°“åŠ«æŒï¼Œå°±æ˜¯æ‰°ä¹±è¿™ä¸ªè¿‡ç¨‹ï¼Œè®¿é—®ç™¾åº¦åŸŸåï¼Œç»™äº†ä½ ä¸€ä¸ªéç™¾åº¦çš„ipï¼Œç”¨æˆ·è¿™è¾¹çœ‹åˆ°åœ°å€æ è¿˜æ˜¯ç™¾åº¦çš„åŸŸåï¼ŒèƒŒåå‘ç”Ÿäº†ä»€ä¹ˆä¸€æ— æ‰€çŸ¥ã€‚DNSåŠ«æŒæ˜¯ä¸€ç§åæœéå¸¸ä¸¥é‡çš„ä¸å®‰å…¨è¡Œä¸ºï¼Œå‡å¦‚ä½ è¦è®¿é—®æ·˜å®ä¹°ä¸œè¥¿ï¼Œä½†æ˜¯ä½ çš„DNSè¢«åŠ«æŒäº†ï¼ŒæŒ‡å‘äº†éæ·˜å®çš„åœ°å€ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€æƒ³ï¼Œå°±ä¼šé€ æˆéå¸¸ä¸¥é‡çš„ç»æµæŸå¤±ã€‚å½“ç„¶ï¼Œè¿˜æœ‰å…¶ä»–çš„æŸå¤±ã€‚ä¸€èˆ¬çš„DNSåŠ«æŒéƒ½å‘ç”Ÿåœ¨è·¯ç”±å™¨ï¼Œå½“ç„¶ISPæœåŠ¡å•†ä¹Ÿæœ‰å¯èƒ½ä¼šåŠ«æŒDNSã€‚ä¹‹å‰é—¹çš„æ²¸æ²¸æ‰¬æ‰¬çš„å°ç±³è·¯ç”±å™¨DNSåŠ«æŒäº‹ä»¶ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸çƒ­é—¨çš„è¯é¢˜ã€‚ è¡¥å……ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¹³æ—¶å¡«å†™çš„DNSæœåŠ¡å™¨ï¼Œ8.8.8.8 æˆ–è€… 114.114.114.114ä»¥åŠæœ€è¿‘æ¯”è¾ƒç«çš„1.1.1.1éƒ½æ˜¯åŸŸåè§£æå™¨çš„åœ°å€ã€‚ æœåŠ¡å™¨ç½‘ç»œè¯·æ±‚ç»è¿‡DNSè§£æï¼Œæ‰¾åˆ°å¯¹åº”çš„æœåŠ¡å™¨ipï¼Œé€šè¿‡è·¯ç”±å™¨çš„å±‚å±‚è½¬å‘ï¼Œåˆ°è¾¾äº†æœåŠ¡å™¨ï¼Œç®—æ˜¯çœŸæ­£è¿›å…¥äº†åç«¯æ§åˆ¶çš„éƒ¨åˆ†äº†ã€‚ä¸€èˆ¬æŠŠç”¨äºwebæœåŠ¡çš„æœåŠ¡å™¨éƒ½å«åš Web Serverã€‚åæ–‡æŠŠå®ƒç®€ç§°ä¸ºWSã€‚WSç®€å•æ¥è¯´å°±æ˜¯å®‰è£…äº†æœåŠ¡å™¨è½¯ä»¶çš„ç”µè„‘ï¼Œå¸¸è§çš„WebæœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿä¸»è¦æ˜¯Linuxå’ŒWindows Serverã€‚å¯¹åº”çš„æœåŠ¡å™¨çš„è½¯ä»¶æœ‰Apacheï¼ŒNginxï¼ŒIISï¼ŒLighttpdç­‰ã€‚è¿™ç§OS+è½¯ä»¶ï¼Œå°±ç§°ä¹‹ä¸ºWSã€‚WSä¸»è¦æ˜¯ä¸ºäº†æ¥å—è¯·æ±‚ï¼Œæˆ–è€…åå‘ä»£ç†åˆ°å…¶ä»–çš„WSã€‚ä¸€å°WSä¸Šå¯èƒ½è¿è¡Œæœ‰ä¸åŒçš„æœåŠ¡å™¨ç¨‹åº(è¿™ä¸ªå°±æ˜¯ç¨‹åºå¼€å‘è€…è‡ªå·±å†™çš„)ï¼Œè¿™äº›è½¯ä»¶ä¹Ÿè´Ÿè´£å§ä¸åŒçš„è¯·æ±‚åˆ†å‘åˆ°å¯¹åº”çš„å¤„ç†ç¨‹åºä¸Šå»ã€‚ ç½‘ç«™çš„å¤„ç†æµç¨‹ç»è¿‡é•¿æ—¶é—´çš„æ¸¸è¡ï¼Œè¯·æ±‚ç»ˆäºåˆ°äº†ç¨‹åºçŒ¿è‡ªå·±æŒæ§çš„æ—¶é—´äº†ã€‚ä»¥å¸¸ç”¨çš„Ruby on railsä¸ºä¾‹ã€‚æˆ‘ä¹Ÿåœ¨ä¹‹å‰çš„åšæ–‡ä¸­å†™è¿‡ï¼Œå¦‚ä½•ä½¿ç”¨Actix-webæ¥å†™ä¸€ä¸ªwebç¨‹åºï¼Œä¹‹å‰ä¹Ÿå‚è€ƒè¿‡Ruby on railsã€‚å…¸å‹çš„ç½‘è·¯å¤„ç†æµç¨‹æ˜¯MVCæ¨¡å¼çš„ã€‚è¿™é‡Œçš„ModleæŒ‡æ•°æ®éƒ¨åˆ†ã€‚VæŒ‡viewï¼Œæ˜¾ç¤ºå±‚ç®€å•æ¥ä¹¦å“¦å°±æ˜¯htmlç•Œé¢ã€‚Cå°±æ˜¯æ§åˆ¶å±‚ï¼Œcontrollerï¼Œç”¨æ¥ç²˜åˆè¿™ä¸¤ä¸ªå±‚å±‚é¢ï¼Œç›´ç™½çš„è¯´å°±æ˜¯æ ¹æ®ä¸ç”¨çš„è¯·æ±‚ä»modelæ‹¿æ•°æ®ï¼Œäº¤ç»™viewå±‚æ¸²æŸ“(viewéœ€è¦æ•°æ®æ¥æ¸²æŸ“)ã€‚ æ›´å…·ä½“ç‚¹çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼Œä¸€ä¸ªè¯·æ±‚è¿‡æ¥ï¼Œç»è¿‡routerï¼Œåˆ†é…ç»™å¯¹åº”çš„controllerã€‚controllerå¤„ç†å¯¹åº”çš„é€»è¾‘ï¼Œä»modelæ‹¿æ•°æ®ï¼Œäº¤ç»™viewå±‚æ¥ç”Ÿæˆç•Œé¢ã€‚æœ€åæŠŠç”Ÿæˆå¥½çš„ç•Œé¢äº¤ç»™ç”¨æˆ·ã€‚ä¸€ä¸ªé¢˜å¤–è¯ï¼Œä¸€ä¸ªåˆç†çš„æ¶æ„ä¸­ï¼Œå¤„ç†é€»è¾‘çš„controllerå’Œå¤„ç†æ•°æ®çš„modelï¼Œåº”è¯¥æ˜¯ç‹¬ç«‹çš„ã€‚ä¹Ÿå°±æ˜¯è¯´Data Serveråº”è¯¥ç‹¬ç«‹äºå•ç‹¬webæœåŠ¡ä¹‹å¤–ã€‚æ›´å¤šå¯¹äºmvcçš„ç†è§£æ˜¯åŸºäºç¼–ç¨‹ç†è§£çš„ã€‚ä¹Ÿä¸æ˜¯æœ¬æ–‡çš„ä¸»è¦è®¨è®ºè¿‡ç¨‹ã€‚æœ‰å…´è¶£çš„å¯ä»¥å»çœ‹æˆ‘ç”¨rustå†™çš„Actix-webåšå®¢ï¼Œéº»é›€è™½å°ï¼Œä½†æ˜¯æ•´ä¸ªæ¡†æ¶æ˜¯å®Œæ•´çš„ã€‚ æµè§ˆå™¨è§£ææœåŠ¡å™¨å¤„ç†ä¹‹åï¼Œç»ˆäºäº¤ç»™ç”¨æˆ·äº†ã€‚ç®€å•æ¥è¯´å°±æ˜¯è¯´å§htmläº¤ç»™æµè§ˆå™¨ã€‚æµè§ˆå™¨å°±ä¼šè§£æhtmlå’Œcssï¼Œç”Ÿæˆæˆ‘ä»¬çœ‹åˆ°çš„ç•Œé¢ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://imzy.vip/tags/%E5%89%8D%E7%AB%AF/"},{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"https://imzy.vip/tags/%E7%BD%91%E7%BB%9C/"}]},{"title":"æ€ç»´å¯¼å›¾å¿ƒå¾—","slug":"æ€ç»´å¯¼å›¾å¿ƒå¾—","date":"2019-05-10T11:24:47.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/13602/","link":"","permalink":"https://imzy.vip/posts/13602/","excerpt":"ç¼˜èµ·â€‹ æˆ‘åœ¨å¾ˆä¹…ä»¥å‰å°±æ¥è§¦è¿‡æ€ç»´å¯¼å›¾çš„æ¦‚å¿µï¼Œæ¯•ä¸šå·¥ä½œçš„è¿™å‡ å¹´è‡ªå·±è¯»ä¹¦çš„æ—¶å€™ä¹Ÿæ˜¯å¹¿æ³›ä½¿ç”¨è¿‡æ€ç»´å¯¼å›¾è¿™ä¸€å·¥å…·ã€‚ä½œä¸ºè‹±å›½äººä¸œå°¼èµåšå‘æ˜çš„å·¥å…·ï¼Œé£è¡Œä¸ä¸–ç•Œå·²ç»æœ‰æ•°åå¹´ä¹‹ä¹…ã€‚é™¤äº†æˆ‘ç°åœ¨çœ‹çš„è¿™ä¸€æœ¬å«åšã€Šæ€ç»´å¯¼å›¾ã€‹çš„ä¹¦ï¼Œåœ¨æ­¤ä¹‹å‰è¿˜æœ‰å¦ä¸€ä¸ªç‰ˆæœ¬å«åšã€Šæ€ç»´å¯¼å›¾å®å…¸ã€‹ï¼Œä¹Ÿç®—æ˜¯ä¸€æœ¬ä¹¦çš„ä¸åŒç¿»è¯‘ç‰ˆæœ¬ã€‚æˆ‘ä¹‹å‰ä¹Ÿè¯»çš„æ˜¯è¿™ä¸€æœ¬ã€‚ä¸œå°¼èµåšä¹Ÿåœ¨ä¹¦ä¸­æåˆ°è¿‡ï¼Œæ€ç»´å¯¼å›¾æœ¬èº«å¹¶éä¹¦ç±æ„ä¹‰çš„å¤åˆ»ï¼Œæ‰€ä»¥æˆ‘ä»¥ä¸‹çš„åˆ†äº«ä¹Ÿä¸æŒ‰ç…§æœ¬ä¹¦çš„ç»“æ„æ¥ï¼Œä¸»è¦ä»‹ç»ä¸ªäººæ„Ÿå—ã€‚","text":"ç¼˜èµ·â€‹ æˆ‘åœ¨å¾ˆä¹…ä»¥å‰å°±æ¥è§¦è¿‡æ€ç»´å¯¼å›¾çš„æ¦‚å¿µï¼Œæ¯•ä¸šå·¥ä½œçš„è¿™å‡ å¹´è‡ªå·±è¯»ä¹¦çš„æ—¶å€™ä¹Ÿæ˜¯å¹¿æ³›ä½¿ç”¨è¿‡æ€ç»´å¯¼å›¾è¿™ä¸€å·¥å…·ã€‚ä½œä¸ºè‹±å›½äººä¸œå°¼èµåšå‘æ˜çš„å·¥å…·ï¼Œé£è¡Œä¸ä¸–ç•Œå·²ç»æœ‰æ•°åå¹´ä¹‹ä¹…ã€‚é™¤äº†æˆ‘ç°åœ¨çœ‹çš„è¿™ä¸€æœ¬å«åšã€Šæ€ç»´å¯¼å›¾ã€‹çš„ä¹¦ï¼Œåœ¨æ­¤ä¹‹å‰è¿˜æœ‰å¦ä¸€ä¸ªç‰ˆæœ¬å«åšã€Šæ€ç»´å¯¼å›¾å®å…¸ã€‹ï¼Œä¹Ÿç®—æ˜¯ä¸€æœ¬ä¹¦çš„ä¸åŒç¿»è¯‘ç‰ˆæœ¬ã€‚æˆ‘ä¹‹å‰ä¹Ÿè¯»çš„æ˜¯è¿™ä¸€æœ¬ã€‚ä¸œå°¼èµåšä¹Ÿåœ¨ä¹¦ä¸­æåˆ°è¿‡ï¼Œæ€ç»´å¯¼å›¾æœ¬èº«å¹¶éä¹¦ç±æ„ä¹‰çš„å¤åˆ»ï¼Œæ‰€ä»¥æˆ‘ä»¥ä¸‹çš„åˆ†äº«ä¹Ÿä¸æŒ‰ç…§æœ¬ä¹¦çš„ç»“æ„æ¥ï¼Œä¸»è¦ä»‹ç»ä¸ªäººæ„Ÿå—ã€‚ æ€ç»´å¯¼å›¾çš„ç§‘å­¦ä¾æ®â€‹ ä¹¦ç±çš„æœ€å‰é¢çš„ç« èŠ‚ä»å¤§è„‘çš„å·¦å³åŠè„‘çš„åŸç†ï¼Œæ ¼å¼å¡”ï¼Œå¤§è„‘ç¥ç»çªè§¦çš„éƒ¨åˆ†å¤§é‡æè¿°ï¼Œè¯•å›¾é˜è¿°æ€ç»´å¯¼å›¾çš„ç§‘å­¦ä¾æ®ã€‚æœ¬ä¹¦æœ‰è®¸å¤šç»å…¸çš„è®ºè¿°ï¼Œæ¯”å¦‚æè¿°å¤§è„‘æœ‰ä¸€ä¸‡äº¿ä¸ªç¥ç»å…ƒæ„æˆï¼Œç”±åƒç« é±¼ä¸€èˆ¬çš„ç”µåŒ–å­¦ç»“æ„ç¥ç»å…ƒäº’ç›¸é“¾ç»“ã€‚ï¼ˆå½“ç„¶è¿™ä¸ªæ˜¯åŸºäºç§‘å­¦ç ”ç©¶ï¼‰æ–‡ç« åˆæ‰¹åˆ¤äº†éå¸¸æµè¡Œçš„ç§‘å­¦è§‚å¿µï¼Œå·¦å³è„‘çš„ç§‘å­¦ã€‚åŸæ–‡ä¸­æåˆ°è¿‡ï¼Œç®€å•çš„æŠŠäººåˆ†ä¸ºå·¦è„‘äººå’Œå³è„‘äººæ˜¯åœ¨é™åˆ¶è‡ªå·±å¼€å‘ç­–ç•¥çš„èƒ½åŠ›ï¼ˆP829 æˆ–è€…åœç…œå©·ç‰ˆæœ¬P9ï¼‰ã€‚è¿˜æœ‰å°±æ˜¯ä½œè€…çš„æ ¼å¼å¡”çš„æ¦‚å¿µï¼Œå³å¤§è„‘æ‹¥æœ‰è¡¥å……å®Œæ•´å®Œæ•´çš„å›ºæœ‰å€¾å‘ã€‚å¯ä»¥è¯´ä¸‰ä¸ªè§‚ç‚¹å¯ä»¥è¢«ç§°ä¹‹ä¸ºæ€ç»´å¯¼å›¾çš„ç§‘å­¦ä¾æ®ã€‚è¿™ä¸‰ä¸ªç†è®ºï¼Œå…¶ä¸­ç¥ç»ç»†èƒçš„å½¢è±¡æ¥æºäºç§‘å­¦è¿›æ­¥ï¼Œæœ¬èº«æ— å¯è¾©é©³ï¼Œä¸è¿‡å¯¹äºæˆ‘æ¥è¯´ï¼Œä»–ç¡®å®å’Œæ€ç»´å¯¼å›¾çš„ç§‘å­¦è”ç³»æœ‰é™ã€‚å·¦å³è„‘ç†è®ºç”šè‡³åœ¨60å¹´ä»£è·å–äº†è¯ºè´å°”å¥–ã€‚è‡³äºæ ¼å¼å¡”çš„ç†è®ºï¼Œåº”è¯¥åˆ™æ˜¯20ä¸–çºªåˆæå‡ºçš„ä¸€ä¸ªå¿ƒç†å­¦çš„æµæ´¾ï¼ˆæºäºå¾·å›½ï¼‰ã€‚ä½œè€…åœ¨æ—©æœŸçš„ä¹¦ç±ä¸­ï¼Œå¼•ç”¨äº†å¤§é‡çš„æ•°æ®ï¼Œå®éªŒæ¥ä½è¯æ€ç»´å¯¼å›¾çš„åˆç†æ€§ã€‚æœ‰è¶£çš„æ˜¯åæœŸçš„ç‰ˆæœ¬ï¼Œä½œè€…é€æ¸åˆ å»äº†è¿™äº›ç§‘å­¦å®éªŒï¼Œæ•°æ®ï¼Œå¯¹äºè¿™ä¸‰ä¸ªç†è®ºä¹Ÿåªæ˜¯ç®€å•ä»‹ç»ï¼Œä¸å†è¿‡å¤šé˜è¿°ä»–å’Œæ€ç»´å¯¼å›¾çš„ç§‘å­¦å…³è”ã€‚ç”šè‡³äºæˆ‘åæ¥è´­ä¹°çš„åŒ–å­¦å·¥ä¸šå‡ºç‰ˆç¤¾ç‰ˆæœ¬çš„ã€Šæ€ç»´å¯¼å›¾ã€‹æŠŠä¹¦ç±å½’äºæˆåŠŸåŠ±å¿—ç±»ã€‚è¿™ä¹Ÿç®—æ˜¯å¯¹å…¶ç§‘å­¦æ€§å°å°çš„æ€€ç–‘å§ã€‚â€‹ è™½ç„¶è¯´äº†è¿™ä¹ˆå¤šï¼Œä½†å¹¶ä¸æ˜¯è¯´æ€ç»´å¯¼å›¾æ˜¯ä¸ç§‘å­¦çš„ã€‚æ€ç»´å¯¼å›¾ç¡®å®æ˜¯ä¸€ç§éå¸¸å¼ºå¤§çš„å­¦ä¹ å·¥å…·ï¼Œæˆ‘åœ¨ç”Ÿæ´»å’Œå­¦ä¹ ä¸­å—ç›Šè‰¯å¤šã€‚ä¹‹å‰çš„è€ƒæ®ï¼Œä¹Ÿæ˜¯åœ¨ä½œè€…é¼“åŠ±å‘æ•£æ€è€ƒæ—¶åšäº†ä¸€ç‚¹è€ƒæ®å·¥ä½œï¼Œæƒå½“ä¸ªäººè¶£å‘³ã€‚ æ„Ÿæ€§ä¸ç†æ€§â€‹ è¿™ä¸ªéƒ¨åˆ†å«åšæ„Ÿæ€§ä¸ç†æ€§ï¼Œæˆ–è®¸ä¹Ÿå¯ä»¥å«åšæŠ½è±¡å’Œå…·ä½“ã€‚æ€ç»´å¯¼å›¾ä½œä¸ºä¸€ç§è¯»ä¹¦å’Œæ€ç»´å·¥å…·ï¼Œåœ¨æˆ‘å›ºæœ‰çš„å°è±¡ä¸­ä»–åº”è¯¥æ˜¯åå‘ç†æ€§ï¼ŒæŠ½è±¡çš„éƒ¨åˆ†ã€‚é‡è¯»ä¹¦ç±çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘é€æ¸æŠ›å¼ƒäº†è¿™ç§æ–¹æ³•ã€‚æŒ‰ç…§ä¹¦ä¸­çš„è®ºè¿°ï¼Œæ€ç»´å¯¼å›¾è¦å…¼é¡¾ï¼Œä¸»æ¬¡ï¼Œå›¾åƒï¼Œè‰²å½©ã€‚ä½¿æ€ç»´å¯¼å›¾è¿ˆå‘è‰ºæœ¯ä½œå“çš„é—¨æ§›ã€‚ä¹¦ä¸­åå¤æåŠçš„å¤©æ‰è¾¾èŠ¬å¥‡ï¼Œæˆ‘æœ‰å¹¸è§è¿‡ä»–ç¬”è®°çš„çœŸè¿¹ï¼Œç¡®å®å¦‚ä½œè€…æ‰€è¯´ï¼Œå›¾ç‰‡ç¹å¤šè€Œç²¾ç¾ã€‚å¯è§å¤©æ‰ä¹Ÿæ˜¯è¶…è¶Šæ—¶ä»£çš„ï¼Œåœ¨çº¿æ€§è®°å¿†çš„æ—¶ä»£ï¼Œå·²ç»è¶…è„±å±€é™ï¼Œä½¿ç”¨éçº¿æ€§çš„æ–¹å¼æ¥è®°å½•è‡ªå·±çš„æ€ç»´ã€‚ä½¿äººæƒŠå¹äºæ€ç»´çš„ç†æ€§å’Œç¾æ„Ÿçš„å®Œç¾ç»“åˆã€‚æ–‡ç« ä¸­å¦ä¸€ä¸ªå’Œæ„Ÿæ€§æœ‰å…³çš„åœ°æ–¹å°±æ˜¯æ€ç»´å¯¼å›¾çš„åº”ç”¨è¿‡ç¨‹ä¸­ï¼Œæƒ…æ„Ÿï¼Œæˆ–è€…æ„Ÿè§‰çš„é‡è¦æ€§ã€‚ä¸åœ¨è¿‡å¤šé˜è¿°äºŒåˆ†æ³•æˆ–è€…åŠ å‡æ³•çš„å†³ç­–ã€‚ä½œè€…åœ¨å†³ç­–é‡åˆ°éš¾é¢˜æ—¶ï¼Œæ¯”å¦‚æ•°å­—æ³•çš„å·¦å³çš„å¾—åˆ†ä¸€æ ·æƒ…å†µä¸‹è¯¥æ€ä¹ˆåšå†³å®šã€‚ä½œè€…ç»™å‡ºçš„ç­”æ¡ˆå¾ˆç®€å•ï¼Œä¾æ®ç´¯å¿ƒçš„æ„Ÿè§‰ã€‚ä½œè€…ç»™å†…å¿ƒçš„æ„Ÿè§‰èµ·äº†ä¸€ä¸ªå¾ˆå¥½å¬çš„åå­—å«åšâ€è¶…é€»è¾‘â€œï¼Œæ„Ÿè§‰æ¯”é€»è¾‘æ€§é€»è¾‘æ›´å¼ºã€‚ç”šè‡³å¼•å…¥ä¸€ç»„æ•°æ®æ¥è¯æ˜è¿™ç§éµå¾ªå†…å¿ƒæ„Ÿè§‰çš„æ­£ç¡®æ€§ä»¥åŠä»¤äººèµå¹çš„æˆåŠŸç‡ã€‚è¿™åº”è¯¥æ˜¯å…¨ä¹¦ä¸­æˆ‘æœ€æ„Ÿå…´è¶£çš„ä¸€éƒ¨åˆ†ã€‚ä»¥åæˆ‘ä¹Ÿå¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„è¿½æ±‚å†…å¿ƒçš„å£°éŸ³äº†ã€‚ åº”ç”¨â€‹ æœ¬ä¹¦ä¹Ÿåº”ç”¨äº†å¤§é‡çš„æ¡ˆä¾‹æ¥è¯´æ˜æ€ç»´å¯¼å›¾åœ¨æ—¥å¸¸çš„ç”Ÿæ´»ä¸­å¦‚ä½•ä½¿ç”¨ï¼Œæˆ‘ä¸ä¼šåœ¨è¿™é‡Œé‡å¤è¯´æ˜ã€‚ç­‰ä¼šæˆ‘ä¸Šä¼ ä¸€ç§æˆ‘åœ¨è¯»è¿™æœ¬ä¹¦ä¹‹å‰åšçš„ä¸€å¼ ç®€å•æ€ç»´å¯¼å›¾ï¼Œå†…å®¹æ˜¯ç‹æ½‡çš„æ–°å¹´è¯¾ç¨‹ã€‚ æœªæ¥æ™ºæ…§â€‹ ä½œä¸ºå¤´é¡¶ç€è€€çœ¼å…‰ç¯å’Œéå¸¸é•¿å¤´è¡”çš„ä¸“å®¶ï¼Œä¸œå°¼èµåšåœ¨ä¹¦çš„æœ€åä¸€éƒ¨åˆ†å¤§èƒ†é¢„æµ‹äº†æœªæ¥æ™ºåŠ›é©å‘½ã€‚ä½œè€…æè¿°åˆ°æœªæ¥çš„å›¾æ™¯æ˜¯æ€ç»´çš„æ™®åŠï¼Œä¸ªäººåŠå®¶åº­ï¼Œç»„ç»‡å’Œç¤¾ä¼šä¹ƒè‡³æˆ‘ä»¬æ•´ä¸ªæ–‡æ˜çš„æ€ç»´æ™®åŠï¼Œåœ¨ä½œè€…å†™ä¹¦çš„å¹´ä»£ï¼Œå·²ç»æœ‰å¾ˆå¤šçš„æ€ç»´æœºæ„ï¼Œæ¯”èµ›å¼€å§‹å…³æ³¨å…ƒå­¦ä¹ ï¼Œå¦‚ä½•æ€è€ƒã€‚æˆ‘æŸ¥è¿‡ï¼Œæ¯”è¾ƒæ—©çš„ç‰ˆæœ¬å‡ºç‰ˆäº1996å¹´ï¼Œå…¶å®ä½œè€…å¯¹äºæœªæ¥çš„æè¿°ï¼Œè¿™ä¸ªæœªæ¥å·²ç»åˆ°æ¥äº†ã€‚ç°ä»Šçš„çŸ¥ä¹ï¼Œæˆ‘ä»¬å¸¸è§çš„é€»è¾‘æ€ç»´ï¼Œè·¨å¹´çš„æ—¶å€™åŠçš„æ€ç»´æ¼”è®²ä¼šä¹Ÿç®—æ˜¯ä½œè€…æåˆ°çš„æ€ç»´é©å‘½çš„å…·ä½“åŒ–ã€‚æœªæ¥å·²æ¥ â€‹ æœ€åçœŸå¿ƒå¸Œæœ›ä¸€èµ·å’Œæˆ‘è¯»ä¹¦çš„å°ä¼™ä¼´ï¼Œé€è¿‡è¿™æœ¬å°å†Œå­ï¼Œç†è§£æ€ç»´å¯¼å›¾çš„èµ·æºå’Œä½¿ç”¨æ–¹æ³•ï¼Œå¤šå¤šä½¿ç”¨è¿™ä¸€å¼ºå¤§çš„å·¥å…·ã€‚åœ¨æ±‚çŸ¥ä¹‹è·¯ä¸Šæ›´è¿›ä¸€æ­¥ã€‚å…±å‹‰ï¼ 2019å¹´1æœˆ4æ—¥ 00:48(æ—§æ–‡æ¬è¿)","categories":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"https://imzy.vip/categories/%E8%AF%BB%E4%B9%A6/"}],"tags":[{"name":"æ€ç»´å¯¼å›¾","slug":"æ€ç»´å¯¼å›¾","permalink":"https://imzy.vip/tags/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"}]},{"title":"é›ªçƒé€Ÿåº¦æ³•çš„æ„Ÿæ‚Ÿ","slug":"é›ªçƒé€Ÿåº¦æ³•çš„æ„Ÿæ‚Ÿ","date":"2019-05-10T11:02:08.000Z","updated":"2025-07-31T02:30:04.388Z","comments":true,"path":"posts/34949/","link":"","permalink":"https://imzy.vip/posts/34949/","excerpt":"æ—§æ–‡æ¬è¿ï¼Œä¸€ä»½è¿Ÿåˆ°çš„é€Ÿè¯»æ³•æ„Ÿæ‚Ÿ","text":"æ—§æ–‡æ¬è¿ï¼Œä¸€ä»½è¿Ÿåˆ°çš„é€Ÿè¯»æ³•æ„Ÿæ‚Ÿ â€‹ å‡ å‘¨ä¹‹å‰æˆ‘å·²ç»è¿ç»­èŠ±äº†ä¸¤ä¸ªä¸‹åˆè¯»å®Œäº†è¿™æœ¬ã€Šé›ªçƒé€Ÿè¯»æ³•ã€‹ä½†æ˜¯æˆ‘æœ‰äº›åˆ«çš„äº‹æƒ…ï¼Œå¹¶æ²¡æœ‰åŠæ—¶å†™ä¸‹è¿™ç¯‡é€Ÿè¯»æ³•çš„æ„Ÿæ‚Ÿï¼Œç°åœ¨èµ¶ä¸Šå†™è¿™ä¹ˆä¸€ç¯‡ã€‚â€‹ è¯´å®è¯ï¼Œæˆ‘å†è¯»è¿™æœ¬ä¹¦ä¹‹å‰ï¼Œå¯¹äºé€Ÿè¯»è¿™ä¸ªæ¦‚å¿µæ ¹æœ¬ä¸æ•¢å…´è¶£ã€‚æˆ‘å‘æ¥çš„ç†å¿µå°±æ˜¯è¯»ä¹¦æ€¥ä¸å¾—ã€‚æ‰€è°“è¯»ä¹¦ï¼Œå°±æ˜¯è¦å…¨èº«å¿ƒçš„é˜…è¯»,æ„Ÿæ‚Ÿï¼Œå»ä½“æ‚Ÿä½œè€…æç»˜çš„æ¦‚å¿µï¼Œä½“æ‚Ÿä½œè€…çš„æ€æƒ³ã€‚ç„¶ååŠ å…¥è‡ªå·±çš„æ€è€ƒã€‚å¯¹äºè¿™ä¹ˆä¸€ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œæ€ä¹ˆå¯ä»¥è‰è‰äº†äº‹å‘¢ï¼Ÿæ‰€ä»¥æˆ‘å‘æ¥è®¤ä¸ºè¯»ä¹¦æ€¥ä¸å¾—ã€‚é€Ÿè¯»æ³•è¿™ç§ä¸œè¥¿ï¼Œæˆ‘å‘æ¥è®¤ä¸ºè¿™æ˜¯ä¸€ç§â€é‚ªé“â€ã€‚å¦ä¸€ä¸ªæ–¹é¢ï¼Œæˆ‘ä»å°å¾ˆå°‘å—åˆ°é˜…è¯»é€Ÿåº¦çš„åˆ¶çº¦ã€‚å› ä¸ºæˆ‘ä»å°å°±å¾ˆå–œæ¬¢è¯»ä¹¦ï¼Œè¯»ä¹¦é€Ÿåº¦å°±ä¸æ…¢ã€‚æˆ‘è®°å¾—è‡ªå·±è¿˜åœ¨ä¸Šå°å­¦çš„æ—¶å€™ï¼Œå’Œæˆ‘çˆ¸çˆ¸ä¸€èµ·çœ‹å„ç§ç¥ç§˜ä¸–ç•Œçš„å°å†Œå­ï¼Œæˆ‘çš„é€Ÿåº¦å°±å·²ç»è¶…è¿‡ä»–äº†ã€‚è¯»ä¹¦æ—¶ä»£ï¼Œæœ‹å‹é—®æˆ‘è¯»ä¹¦é€Ÿåº¦ä¸ºä»€ä¹ˆè¦å¿«ä¸€äº›ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘éƒ½æ˜¯æ— æ³•ä½œç­”çš„ã€‚â€‹ ä¸è¿‡ä½œä¸ºåˆ—åœ¨2019ä¹¦å•ä¸Šçš„ä¹¦ï¼Œæˆ‘è¿˜æ˜¯ä»æ·˜å®ä¸Šè´­å¾—ä¸€æœ¬ï¼Œå»çœ‹çœ‹æˆ‘ä¸äº†è§£çš„â€œé€Ÿè¯»â€æ˜¯ä¸ªä»€ä¹ˆæ¦‚å¿µï¼Œæ»¡è¶³ä¸€ä¸‹æˆ‘çš„å¥½å¥‡å¿ƒã€‚è¿™æœ¬é€Ÿè¯»æ³•ï¼Œå…¶å®ä¹Ÿæ²¡ä»€ä¹ˆå®è´¨æ€§çš„æ¦‚å¿µï¼Œæˆ‘è¯»å®Œå…¨ä¹¦ï¼Œæˆ‘çš„ç†è§£å°±æ˜¯â€œå¤šè¯»ä¹¦ï¼Œå°±è¯»çš„å¿«â€ã€‚ä½œè€…åœ¨æ–‡ç« ä¸­æåˆ°äº†è®¸å¤šåˆ«çš„æµæ´¾çš„è¯»ä¹¦æ–¹æ³•ï¼Œæ¯”å¦‚åŠ å¤§çœ¼ç›æ‰«æçš„åŒºåŸŸï¼Œå¿«é€Ÿè¿‡ã€‚æˆ‘æ˜¯éå¸¸ä¸å±‘äºè¿™ç§è¯»ä¹¦æ–¹å¼çš„ã€‚äººä¸æ˜¯å¤å°æœºï¼ŒåŠ å¤§ä¸ªæ‰«æèŒƒå›´å°±å¯ä»¥å®ç°æ›´å¤šè¡Œçš„æ–‡å­—å¤„ç†äº†ã€‚æ›´ä½•å†µè¿™ç§è¯»ä¹¦è¿˜å¯„å¸Œæœ›äºå¤§è„‘è‡ªå·±ä¼šå¤„ç†ã€‚æˆ‘å’Œä½œè€…åœ¨è¿™æ–¹é¢çš„æƒ³æ³•æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼šæ€ä¹ˆèƒ½å¯„å¸Œæœ›äºä»“åº“è‡ªå·±å¤„ç†è´§ç‰©å‘¢ã€‚è¿™ç§æ–¹æ³•è¯»ä¹¦ï¼Œå°±ç®—å¾ˆå¿«è¯»å®Œï¼Œä¹¦åœ¨è„‘å­é‡Œææ€•éƒ½æˆäº†å †ç§¯çš„è´§ç‰©äº†ã€‚å®Œå…¨è¿èƒŒäº†è¯»ä¹¦çš„åˆè¡·ã€‚ä½œè€…çš„è‡ªå·±æå‡ºçš„è¯»ä¹¦æ–¹æ¡ˆå°±æ˜¾å¾—ç§‘å­¦çš„å¤šäº†ï¼Œå’Œæˆ‘æ—¥å¸¸çš„è¯»ä¹¦å°±æœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œæˆ‘å•ç‹¬çš„æŠŠå®ƒæç‚¼å‡ºæ¥è¯´ä¹¦æˆ‘çš„æ„Ÿå—ã€‚â€‹ 1.å¤šè¯»ä¹¦å°±è¯»çš„å¿«â€‹ ä½œè€…è‡ªå·±å‚åŠ äº†ä¸€ä¸ªè¯»ä¹¦ä¼šï¼Œå‘ç°åˆ°ä¼šçš„ä¼šå‘˜ä»¬è‡ªå·±éƒ½æ²¡æœ‰éšèº«æºå¸¦ä¹¦ç±å¾ˆæ˜¯éœ‡æƒŠã€‚è¯´èµ·æ¥ï¼Œè¿™çœŸæ˜¯æ˜¯ä¸ªæœ´ç´ çš„çœŸç†ï¼šè¯»çš„å¤šå°±è¯»çš„å¿«ã€‚æˆ‘æƒ³æŒ‰ç…§è¿™ä¸ªè¯´æ³•ï¼Œæˆ‘å®Œå…¨å¯ä»¥å›ç­”æˆ‘çš„åŒå­¦ä¸ºä»€ä¹ˆè¯»çš„å¿«ï¼šå› ä¸ºè¯»çš„å¤šã€‚â€‹ 2.å»ºç«‹è‡ªå·±çš„èµ„æ–™åº“â€‹ æ–°å¥‡å´åˆæ˜¯æœ´ç´ çš„è§‚ç‚¹ã€‚å¯èƒ½å–å†³äºä½œè€…çš„è§‚ç‚¹ï¼Œè¯»ä¹¦è¦å»ºç«‹è‡ªå·±çš„èµ„æ–™åº“ï¼Œè¯»çš„ä¹¦åœ¨è‡ªå·±çš„èµ„æ–™åº“ä¹‹ä¸­çš„å°±è¯»çš„å¿«ã€‚æ¯”å¦‚åŒ»å­¦ç”Ÿè¯»åŒ»å­¦æ–¹é¢çš„å°±è¯»çš„å¿«ã€‚è¿™ä¸€ç‚¹æŒ‰ç…§æˆ‘çš„æ€è€ƒå°±æ˜¯ï¼Œå¤šæ€ç´¢ï¼Œå¤šè¯»ã€‚è¯»ä¹¦çš„æ—¶å€™å…ˆäº†è§£ç›¸å…³çš„èƒŒæ™¯çŸ¥è¯†ï¼Œä¹Ÿç®—æ˜¯å»ºç«‹è‡ªå·±çš„è¯»ä¹¦èµ„æ–™åº“ã€‚å¦å¤–ä¸€æ–¹é¢ï¼Œè¯»ä¸€æœ¬å…¨æ–°é¢†åŸŸçš„ä¹¦ç±æ€ä¹ˆå»ºç«‹è‡ªå·±çš„èµ„æ–™åº“ï¼Œé‚£å°±æ˜¯è¯»ä½œè€…çš„å‰è¨€ï¼Œåè®°ï¼Œå½•ã€‚æˆ‘å¹³æ—¶è™½ç„¶ä¸ä¼šæŠŠè¿™ç§é˜…è¯»æ–¹å¼ç§°ä¹‹ä¸ºå»ºç«‹èµ„æ–™åº“æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ã€‚ä½œè€…ç»å¸¸ä¼šæŠŠè‡ªå·±å†™ä¹¦çš„åˆå†™åœ¨å‰è¨€æˆ–è€…åè®°ä¸­ã€‚ä¸‡åƒäº‹ç‰©éƒ½æœ‰è‡ªå·±çš„èµ·ç‚¹ï¼Œéƒ½æœ‰è‡ªå·±è¦è§£å†³çš„æ ¹æœ¬é—®é¢˜ï¼Œæœ‰è‡ªå·±çš„æ ¹ï¼Œå†™ä½œçš„åˆè¡·ï¼Œæ ¹å¾€å¾€å°±å†™åœ¨å‰è¨€ä¸­ã€‚æˆ–è€…å†åè®°é‡Œï¼Œä½œè€…ä¼šæŠŠå†™å®Œæ•´æœ¬ä¹¦çš„æ„Ÿæƒ³å†™å‡ºæ¥ã€‚æŠŠæ¡ä¹¦çš„â€æ ¹â€œã€‚æ— è®ºç”¨é‚£ç§è¯´è¾æ¥æç»˜ï¼Œä¾ç„¶æ˜¯è¯»ä¹¦æœ€é‡è¦çš„èµ·ç‚¹ã€‚å¦å¤–å°±æ˜¯è¯»ä¹¦çš„ç›®å½•ã€‚ç›®å½•å³ä¸ºæ¡†æ¶ï¼Œå»ºç«‹æ•´æœ¬ä¹¦çš„çŸ¥è¯†å±‚æ¬¡å’Œæ¡†æ¶å°±é é˜…è¯»ä¹¦ç±çš„ç›®å½•ã€‚æˆ‘å¹³æ—¶ä¹ŸæŠŠä¹¦çš„ç›®å½•ç§°ä¸ºè„Šæ¤ã€‚æŠŠæ¡ç›®å½•ï¼Œå³æ˜¯æŠŠæ¡è„‰ç»œã€‚è¯´æ³•ä¸åŒï¼Œä½†å…¶æ ¸å¿ƒä¸€è„‰ç›¸æ‰¿ï¼Œä¹Ÿæ˜¯è¯»ä¹¦çš„æœ€é‡è¦çš„å‡†å¤‡å·¥ä½œã€‚â€‹ 3.å¤šè¯»å‡ éâ€‹ è¿™æœ¬ä¹¦ä¸­æå‡ºäº†æˆ‘ä¹‹å‰ç»å¸¸çŠ¯çš„è°¬è¯¯ï¼Œä¹¦è¦ä¸€éè¯»å¥½ã€‚å…¶å®ä¹¦çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯æ–°é¢†åŸŸçš„ä¹¦ç±ï¼Œä¸€éæ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚åœ¨ä¹¦ä¸­è¯»å‡ºç–‘æƒ‘æ˜¯éå¸¸å¥½çš„äº‹æƒ…ï¼Œä½†æ˜¯è¢«ç–‘æƒ‘æ‰€å›°å°±é€ æ´»å¾—ä¸å¿å¤±ã€‚å› ä¸ºä¹¦è¦ä¸€æ¬¡è¯»å¥½ï¼Œä¸åŒå…¶çƒ¦çš„è¿½æ±‚å…¶ä¸­çš„ç»†èŠ‚å°±ä¼šæ‹–æ…¢æˆ‘ä»¬è¯»ä¹¦çš„è„šæ­¥ï¼Œç”šè‡³ä½¿æˆ‘ä»¬å¤±å»è¯»ä¹¦çš„è€å¿ƒï¼Œé€ æˆæœ€ç»ˆçš„æ”¾å¼ƒã€‚â€å¥½è¯»ä¹¦ï¼Œä¸æ±‚ç”šè§£â€œå°±æ˜¯è¿™ä¸ªæ„æ€ã€‚è¯»äº†ä¸€éæˆ‘ä»¬å¿ƒä¸­äº§ç”Ÿäº†ç–‘æƒ‘ï¼Œè¿™ä¸ªä»¥åå¹¶ä¸æ˜¯è¦åœ¨å½“ä¸‹ç«‹å³è§£å†³ã€‚å¸¦ç€ç–‘æƒ‘ç»§ç»­è¯»ï¼Œä¹Ÿè®¸åæ–‡ä¼šæœ‰è§£é‡Šã€‚æˆ–è€…å†è¯»ä¸€éï¼Œå°±ä¼šæœ‰æ–°çš„æ„Ÿæ‚Ÿã€‚å¤šè¯»å‡ éï¼Œä¸è¦æ— é™çº ç»“äºç»†èŠ‚ã€‚å¯¹æˆ‘æ¥è¯´è¿™æ˜¯è¯»é›ªçƒæ³•å¯¹æˆ‘æ„ä¹‰æœ€é‡å¤§çš„éƒ¨åˆ†ã€‚ä»¥åçš„è¯»ä¹¦ä¸­ï¼Œæˆ‘çœ‹æ¥è¿˜æ˜¯è¦å¤šå¿µå‡ éâ€å¥½è¯»ä¹¦ï¼Œä¸æ±‚ç”šè§£â€œæ¥æé†’è‡ªå·±ï¼šè¦å¸¦ç€ç–‘æƒ‘å†å¤šè¯»å‡ éã€‚â€‹ 4å¿«é€Ÿè¯»ä¹¦ï¼Œæ›´ä¸“å¿ƒï¼Œæ•ˆç‡æ›´é«˜â€‹ è¿™æ˜¯ä¹¦ä¸­è§‚ç‚¹ä¸­æˆ‘èµåŒåº¦ä¸é«˜çš„éƒ¨åˆ†ã€‚ä½œè€…è®¤ä¸ºï¼Œå¿«é€Ÿè¯»ä¹¦å¯ä»¥ä¿æŒè¯»ä¹¦çš„ä¸“ä¸€æ€§ï¼Œé¿å…äº†ä¸€æœ¬å¤§éƒ¨å¤´ä¹¦è€æ˜¯è¯»ä¸å®Œé€ æˆæœ€åçš„æ”¾å¼ƒã€‚æˆ‘å†è¯»ä¹¦ä¸­ä¼¼ä¹ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå¯¹äºæˆ‘å®šçš„å¤§éƒ¨å¤´ä¹¦ç±æˆ‘ä¹Ÿä¼šå°½é‡è¯»å®Œã€‚å› ä¸ºæˆ‘çš„ç›®æ ‡å°±æ˜¯ä¸“æ³¨å½“ä¸‹ã€‚è¯»ä¹¦çš„æ—¶å€™å…¨èº«å¿ƒæŠ•å…¥ï¼Œå°½è‡ªå·±æœ€å¤§åŠªåŠ›è¯»å®Œã€‚æˆ‘æŠŠè¿™ç‚¹æç‚¼å‡ºæ¥ï¼Œå¦‚æœæœ‰è°çœ‹åˆ°è¿™éƒ¨åˆ†ï¼Œå¯ä»¥ç»§ç»­çœ‹çœ‹ä½œè€…çš„è¯´æ³•ã€‚æˆ‘è®¤ä¸ºè¿™ä¸ªä¸æ— é“ç†ï¼Œä½†å¯¹æˆ‘æ„ä¹‰æœ‰é™ã€‚â€‹ 2019æ„¿ä½ è¯»ä¹¦å¿«ä¹ï¼2019å¹´2æœˆ6æ—¥ 12:15","categories":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"https://imzy.vip/categories/%E8%AF%BB%E4%B9%A6/"}],"tags":[{"name":"é˜…è¯»","slug":"é˜…è¯»","permalink":"https://imzy.vip/tags/%E9%98%85%E8%AF%BB/"}]},{"title":"å¦‚ä½•ç”¨Rustå†™ä¸€ä¸ªè‡ªå·±çš„åšå®¢","slug":"å¦‚ä½•ç”¨Rustå†™ä¸€ä¸ªè‡ªå·±çš„åšå®¢","date":"2019-04-06T08:53:40.000Z","updated":"2025-07-31T02:30:04.387Z","comments":true,"path":"posts/44906/","link":"","permalink":"https://imzy.vip/posts/44906/","excerpt":"æœ€è¿‘ç»™è‡ªå·±å®šä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œç”¨rustå†™ä¸€ä¸ªå¯ä»¥è¿è¡Œçš„é¡¹ç›®ï¼Œæœ€ç»ˆå®šä¸‹çš„ä»»åŠ¡å°±å¦‚æ ‡é¢˜æ‰€ç¤ºï¼Œæ­å»ºä¸€ä¸ªå¯ä»¥è¿è¡Œçš„åšå®¢ï¼Œå…·å¤‡åŸºæœ¬çš„ç™»å½•åŠŸèƒ½ï¼Œå¯ä»¥å¯¹è‡ªå·±çš„æ–‡ç« è¿›è¡Œå¢åˆ æ”¹æŸ¥åŠŸèƒ½ã€‚ç›®æ ‡å®šä¸‹ï¼Œæ¥ä¸‹æ¥å¼€å§‹è¡ŒåŠ¨ã€‚ä»£ç åœ¨æ­¤","text":"æœ€è¿‘ç»™è‡ªå·±å®šä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œç”¨rustå†™ä¸€ä¸ªå¯ä»¥è¿è¡Œçš„é¡¹ç›®ï¼Œæœ€ç»ˆå®šä¸‹çš„ä»»åŠ¡å°±å¦‚æ ‡é¢˜æ‰€ç¤ºï¼Œæ­å»ºä¸€ä¸ªå¯ä»¥è¿è¡Œçš„åšå®¢ï¼Œå…·å¤‡åŸºæœ¬çš„ç™»å½•åŠŸèƒ½ï¼Œå¯ä»¥å¯¹è‡ªå·±çš„æ–‡ç« è¿›è¡Œå¢åˆ æ”¹æŸ¥åŠŸèƒ½ã€‚ç›®æ ‡å®šä¸‹ï¼Œæ¥ä¸‹æ¥å¼€å§‹è¡ŒåŠ¨ã€‚ä»£ç åœ¨æ­¤ Actix_blog https://github.com/TigerInYourDream/actix_blog_example é€‰å®šæ¡†æ¶â€‹ æ­å»ºåšå®¢è‡ªç„¶ä¸å¯èƒ½èƒ½å¾’æ‰‹å†™ä¸€ä¸ªï¼Œåˆæ­¥å®šä¸‹ä½¿ç”¨Rustçš„webæ¡†æ¶actix(å…¶å®è¿˜æœ‰å¦ä¸€ä¸ªæ–¹æ¡ˆRocket)ã€‚å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œå…ˆé˜…è¯»actix_webçš„åŸºæœ¬èµ„æ–™äº†è§£actix_webçš„ä½¿ç”¨æ–¹å¼ã€‚å†å¿«é€Ÿé˜…è¯»ç©actix_webçš„æ–‡æ¡£åï¼Œå‘ç°äº†é—®é¢˜ã€‚å› ä¸ºæœ¬äººæ²¡æœ‰webå¼€å‘çš„ç›¸å…³ç»å†ï¼Œä¸ç†è§£webé¡¹ç›®çš„ç»„ç»‡æ–¹å¼ï¼Œå¾ˆå¤šæœ¯è¯­éƒ½çœ‹ä¸æ‡‚ï¼Œæ‰€ä»¥å¼€å‘ä¸­çš„ç¬¬ä¸€ä¸ªéš¾é¢˜å°±å‡ºç°äº†ï¼šä¸ç†è§£webé¡¹ç›®çš„ç»„ç»‡æ–¹å¼ï¼Œæ— æ³•å¼€å§‹webé¡¹ç›®çš„å¼€å‘ã€‚æ—¢ç„¶åŸºç¡€è–„å¼±æ— æ³•å¼€å§‹ï¼Œé‚£ä¹ˆå»äº†è§£webé¡¹ç›®çš„ç»„ç»‡æ–¹å¼å°±æ˜¯å½“åŠ¡ä¹‹æ€¥ã€‚actix_webçš„æ–‡æ¡£æœ¬èº«å¯ä»¥è¯´æ˜¯æœ‰äº›è¿‡äºç®€å•ï¼Œæ— æ³•å¸®æˆ‘è¾¾æˆè¿™ä¸€ç›®çš„ã€‚è¿™ä¸ªæ—¶å€™æ€ä¹ˆåŠå‘¢ï¼Ÿå¤šäº¤æµï¼å’Œæœ‹å‹çš„äº¤æµä¸­å¾—åˆ°ä¸€ä¸ªä¿¡æ¯ï¼Œæˆ–è®¸å¯ä»¥é€šè¿‡é˜…è¯» æ–‡æ¡£è¾¾åˆ°ç†è§£webé¡¹ç›®çš„ç»„ç»‡æ–¹å¼ã€‚ï¼ˆè¯´æ˜ï¼šæœ¬äººå¹¶ä¸ä¼šrubyï¼‰æ‰€ä»¥ç›´æ¥é˜…è¯»railsæ–‡æ¡£ã€‚é€šè¿‡é˜…è¯»railsæ–‡æ¡£ï¼Œå¾—åˆ°ä»¥ä¸‹ç»“è®ºï¼š webé¡¹ç›®åŸºæœ¬ä¸Šæ˜¯å…¸å‹çš„mvcæ¨¡å¼ï¼Œv = view.æ˜¯è§†å›¾å±‚ã€‚ä¸»è¦ç”¨äºå‘ˆç°ç•Œé¢ã€‚m = modle æ˜¯æ•°æ®å±‚ï¼Œä¸»è¦ç”¨æˆ·å‚¨å­˜æ•°æ®ï¼Œæ˜¯ç”¨dbæˆ–è€…ormå°±åœ¨è¿™ä¸€å±‚ï¼Œcæ˜¯è¡”æ¥vå’Œmçš„æ§åˆ¶å±‚ï¼Œwebæ¡†æ¶çš„ä¸»è¦ä½œç”¨å°±æ˜¯å……å½“cå±‚ã€‚ æŠŠactix_webå’Œrailsçš„æ¦‚å¿µå¯¹åº”èµ·æ¥ï¼Œå¯ä»¥è¿™ä¹ˆè¯´ã€‚controllerä½œä¸ºæ§åˆ¶å±‚æ˜¯ä¸ºäº†ç²˜åˆå…¶ä»–éƒ¨åˆ†çš„ã€‚åœ¨ä»£ç ä¸­çš„apiæ–‡ä»¶å¤¹é‡Œçš„ä»£ç å°±æ˜¯cå±‚ã€‚handleå‡½æ•°åˆ™æ˜¯å…·ä½“å¤„ç†å¯¹åº”é€»è¾‘çš„å‡½æ•°ï¼Œç›¸å½“äºrailsé‡Œé¢çš„Actionã€‚æ¨¡æ¿å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯ç›¸å½“äºrailsé‡Œé¢çš„erbæ–‡ä»¶ã€‚(ä¹Ÿå°±æ˜¯c)ã€‚routerè¿™ä¸ªæœ¯è¯­å°±æ˜¯ç»™ä¸åŒçš„ç½‘ç»œè¯·æ±‚åˆ†é…å¯¹åº”çš„handler(Action)å‡½æ•°çš„ã€‚è‡³äºä¸­é—´ä»¶middleware,åˆ™æ˜¯å¤¹åœ¨ç”¨æˆ·è¯·æ±‚å’Œå“åº”ä¹‹é—´çš„åŠŸèƒ½ï¼Œåå‰¯å…¶å®çš„ä¸­é—´ï¼Œå¯ä»¥åšåˆ°åŠ è½½ç‰¹å®šå‚æ•°æˆ–è€…å†™logç­‰ä¸€ä¸‹åŠŸèƒ½ã€‚ åˆ°æ­¤ï¼Œç¬¬ä¸€æ­¥é€‰å®šæ¡†æ¶ï¼Œç†è§£webæœ¯è¯­çš„åŸºæœ¬æ¦‚å¿µå·²ç»å®Œæˆï¼Œå¯ä»¥åŠ¨æ‰‹äº†ã€‚ä»¥ä¸Šç»“è®ºå¹¶ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯å»é˜…è¯»railsçš„æ–‡æ¡£ï¼Œå’Œçœ‹å…·ä½“çš„ä»£ç ï¼Œè‡ªå·±ç†è§£webçš„è¿ä½œå’Œç»„ç»‡æ–¹å¼ã€‚ é€‰æ‹©Ormâ€‹ rustä¸­çš„ormå¯é€‰çš„ä¸å¤šï¼Œdieselæœ€æœ‰åï¼Œé‚£å°±å®ƒäº†ã€‚diesel(åæ§½ä¸€ä¸‹ï¼Œrustä¸–ç•Œæ¡†æ¶çš„åå­—ï¼ŒæŸ´æ²¹æœºï¼Ÿï¼Ÿï¼Ÿ)çš„å¥½å¤„åœ¨äºæ–‡æ¡£å¾ˆé½å…¨ï¼Œè€Œä¸”æˆ‘ä»¬åœ¨ä¹‹å‰å®šä¸‹çš„ä»»åŠ¡å°±æ˜¯å¢åˆ æ”¹æŸ¥ï¼Œç›®æ ‡ç®€å•ã€‚Ormé€‰å®šè¿˜ç‰µæ‰¯dbçš„é€‰æ‹©ï¼Œemmmm,å®˜æ–¹æŒ‡å¼•å®ä¾‹ç”¨çš„postgreSQLï¼Œé‚£å°±å®ƒäº†ï¼è‡³äºå¦‚ä½•å®‰è£…postgreSQLï¼Œè¯·å‚è€ƒä¸Šä¸€ç¯‡æ–‡ç« ï¼Œå·²ç»è¯´çš„å¾ˆæ¸…æ¥šï¼Œå°±ä¸åœ¨è¿™é‡Œé‡å¤äº†ã€‚å®‰è£…ä¸ŠpostgreSQLä¹‹åï¼Œæ ¹æ®dieselæ–‡æ¡£ï¼Œå®‰è£…diesle-cliã€‚æŒ‰ç…§æ–‡æ¡£ä¸€æ­¥ä¸€æ­¥æ¥å°±å¯ä»¥çŸ¥é“æˆ‘ä»¬dieselæ€ä¹ˆä½¿ç”¨ã€‚ç°åœ¨æˆ‘ä»¬å¼€å§‹è®¾è®¡æˆ‘ä»¬çš„æ•°æ®è¡¨ã€‚å……åˆ†ç†è§£æˆ‘ä»¬çš„ç›®æ ‡ä¹‹åï¼Œæˆ‘ä»¬å¤§æ¦‚éœ€è¦ä¸€ä¸ªï¼Œç”¨æˆ·è¡¨ï¼Œæ–‡ç« è¡¨ï¼Œåˆ†ç±»è¡¨ç­‰å‡ ç±»è¡¨ï¼Œå…·ä½“ç”¨äº†ä»€ä¹ˆè¡¨å¯ä»¥å»çœ‹ä»£ç ã€‚æœ¬èº«ä¹Ÿä¸å¤æ‚ï¼Œä¸è¿‡å¦‚æœä»¥åç»§ç»­å†™webé¡¹ç›®ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚è¿™é‡Œé¢é‡åˆ°ä¸€ä¸ªé—®é¢˜ã€‚dieselé“¾æ¥æ•°æ®åº“çš„æ—¶å€™ï¼Œdotenvå¹¶ä¸èƒ½è¯†åˆ« .envæ–‡ä»¶ä¸­çš„DATABASE_URLè·¯å¾„ï¼Œæˆ‘ä¹‹åæŠŠé‡Œé¢çš„è·¯å¾„ç›´æ¥å†™è¿›å»æ‰æˆåŠŸé“¾æ¥æ•°æ®åº“ã€‚ä½†æ˜¯åœ¨æ‰€æœ‰çš„exampleä¸­.envéƒ½æ˜¯åŒæ ·çš„å†™æ³•ã€‚ç°åœ¨å°šæœªçŸ¥é“åŸå› ã€‚ å¼€å§‹æ­£å¼ä½¿ç”¨actix_webâ€‹ æ•°æ®å±‚çš„åŸºç¡€åˆæ­¥æ­å»ºå¥½ä¹‹åï¼Œå¼€å§‹å¼•å…¥actix_webã€‚å…¶å®ç°åœ¨è¿˜æ˜¯ä¸èƒ½ç›´æ¥åŠ¨æ‰‹å†™acti_webã€‚æˆ‘ä»¬è¿˜æ˜¯éœ€è¦ç†æ¸…actix_webä¸­çš„å‡ ä¸ªæ¦‚å¿µæ‰å¯ä»¥å¼€å§‹ã€‚ æå–å™¨ã€‚æå–å™¨å°±æ˜¯ä»handleå‡½æ•°ä¸­æå–ä¿¡æ¯ï¼Œä¸»è¦æå–çš„ä¿¡æ¯æœ‰è·¯å¾„ï¼ŒåŠ¨æ€è·¯å¾„ï¼Œformè¡¨å•ä¿¡æ¯å’Œå…¶ä»–å­˜åœ¨bodyé‡Œé¢ç©¿è¿‡æ¥çš„ä¿¡æ¯ã€‚å¦å¤–AppçŠ¶æ€ä¹Ÿå¯ä»¥åœ¨handleå‡½æ•°ä¸­æå–å‡ºæ¥ å½“ç„¶ä»¥ä¸Šçš„ç»“è®ºå¹¶ä¸æ˜¯ä¸€è¹´è€Œå°±çš„ã€‚éœ€è¦é˜…è¯»å†å›å¤´é˜…è¯»actix_webçš„æ–‡æ¡£ã€‚å¦‚æœè¿˜æ˜¯ä¸ç†è§£ï¼Œå¯ä»¥æ¨ªå‘å¯¹æ¯”rocketçš„æ–‡æ¡£ã€‚ä¸ªäººè®¤ä¸ºrocketçš„æ–‡æ¡£ï¼Œç»“æ„æ›´åŠ æ¸…æ™°ï¼Œæ›´èƒ½è®©äººç†è§£webçš„è¿è¡Œæ–¹å¼ã€‚å…¶ä¸­life-cycleæ¯”è¾ƒç²¾å½©ï¼Œè®©äººç›´è§‚äº†è§£äº†rocketçš„è¿ä½œè¿‡ç¨‹ï¼Œè€Œä¸”å¯¹handleå‡½æ•°çš„è®²è§£æ›´åŠ æ¸…æ™°ã€‚æˆ‘æœ€åç†è§£handlerå‡½æ•°ä»¥åŠæå–å™¨å°±æ˜¯åå¤é˜…è¯»rocketæ–‡æ¡£çš„ç»“æœã€‚ç°åœ¨å¼€å§‹å¯åŠ¨actixæœåŠ¡å™¨ï¼ŒåŠ è½½appç¨‹åºï¼ŒåŠ è½½routerã€‚ç¼–ç çš„è¿‡ç¨‹ä¸å†èµ˜è¿°ï¼Œä¸‹é¢å¼ºè°ƒä¸€ä¸‹actix-webçš„æ¶æ„æˆ–è€…è¯´è¿ä½œæ–¹å¼ actix_webå¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨ï¼Œç»‘å®šåˆ°æŒ‡å®šçš„ipå’Œç«¯å£ï¼Œåœ¨æœåŠ¡å™¨ä¸Šè£…è½½æˆ–è€…å«è¿è¡Œä¸€ä¸ª(å¤šä¸ªä¹Ÿå¯ä»¥)Appã€‚å…¶ä¸­Appå®ä¾‹å¯ä»¥åŠ è½½router,ç”¨routeræ¥ç»™ä¸åŒçš„é“¾æ¥(ä¸åŒçš„é“¾æ¥æŒ‡ä¸åŒçš„urlå’Œè¯·æ±‚æ–¹å¼)åˆ†é…ä¸åŒçš„handlerå¤„ç†å‡½æ•°ã€‚handleå¤„ç†å‡½æ•°ä¸­ä½¿ç”¨æå–å™¨è·å–è¯¸å¤šè¯·æ±‚ä¿¡æ¯è¿›è¡Œå¤„ç†ï¼ˆå¤„ç†éƒ¨åˆ†ä¸»è¦æ˜¯ç»“åˆORMï¼‰ï¼Œæ ¹æ®è¦æ±‚è¿”å›ä¸åŒçš„ç»“æœã€‚webç¨‹åºä¸­çš„ç»“æœå°±æ˜¯æ¸²æŸ“ä¸åŒçš„é¡µé¢æˆ–è€…åœ¨é¡µé¢ä¸­è¿›è¡Œè·³è½¬ã€‚ å¦‚ä½•è®©dieselæ”¯æŒå¼‚æ­¥â€‹ è¿™æ˜¯ä¸ªè®©äººå¤´ç—›çš„é—®é¢˜ï¼Œä¸€èˆ¬æ¥è¯´åˆ°ä¸Šä¸€æ­¥åŸºæœ¬çš„æ¡†æ¶å·²ç»ç†æ¸…äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯å†™ä»£ç ã€‚ä½†æ˜¯dieselä¸æ”¯æŒå¼‚æ­¥ï¼Œæˆ‘ä»¬å¦‚ä½•å®Œç¾ç»“åˆwebæ¡†æ¶æ¥ä½¿ç”¨å®ƒå‘¢ã€‚åœ¨actix_webå®˜æ–¹æ–‡æ¡£ä¸­å°±æœ‰è¿™æ ·ä¸€èŠ‚ã€‚è¯´å®è¯ï¼Œè®²çš„ä¸æ˜¯å¾ˆå¥½ã€‚å¯¹äºæˆ‘æ¥è¯´ï¼Œè¯»äº†ä¸¤è¾¹å®Œå…¨ä¸ç†è§£æ˜¯åœ¨å¹²ä»€ä¹ˆã€‚ä¸è¿‡å¥½å¤„åœ¨åœ¨æç¤ºæˆ‘ï¼šå¿«å»ä½¿ç”¨Actorã€‚é‚£ä»€ä¹ˆæ˜¯Actorå‘¢ã€‚å¹¸è¿çš„æ˜¯ä½¿ç”¨Actoræ¨¡å‹å¤ªå¤šäº†ã€‚æ¯”å¦‚erlangï¼ŒAKKAå’ŒElixirã€‚ç®€å•æ¥è¯´Actoræ¨¡å‹æ€è·¯å°±æ˜¯ä¸‡ç‰©çš†Actorã€‚æ‰€æœ‰çš„Actoréƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä»–ä»¬ä¹‹é—´é€šè¿‡æ¶ˆæ¯æ¥äº¤æµï¼ŒActorç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—(mail queue)æ¥å¤„ç†æ¶ˆæ¯ã€‚å¥½äº†ï¼Œäº†è§£äº†actorçš„åŸºæœ¬æ€è·¯ä¹‹åï¼Œç»§ç»­çœ‹æ–‡æ¡£ä¸­çš„databaseä¸€å°èŠ‚æ¥æ˜ç™½actoråˆ°åº•æ€ä¹ˆç”¨ã€‚çœ‹æ‡‚äº†å—ï¼Ÿæˆ‘è§‰å¾—æ˜¯çœ‹ä¸æ‡‚çš„ï¼Œæ‰€ä»¥ç›´æ¥çœ‹githubä¸Šçš„actixï¼ˆä¸æ˜¯actix_webï¼‰æŒ‡å¼•æ–‡æ¡£ã€‚æ‰€ä»¥è¯¥æ€ä¹ˆç”¨å‘¢ actoræ—¢ç„¶è¦é€šè¿‡æ¶ˆæ¯æ¥äº¤æµï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦ä¸¤ä¸ªä¸œè¥¿ï¼šæ¶ˆæ¯(ä½œä¸ºä¿¡æ¯ä¼ é€’)ï¼ŒActoræœ¬ä½“(ä½œä¸ºå‘é€å’Œå¤„ç†æ¶ˆæ¯çš„è½½ä½“)ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦åšçš„å¾ˆç®€å•ï¼ŒåŒ…è£…ä¸€ä¸ªmessage,ç„¶ååŒ…è£…ä¸€ä¸ªactor.åœ¨actoré‡Œé¢å¤„ç†æ¶ˆæ¯å³å¯ã€‚æ‰“å¼€actorçš„æºç ä½ ä¼šå‘ç°ä¸€å¥è¯ Method is called for every message received by this Actor è¯´æ˜å•¥å‘¢ï¼Ÿè¯´æ˜æˆ‘ä»¬æƒ³çš„æ²¡é”™ã€‚æ ¹æ®ä¾‹å­å°±çŸ¥é“è¿™ä¸ªactorè¯¥æ€ä¹ˆç”¨äº†ã€‚ ç°åœ¨çŸ¥é“äº†actoræ€ä¹ˆç”¨äº†ï¼Œæˆ‘ä»¬å¼€å§‹ç›´é¢é—®é¢˜ â€œå¦‚ä½•è®©dieselæ”¯æŒå¼‚æ­¥â€ã€‚è¿˜è®°å¾—å‰é¢çš„æå–å™¨å—ï¼Œæå–å™¨å¯ä»¥åœ¨handleré‡Œé¢æå–ä»€ä¹ˆï¼Ÿåº”è¯¥æ˜¯è·¯å¾„ï¼ŒåŠ¨æ€è·¯å¾„ï¼ŒçŠ¶æ€ï¼Œè¿˜æœ‰bodyé‡Œé¢çš„ä¿¡æ¯ã€‚åˆ«çš„å‡ æ ·éƒ½æ˜¯ä¼ é€’è¿‡æ¥çš„ï¼Œé‚£æ•°æ®åº“ä¿¡æ¯è¯¥æ”¾å“ªé‡Œå°±æœ‰ç‚¹çœ‰ç›®äº†ï¼Ÿå¯¹ï¼å­˜åœ¨AppStateé‡Œé¢ã€‚App.with_state(xxx)ã€‚å¥½äº†ï¼Œç°åœ¨çœ‹actix_webçš„æ–‡æ¡£databaseä¸€èŠ‚å°±çŸ¥é“è¿™ä¸€å¥—è¯¥æ€ä¹ˆç”¨äº†ã€‚å‡ ä¸ªåŸºæœ¬çš„é—®é¢˜ææ¸…æ¥šä¹‹åä¸»è¦çš„éšœç¢å°±ä¸å­˜åœ¨äº†ã€‚ ä½¿ç”¨Askmaâ€‹ ä¸å†å¼ºè°ƒäº†ï¼Œçœ‹æ–‡æ¡£å³å¯ã€‚ä¹‹æ‰€ä»¥é€‰Askmaæ˜¯æˆ‘è§‰å¾—Askmaæ¯”å¦ä¸€ä¸ªæ¨¡æ¿æ¸²æŸ“çœ‹èµ·æ¥æ›´ç®€å•ã€‚ å›é¡¾â€‹ æœ€åæ€»ç»“æ•´åˆæ€è€ƒè¿‡ç¨‹ï¼šè‡ªé¡¶å‘ä¸‹ï¼Œå·®ç¼ºè¡¥æ¼ é¦–å…ˆäº†è§£webé¡¹ç›®çš„ç»„ç»‡æ–¹å¼ï¼Œåœ¨çœ‹ä¸æ‡‚actix_webé¡¹ç›®çš„æƒ…å†µä¸‹å»é˜…è¯»æ–‡æ¡£æ›´ä¸ºæ¸…æ™°çš„railsï¼Œå»ºç«‹åŸºç¡€æ¦‚å¿µä½•ä¸ºwebé¡¹ç›®ï¼Œä»–çš„åŸºç¡€æ¶æ„æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆç»„ç»‡ã€‚è§£å†³äº†è¿™ä¸‰ä¸ªåŸºæœ¬é—®é¢˜ä¹‹åå°±å¯ä»¥åˆæ­¥å¼€å§‹äº†ã€‚æ¥ä¸‹æ¥å¤„ç†ORMéƒ¨åˆ†ï¼Œè¿™ä¸€éƒ¨åˆ†å°±æ˜¯æŸ¥æ‰¾èµ„æ–™ã€‚æ¥ä¸‹æ¥æ˜¯webé¡¹ç›®çš„çš„å…·ä½“ç»†èŠ‚é—®é¢˜ï¼Œä½•ä¸ºcontroller,ä½•ä¸ºhandlerä½•ä¸ºæå–å™¨ï¼ŒAppstateæ˜¯ä»€ä¹ˆï¼Œè¿™ä¸€éƒ¨åˆ†çš„ç†è§£æ˜¯å‚è€ƒrockeçš„æ–‡æ¡£ï¼Œæ¨ªå‘å¯¹æ¯”å¾—æ¥çš„ã€‚æœ€åæ˜¯ä½•ä¸ºactor,å¹¸è¿çš„æ˜¯èµ„æ–™å¾ˆå¤šï¼Œå¾ˆå¿«èƒ½è¾¾æˆåŸºæœ¬çš„ç†è§£ã€‚ æœ€ååˆ—å‡ºéœ€è¦æŸ¥é˜…çš„æ–‡æ¡£ Actix_web https://actix.rs/docs/ Diesel http://diesel.rs/guides/getting-started/ Ruby on Rails https://ruby-china.github.io/rails-guides/getting_started.htm Rocket https://github.com/SergioBenitez/Rocket å…¶ä»–ææ–™å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ï¼Œå¦å¤–å°±æ˜¯è‹±æ–‡æ–‡æ¡£æ¯”æ±‰å­—çš„å®¹æ˜“ç†è§£ä¸€äº›ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Rust","slug":"Rust","permalink":"https://imzy.vip/tags/Rust/"},{"name":"actix_web","slug":"actix-web","permalink":"https://imzy.vip/tags/actix-web/"}]},{"title":"Macä¸Šå®‰è£…å’Œä½¿ç”¨PostgreSQLçš„æ–¹æ³•","slug":"Macä¸Šå®‰è£…å’Œä½¿ç”¨PostgreSQLçš„æ–¹æ³•","date":"2019-03-27T16:21:13.000Z","updated":"2025-07-31T02:30:04.385Z","comments":true,"path":"posts/31755/","link":"","permalink":"https://imzy.vip/posts/31755/","excerpt":"æœ€è¿‘éœ€è¦ä½¿ç”¨actix-webæ¥æ­å»ºä¸€ä¸ªwebç¨‹åºï¼Œè¿™ç¯‡æ–‡ç« æ˜¯å…³äºæ­å»ºwebç¨‹åºçš„å‡†å¤‡å·¥ä½œï¼Œ","text":"æœ€è¿‘éœ€è¦ä½¿ç”¨actix-webæ¥æ­å»ºä¸€ä¸ªwebç¨‹åºï¼Œè¿™ç¯‡æ–‡ç« æ˜¯å…³äºæ­å»ºwebç¨‹åºçš„å‡†å¤‡å·¥ä½œï¼Œ å¦‚ä½•åœ¨Macä¸Šå®‰è£…PostgreSQL å› ä¸ºæœ¬æœºä¸Šå·²ç»å®‰è£…äº†homebrew æ•…è€Œä½¿ç”¨home brew brew install postgresql å®‰è£…çš„ä½ç½®å¦‚ä¸‹ /usr/local/var/postgres å®‰è£…æˆåŠŸåå·²ç»å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œ pg_ctl -V æ¥æŸ¥çœ‹psqlçš„ç‰ˆæœ¬ï¼Œæ­£ç¡®æ˜¾ç¤ºç‰ˆæœ¬è¯´æ˜å·²ç»å®‰è£…æˆåŠŸäº†ã€‚ åœ¨macä¸Šå®‰è£…PostgreSQL,éœ€è¦å¼€å¯psqlçš„æœåŠ¡ï¼Œä»”ç»†è§‚å¯Ÿå®‰è£…PostgreSQLçš„æç¤ºï¼Œbrewå·²ç»æç¤ºä½ å¦‚ä½•å¼€å¯æœåŠ¡äº†ã€‚ brew services start postgresql æˆ–è€…ä½¿ç”¨ if you donâ€™t want/need a background service you can just run: pg_ctl -D /usr/local/var/postgres start å¯¹åº”çš„ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥åœæ­¢PostgreSQLçš„æœåŠ¡ brew services stop postgresql ä¹Ÿå¯ä»¥æ ¹æ®ç›´æ¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹brewå¯åŠ¨çš„æœåŠ¡ï¼Œä¸è¿‡å±äºbrewçš„æ“ä½œï¼Œå’Œæœ¬æ–‡æ— å…³ brew services list æ³¨æ„ï¼Œå¾ˆå¤šæ–‡ç« éƒ½è¯´éœ€è¦åœ¨bash æˆ–è€…zshä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œå¯èƒ½å› ä¸ºæ˜¯ç‰ˆæœ¬çš„åŸå› ï¼Œæˆªæ­¢æˆ‘å‘æ–‡æ—¶é—´ï¼Œæ˜¯ä¸éœ€è¦æ·»åŠ envpathçš„ã€‚ ä½¿ç”¨ creatdb åˆ›å»ºå‡ºä¸€ä¸ªä»¥å½“å‰ç³»ç»Ÿç”¨æˆ·åä¸ºæ•°æ®åº“ç”¨æˆ·åçš„æ•°æ®åº“ ä½¿ç”¨ psql è¿™æ—¶è¿›å…¥æ•°æ®åº“æ§åˆ¶å°ï¼Œç›¸å½“äºç³»ç»Ÿç”¨æˆ·è¿›å…¥åŒåçš„æ•°æ®åº“ä¸­,ç»ˆç«¯ä¸­ä¼šæ˜¾ç¤º xxxx = # å…¶ä¸­ xxxx ä»£è¡¨å½“å‰ç³»ç»Ÿç”¨æˆ·å ä»¥ä¸‹æ“ä½œpsqlä¸‹æ‰§è¡Œ ä¸ºå½“å‰æ•°æ®åº“è®¾ç½®ä¸€ä¸ªå¯†ç ,é»˜è®¤æ˜¯æ²¡æœ‰å¯†ç çš„ \\password ï¼Œ æŒ‰æç¤ºè¾“å…¥é”è®¾ç½®çš„å¯†ç å°±è¡Œ,æ³¨æ„æ²¡æœ‰å¯†ç ä¼¼ä¹ä¸å¯ä»¥æˆæƒã€‚ åœ¨æ­¤ä¹‹å‰å¯ä»¥ä½¿ç”¨ \\duæ¥æŸ¥çœ‹å½“å‰çš„æ‰€æœ‰ç”¨æˆ· åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ç”¨æˆ· æ³¨æ„ä»¥ä¸‹ä¸‹ä¸‰æ¡å‘½ä»¤éƒ½éœ€è¦; CREATE USER dbuser WITH PASSWORD &#39;password;&#39; åˆ›å»ºæˆåŠŸåä¼šå‡ºç° CREATE ROLE ä¸ºæ•°æ®åº“ç”¨æˆ·å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ è¿™é‡Œåˆ›å»ºçš„æ•°æ®åº“æ˜¯exampledb æ•°æ®åº“çš„æ‹¥æœ‰è€…æ˜¯dbuser CREATE DATABASE exampledb OWNER dbuser; æˆåŠŸåä¾ç„¶æœ‰æç¤º å°†exampledbæ•°æ®åº“çš„æ‰€æœ‰æƒé™éƒ½èµ‹äºˆdbuserï¼Œå¦åˆ™dbuseråªèƒ½ç™»å½•æ§åˆ¶å°ï¼Œæ²¡æœ‰ä»»ä½•æ•°æ®åº“æ“ä½œæƒé™ã€‚ GRANT ALL PRIVILEGES ON DATABASE exampledb to dbuser; æˆåŠŸåä¹Ÿæœ‰æç¤ºã€‚åæ§½ä¸€ä¸‹ï¼Œè¿™ä¸€ç‚¹ä¹Ÿä¸ç¬¦åˆlinuxå“²å­¦ï¼ŒæˆåŠŸåä»€ä¹ˆä¹Ÿä¸å‘ç”Ÿï¼Œé”™è¯¯æœ‰æç¤ºæ‰æ˜¯çœŸæ­£çš„liuxé£æ ¼ï¼ \\q é€€å‡º ç„¶åä½¿ç”¨æ–°ç”¨æˆ·å å¯†ç  ç™»å½• psql -U dbuser -d exampledb -h 127.0.0.1 -p 5432 æ¥ä¸‹æ¥å¯ä»¥å°è¯•åˆ›å»ºè¡¨æ ¼ æ’å…¥æ•°æ®ç­‰å·¥ä½œã€‚ä¹‹åä¸ºSQLæ“ä½œã€‚ é™¤äº†ä»¥ä¸Šçš„å‘½ä»¤è¡Œæ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å®˜æ–¹æä¾›çš„pgadminå·¥å…·ï¼Œæˆ–è€…DataGrid å·¥å…·;è¿™äº›ä¸åŒ…å«åœ¨æœ¬æ–‡ä¸­ã€‚","categories":[{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://imzy.vip/tags/%E6%8A%80%E6%9C%AF/"},{"name":"PostgreSQL","slug":"PostgreSQL","permalink":"https://imzy.vip/tags/PostgreSQL/"}]},{"title":"åˆè§åšå®¢","slug":"åˆè§åšå®¢","date":"2019-03-24T23:03:59.000Z","updated":"2025-07-31T02:30:04.386Z","comments":true,"path":"posts/39190/","link":"","permalink":"https://imzy.vip/posts/39190/","excerpt":"æ··æ²Œåˆå¼€ï¼Œç¬¬ä¸€ç¯‡åšå®¢ã€‚ä¹‹å‰åœ¨å¦ä¸€ä¸ªGitHubè´¦å·ä¸Šä¹Ÿåˆ›å»ºäº†Hexoçš„Blog,ç°åœ¨æ–°å¼€äº†Blogè´¦å·ï¼Œå¼€å¯æ–°çš„æ—…ç¨‹ã€‚æ•¬è¯·æœŸå¾…","text":"æ··æ²Œåˆå¼€ï¼Œç¬¬ä¸€ç¯‡åšå®¢ã€‚ä¹‹å‰åœ¨å¦ä¸€ä¸ªGitHubè´¦å·ä¸Šä¹Ÿåˆ›å»ºäº†Hexoçš„Blog,ç°åœ¨æ–°å¼€äº†Blogè´¦å·ï¼Œå¼€å¯æ–°çš„æ—…ç¨‹ã€‚æ•¬è¯·æœŸå¾…","categories":[{"name":"æ„Ÿæ‚Ÿ","slug":"æ„Ÿæ‚Ÿ","permalink":"https://imzy.vip/categories/%E6%84%9F%E6%82%9F/"}],"tags":[{"name":"æ„Ÿæ‚Ÿ","slug":"æ„Ÿæ‚Ÿ","permalink":"https://imzy.vip/tags/%E6%84%9F%E6%82%9F/"}]}],"categories":[{"name":"rust","slug":"rust","permalink":"https://imzy.vip/categories/rust/"},{"name":"æŠ€æœ¯ç¬”è®°","slug":"æŠ€æœ¯ç¬”è®°","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"},{"name":"å¤©æ–‡å­¦","slug":"å¤©æ–‡å­¦","permalink":"https://imzy.vip/categories/%E5%A4%A9%E6%96%87%E5%AD%A6/"},{"name":"å¤©æ–‡","slug":"å¤©æ–‡","permalink":"https://imzy.vip/categories/%E5%A4%A9%E6%96%87/"},{"name":"ç§‘æ™®","slug":"ç§‘æ™®","permalink":"https://imzy.vip/categories/%E7%A7%91%E6%99%AE/"},{"name":"æŠ€æœ¯æ–‡ç« ","slug":"æŠ€æœ¯æ–‡ç« ","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/"},{"name":"æ„Ÿæ‚Ÿ","slug":"æ„Ÿæ‚Ÿ","permalink":"https://imzy.vip/categories/%E6%84%9F%E6%82%9F/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://imzy.vip/categories/%E7%AE%97%E6%B3%95/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://imzy.vip/categories/%E6%8A%80%E6%9C%AF/"},{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"https://imzy.vip/categories/%E8%AF%BB%E4%B9%A6/"}],"tags":[{"name":"Rubric","slug":"Rubric","permalink":"https://imzy.vip/tags/Rubric/"},{"name":"c++","slug":"c","permalink":"https://imzy.vip/tags/c/"},{"name":"bingen","slug":"bingen","permalink":"https://imzy.vip/tags/bingen/"},{"name":"åˆçº¦","slug":"åˆçº¦","permalink":"https://imzy.vip/tags/%E5%90%88%E7%BA%A6/"},{"name":"solana","slug":"solana","permalink":"https://imzy.vip/tags/solana/"},{"name":"eve","slug":"eve","permalink":"https://imzy.vip/tags/eve/"},{"name":"-evm","slug":"evm","permalink":"https://imzy.vip/tags/evm/"},{"name":"rust","slug":"rust","permalink":"https://imzy.vip/tags/rust/"},{"name":"å æ˜Ÿ","slug":"å æ˜Ÿ","permalink":"https://imzy.vip/tags/%E5%8D%A0%E6%98%9F/"},{"name":"-rust -æ˜Ÿåº§","slug":"rust-æ˜Ÿåº§","permalink":"https://imzy.vip/tags/rust-%E6%98%9F%E5%BA%A7/"},{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","permalink":"https://imzy.vip/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"æ¯”ç‰¹å¸","slug":"æ¯”ç‰¹å¸","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"},{"name":"POW","slug":"POW","permalink":"https://imzy.vip/tags/POW/"},{"name":"substrate","slug":"substrate","permalink":"https://imzy.vip/tags/substrate/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://imzy.vip/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://imzy.vip/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"jni","slug":"jni","permalink":"https://imzy.vip/tags/jni/"},{"name":"ç¬¦å·å¯¹ç…§","slug":"ç¬¦å·å¯¹ç…§","permalink":"https://imzy.vip/tags/%E7%AC%A6%E5%8F%B7%E5%AF%B9%E7%85%A7/"},{"name":"å®‰å“","slug":"å®‰å“","permalink":"https://imzy.vip/tags/%E5%AE%89%E5%8D%93/"},{"name":"Android","slug":"Android","permalink":"https://imzy.vip/tags/Android/"},{"name":"äº¤å‰ç¼–è¯‘","slug":"äº¤å‰ç¼–è¯‘","permalink":"https://imzy.vip/tags/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"},{"name":"SPVé’±åŒ…","slug":"SPVé’±åŒ…","permalink":"https://imzy.vip/tags/SPV%E9%92%B1%E5%8C%85/"},{"name":"ç³»åˆ—æ–‡ç« ","slug":"ç³»åˆ—æ–‡ç« ","permalink":"https://imzy.vip/tags/%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0/"},{"name":"äº¤æ˜“","slug":"äº¤æ˜“","permalink":"https://imzy.vip/tags/%E4%BA%A4%E6%98%93/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://imzy.vip/tags/%E7%AC%94%E8%AE%B0/"},{"name":"é—®é¢˜ç»éªŒ","slug":"é—®é¢˜ç»éªŒ","permalink":"https://imzy.vip/tags/%E9%97%AE%E9%A2%98%E7%BB%8F%E9%AA%8C/"},{"name":"SPVèŠ‚ç‚¹","slug":"SPVèŠ‚ç‚¹","permalink":"https://imzy.vip/tags/SPV%E8%8A%82%E7%82%B9/"},{"name":"æ¯”ç‰¹å¸ç½‘ç»œåè®®","slug":"æ¯”ç‰¹å¸ç½‘ç»œåè®®","permalink":"https://imzy.vip/tags/%E6%AF%94%E7%89%B9%E5%B8%81%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/"},{"name":"æ€è€ƒ","slug":"æ€è€ƒ","permalink":"https://imzy.vip/tags/%E6%80%9D%E8%80%83/"},{"name":"Rust","slug":"Rust","permalink":"https://imzy.vip/tags/Rust/"},{"name":"æ•°æ®æº¢å‡º","slug":"æ•°æ®æº¢å‡º","permalink":"https://imzy.vip/tags/%E6%95%B0%E6%8D%AE%E6%BA%A2%E5%87%BA/"},{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://imzy.vip/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"å¤æ‚äº¤æ˜“","slug":"å¤æ‚äº¤æ˜“","permalink":"https://imzy.vip/tags/%E5%A4%8D%E6%9D%82%E4%BA%A4%E6%98%93/"},{"name":"fundrawtransaction","slug":"fundrawtransaction","permalink":"https://imzy.vip/tags/fundrawtransaction/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"https://imzy.vip/tags/%E6%80%BB%E7%BB%93/"},{"name":"RPC","slug":"RPC","permalink":"https://imzy.vip/tags/RPC/"},{"name":"è®¾ç½®","slug":"è®¾ç½®","permalink":"https://imzy.vip/tags/%E8%AE%BE%E7%BD%AE/"},{"name":"bitcoin","slug":"bitcoin","permalink":"https://imzy.vip/tags/bitcoin/"},{"name":"æµ‹è¯•å¸","slug":"æµ‹è¯•å¸","permalink":"https://imzy.vip/tags/%E6%B5%8B%E8%AF%95%E5%B8%81/"},{"name":"SPV","slug":"SPV","permalink":"https://imzy.vip/tags/SPV/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://imzy.vip/tags/%E5%89%8D%E7%AB%AF/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://imzy.vip/tags/%E6%8A%80%E6%9C%AF/"},{"name":"ç¼–ç¨‹ä¹‹é“","slug":"ç¼–ç¨‹ä¹‹é“","permalink":"https://imzy.vip/tags/%E7%BC%96%E7%A8%8B%E4%B9%8B%E9%81%93/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://imzy.vip/tags/JavaScript/"},{"name":"if() å’Œ ==","slug":"if-å’Œ","permalink":"https://imzy.vip/tags/if-%E5%92%8C/"},{"name":"éå†","slug":"éå†","permalink":"https://imzy.vip/tags/%E9%81%8D%E5%8E%86/"},{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"https://imzy.vip/tags/%E7%BD%91%E7%BB%9C/"},{"name":"æ€ç»´å¯¼å›¾","slug":"æ€ç»´å¯¼å›¾","permalink":"https://imzy.vip/tags/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"},{"name":"é˜…è¯»","slug":"é˜…è¯»","permalink":"https://imzy.vip/tags/%E9%98%85%E8%AF%BB/"},{"name":"actix_web","slug":"actix-web","permalink":"https://imzy.vip/tags/actix-web/"},{"name":"PostgreSQL","slug":"PostgreSQL","permalink":"https://imzy.vip/tags/PostgreSQL/"},{"name":"æ„Ÿæ‚Ÿ","slug":"æ„Ÿæ‚Ÿ","permalink":"https://imzy.vip/tags/%E6%84%9F%E6%82%9F/"}]}